{"ast":null,"code":"import * as React from 'react';\n/** @hidden */\nexport var useAnimation = function (config, deps) {\n  var offset = React.useRef(0);\n  var mount = React.useRef(false);\n  var animationFrame = React.useRef();\n  var animate = function (transition) {\n    var duration = transition.duration;\n    var start;\n    var progress;\n    var skip = offset.current && 1 - offset.current;\n    if (transition.onStart) {\n      transition.onStart();\n    }\n    var frame = function (timestamp) {\n      if (!start) {\n        start = timestamp;\n      }\n      progress = timestamp - start + 1;\n      var rate = progress / duration + skip;\n      if (rate <= 1) {\n        if (transition.onUpdate) {\n          transition.onUpdate(rate);\n        }\n        animationFrame.current = window.requestAnimationFrame(frame);\n        offset.current = rate;\n      } else {\n        if (transition.onEnd) {\n          transition.onEnd(1);\n        }\n        offset.current = 0;\n      }\n    };\n    animationFrame.current = window.requestAnimationFrame(frame);\n  };\n  React.useEffect(function () {\n    animate(config);\n    return function () {\n      if (animationFrame.current) {\n        window.cancelAnimationFrame(animationFrame.current);\n      }\n    };\n  }, deps);\n  React.useEffect(function () {\n    mount.current = true;\n  }, []);\n};","map":{"version":3,"names":["React","useAnimation","config","deps","offset","useRef","mount","animationFrame","animate","transition","duration","start","progress","skip","current","onStart","frame","timestamp","rate","onUpdate","window","requestAnimationFrame","onEnd","useEffect","cancelAnimationFrame"],"sources":["/Users/stanimiryakimov/Development/Kendo-Examples/node_modules/@progress/kendo-react-animation/dist/es/hooks/useAnimation.js"],"sourcesContent":["import * as React from 'react';\n/** @hidden */\nexport var useAnimation = function (config, deps) {\n    var offset = React.useRef(0);\n    var mount = React.useRef(false);\n    var animationFrame = React.useRef();\n    var animate = function (transition) {\n        var duration = transition.duration;\n        var start;\n        var progress;\n        var skip = offset.current && 1 - offset.current;\n        if (transition.onStart) {\n            transition.onStart();\n        }\n        var frame = function (timestamp) {\n            if (!start) {\n                start = timestamp;\n            }\n            progress = timestamp - start + 1;\n            var rate = progress / duration + skip;\n            if (rate <= 1) {\n                if (transition.onUpdate) {\n                    transition.onUpdate(rate);\n                }\n                animationFrame.current = window.requestAnimationFrame(frame);\n                offset.current = rate;\n            }\n            else {\n                if (transition.onEnd) {\n                    transition.onEnd(1);\n                }\n                offset.current = 0;\n            }\n        };\n        animationFrame.current = window.requestAnimationFrame(frame);\n    };\n    React.useEffect(function () {\n        animate(config);\n        return function () {\n            if (animationFrame.current) {\n                window.cancelAnimationFrame(animationFrame.current);\n            }\n        };\n    }, deps);\n    React.useEffect(function () {\n        mount.current = true;\n    }, []);\n};\n"],"mappings":"AAAA,OAAO,KAAKA,KAAK,MAAM,OAAO;AAC9B;AACA,OAAO,IAAIC,YAAY,GAAG,SAAAA,CAAUC,MAAM,EAAEC,IAAI,EAAE;EAC9C,IAAIC,MAAM,GAAGJ,KAAK,CAACK,MAAM,CAAC,CAAC,CAAC;EAC5B,IAAIC,KAAK,GAAGN,KAAK,CAACK,MAAM,CAAC,KAAK,CAAC;EAC/B,IAAIE,cAAc,GAAGP,KAAK,CAACK,MAAM,EAAE;EACnC,IAAIG,OAAO,GAAG,SAAAA,CAAUC,UAAU,EAAE;IAChC,IAAIC,QAAQ,GAAGD,UAAU,CAACC,QAAQ;IAClC,IAAIC,KAAK;IACT,IAAIC,QAAQ;IACZ,IAAIC,IAAI,GAAGT,MAAM,CAACU,OAAO,IAAI,CAAC,GAAGV,MAAM,CAACU,OAAO;IAC/C,IAAIL,UAAU,CAACM,OAAO,EAAE;MACpBN,UAAU,CAACM,OAAO,EAAE;IACxB;IACA,IAAIC,KAAK,GAAG,SAAAA,CAAUC,SAAS,EAAE;MAC7B,IAAI,CAACN,KAAK,EAAE;QACRA,KAAK,GAAGM,SAAS;MACrB;MACAL,QAAQ,GAAGK,SAAS,GAAGN,KAAK,GAAG,CAAC;MAChC,IAAIO,IAAI,GAAGN,QAAQ,GAAGF,QAAQ,GAAGG,IAAI;MACrC,IAAIK,IAAI,IAAI,CAAC,EAAE;QACX,IAAIT,UAAU,CAACU,QAAQ,EAAE;UACrBV,UAAU,CAACU,QAAQ,CAACD,IAAI,CAAC;QAC7B;QACAX,cAAc,CAACO,OAAO,GAAGM,MAAM,CAACC,qBAAqB,CAACL,KAAK,CAAC;QAC5DZ,MAAM,CAACU,OAAO,GAAGI,IAAI;MACzB,CAAC,MACI;QACD,IAAIT,UAAU,CAACa,KAAK,EAAE;UAClBb,UAAU,CAACa,KAAK,CAAC,CAAC,CAAC;QACvB;QACAlB,MAAM,CAACU,OAAO,GAAG,CAAC;MACtB;IACJ,CAAC;IACDP,cAAc,CAACO,OAAO,GAAGM,MAAM,CAACC,qBAAqB,CAACL,KAAK,CAAC;EAChE,CAAC;EACDhB,KAAK,CAACuB,SAAS,CAAC,YAAY;IACxBf,OAAO,CAACN,MAAM,CAAC;IACf,OAAO,YAAY;MACf,IAAIK,cAAc,CAACO,OAAO,EAAE;QACxBM,MAAM,CAACI,oBAAoB,CAACjB,cAAc,CAACO,OAAO,CAAC;MACvD;IACJ,CAAC;EACL,CAAC,EAAEX,IAAI,CAAC;EACRH,KAAK,CAACuB,SAAS,CAAC,YAAY;IACxBjB,KAAK,CAACQ,OAAO,GAAG,IAAI;EACxB,CAAC,EAAE,EAAE,CAAC;AACV,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}