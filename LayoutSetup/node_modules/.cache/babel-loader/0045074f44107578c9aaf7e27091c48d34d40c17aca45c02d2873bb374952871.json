{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext, kendoThemeMaps, svgIconPropType } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport ListFilter from '../common/ListFilter';\nimport { validatePackage, canUseDOM } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { caretAltDownIcon } from '@progress/kendo-svg-icons';\nimport { messages, comboArrowBtnAriaLabelExpand, comboArrowBtnAriaLabelCollapse } from './../messages';\nimport { provideLocalizationService } from '@progress/kendo-react-intl';\nimport { ActionSheet, ActionSheetContent, ActionSheetHeader } from '@progress/kendo-react-layout';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar MOBILE_SMALL_DEVISE = 500;\nvar MOBILE_MEDIUM_DEVISE = 768;\nvar sizeMap = kendoThemeMaps.sizeMap,\n  roundedMap = kendoThemeMaps.roundedMap;\n/** @hidden */\nvar ComboBoxWithoutContext = /** @class */function (_super) {\n  __extends(ComboBoxWithoutContext, _super);\n  function ComboBoxWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /** @hidden */\n    _this.state = {};\n    _this.base = new DropDownBase(_this);\n    _this._element = null;\n    _this._inputId = guid();\n    _this._suggested = '';\n    _this._skipBlur = false;\n    _this._input = null;\n    _this._adaptiveFilterInput = null;\n    _this.itemHeight = 0;\n    /** @hidden */\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /** @hidden */\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        virtual = _a.virtual,\n        dataItemKey = _a.dataItemKey;\n      var skip = virtual ? virtual.skip : 0;\n      var item = data[index - skip];\n      var newSelected = !areSame(item, _this.value, dataItemKey);\n      _this.triggerOnChange(item, state);\n      if (_this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n      if (newSelected) {\n        _this.base.triggerPageChangeCornerItems(item, state);\n      }\n    };\n    _this.onPopupOpened = function () {\n      setTimeout(function () {\n        if (_this.mobileMode && _this._adaptiveFilterInput) {\n          _this._skipBlur = true;\n          _this._adaptiveFilterInput.focus();\n          _this._skipBlur = false;\n        }\n      }, 300);\n    };\n    _this.componentRef = function (element) {\n      _this._element = element;\n      _this.base.wrapper = element;\n    };\n    _this.toggleBtnClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      _this.base.togglePopup(state);\n      if (!opened && _this.mobileMode) {\n        var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text || null;\n        _this.base.filterChanged(mobileText, state);\n      }\n      _this.applyState(state);\n    };\n    _this.renderMobileListFilter = function () {\n      var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text;\n      var selectedItemText = getItemValue(_this.value, _this.props.textField);\n      var mobileInputText = isPresent(mobileText) ? mobileText : selectedItemText;\n      return React.createElement(ListFilter, {\n        value: mobileInputText,\n        ref: function (filter) {\n          return _this._adaptiveFilterInput = filter && filter.input;\n        },\n        onChange: _this.handleMobileFilterChange,\n        onKeyDown: _this.onInputKeyDown,\n        size: _this.props.size,\n        rounded: _this.props.rounded,\n        fillMode: _this.props.fillMode\n      });\n    };\n    _this.handleMobileFilterChange = function (event) {\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      state.data.text = event.target.value;\n      _this.base.filterChanged(event.target.value, state);\n      _this.applyState(state);\n    };\n    _this.onScroll = function (event) {\n      var _a = _this.base,\n        vs = _a.vs,\n        list = _a.list;\n      vs.scrollHandler(event);\n      var _b = _this.props,\n        _c = _b.data,\n        data = _c === void 0 ? [] : _c,\n        groupField = _b.groupField;\n      if (!groupField || !data.length) {\n        return;\n      }\n      var itemHeight = _this.itemHeight = _this.itemHeight || (vs.enabled ? vs.itemHeight : list ? list.children[0].offsetHeight : 0);\n      var target = event.target;\n      var scrollTop = target.scrollTop - vs.skip * itemHeight;\n      var group = data[0][groupField];\n      for (var i = 1; i < data.length; i++) {\n        if (itemHeight * i > scrollTop) {\n          break;\n        }\n        if (data[i] && data[i][groupField]) {\n          group = data[i][groupField];\n        }\n      }\n      if (group !== _this.state.group) {\n        _this.setState({\n          group: group\n        });\n        if (_this.props.onGroupScroll) {\n          _this.props.onGroupScroll.call(undefined, {\n            group: group\n          });\n        }\n      }\n    };\n    _this.handleItemClick = function (index, event) {\n      _this.base.handleItemClick(index, event);\n      _this._valueDuringOnChange = undefined;\n    };\n    _this.handleBlur = function (event) {\n      if (_this.state.focused && !_this._skipBlur) {\n        var state = _this.base.initState();\n        state.data.focused = false;\n        state.events.push({\n          type: 'onBlur'\n        });\n        state.syntheticEvent = event;\n        _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n      }\n    };\n    _this.onInputClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text || null;\n      if (!opened && _this.mobileMode) {\n        var state = _this.base.initState();\n        state.syntheticEvent = event;\n        _this.base.togglePopup(state);\n        _this.base.filterChanged(mobileText, state);\n        _this.applyState(state);\n      }\n    };\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n        event.preventDefault();\n        _this.onNavigate(state, keyCode);\n        _this.applyState(state);\n        return;\n      }\n      var togglePopup = function () {\n        event.preventDefault();\n        _this.base.togglePopup(state);\n        _this.applyState(state);\n      };\n      if (opened) {\n        if (event.altKey && keyCode === Keys.up) {\n          togglePopup();\n        } else if (keyCode === Keys.enter) {\n          event.preventDefault();\n          _this.applyValueOnEnter(event.currentTarget.value, state);\n        } else if (keyCode === Keys.esc) {\n          _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n        }\n      } else if (event.altKey && keyCode === Keys.down) {\n        togglePopup();\n      }\n    };\n    _this.inputOnChange = function (event) {\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var input = event.currentTarget;\n      var value = input.value;\n      if (_this.props.suggest) {\n        var selectionAtEnd = input.selectionEnd === value.length;\n        var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n        if (!isPresent(prevText)) {\n          prevText = getItemValue(_this.value, _this.props.textField) || '';\n        }\n        var deletedSuggestion = prevText && prevText === value;\n        var deleting = prevText && prevText.length > value.length;\n        if (deletedSuggestion || deleting || !selectionAtEnd) {\n          _this._suggested = '';\n        } else {\n          _this.suggestValue(value);\n        }\n      }\n      if (_this.props.filter === undefined) {\n        state.data.text = value;\n      }\n      if (_this.state.focusedItem !== undefined) {\n        state.data.focusedItem = undefined;\n      }\n      if (!opened) {\n        _this.base.togglePopup(state);\n      }\n      _this.base.filterChanged(value, state);\n      _this.applyState(state);\n    };\n    _this.clearButtonClick = function (event) {\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      event.stopPropagation();\n      _this._suggested = '';\n      _this.base.filterChanged('', state);\n      if (_this.props.filter === undefined && _this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n      _this.triggerOnChange(null, state);\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var isAdaptive = _this.mobileMode;\n      if (opened && !isAdaptive) {\n        _this.base.togglePopup(state);\n      }\n      _this.applyState(state);\n    };\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n    validatePackage(packageMetadata);\n    return _this;\n  }\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"document\", {\n    get: function () {\n      if (!canUseDOM) {\n        return;\n      }\n      // useful only for user actions\n      return this.element && this.element.ownerDocument || document;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"element\", {\n    /** @hidden */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"mobileMode\", {\n    /**\n     * The mobile mode of the ComboBox.\n     */\n    get: function () {\n      var isAdaptive = this.state.windowWidth && this.state.windowWidth <= MOBILE_MEDIUM_DEVISE && this.props.adaptive;\n      return !!isAdaptive;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"value\", {\n    /**\n     * The value of the ComboBox.\n     */\n    get: function () {\n      if (this._valueDuringOnChange !== undefined) {\n        return this._valueDuringOnChange;\n      } else if (this.props.value !== undefined) {\n        return this.props.value;\n      } else if (this.state.value !== undefined) {\n        return this.state.value;\n      } else if (this.props.defaultValue !== undefined) {\n        return this.props.defaultValue;\n      }\n      return undefined;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"index\", {\n    /**\n     * The index of the selected item.\n     */\n    get: function () {\n      var _a = this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey;\n      var value = this.value;\n      // TO DO: deprecate it!\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the ComboBox.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the component is set.\n     */\n    get: function () {\n      // remove the undefined check when this is fixed:\n      // https://github.com/telerik/kendo-react-private/issues/252\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value !== '' && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : ComboBoxWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(ComboBoxWithoutContext.prototype, \"required\", {\n    /** @hidden */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : ComboBoxWithoutContext.defaultProps.required;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /** @hidden */\n  ComboBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var _a = this.props,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      dataItemKey = _a.dataItemKey,\n      virtual = _a.virtual;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var selectedItem = this.value;\n    this._valueOnDidUpdate = selectedItem;\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n      var selectedItemIndex = data.findIndex(function (i) {\n        return areSame(i, selectedItem, dataItemKey);\n      });\n      var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n      } else if (opening && !virtual) {\n        this.onPopupOpened();\n        this.base.scrollToItem(selectedItemIndex);\n      } else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n        this.base.scrollToItem(selectedItemIndex);\n      }\n    }\n    if (opening && this._input) {\n      this._input.focus();\n    }\n    this.setValidity();\n  };\n  /** @hidden */\n  ComboBoxWithoutContext.prototype.componentDidMount = function () {\n    var _a;\n    this.observerResize = canUseDOM && window.ResizeObserver && new window.ResizeObserver(this.calculateMedia.bind(this));\n    this.base.didMount();\n    this.setValidity();\n    if (((_a = this.document) === null || _a === void 0 ? void 0 : _a.body) && this.observerResize) {\n      this.observerResize.observe(this.document.body);\n    }\n  };\n  /** @hidden */\n  ComboBoxWithoutContext.prototype.componentWillUnmount = function () {\n    var _a;\n    if (((_a = this.document) === null || _a === void 0 ? void 0 : _a.body) && this.observerResize) {\n      this.observerResize.disconnect();\n    }\n  };\n  /** @hidden */\n  ComboBoxWithoutContext.prototype.render = function () {\n    var _a;\n    var btnAriaLabelExpand = provideLocalizationService(this).toLanguageString(comboArrowBtnAriaLabelExpand, messages[comboArrowBtnAriaLabelExpand]);\n    var btnAriaLabelCollapse = provideLocalizationService(this).toLanguageString(comboArrowBtnAriaLabelCollapse, messages[comboArrowBtnAriaLabelCollapse]);\n    var _b = this.props,\n      dir = _b.dir,\n      disabled = _b.disabled,\n      _c = _b.clearButton,\n      clearButton = _c === void 0 ? ComboBoxWithoutContext.defaultProps.clearButton : _c,\n      label = _b.label,\n      textField = _b.textField,\n      adaptive = _b.adaptive,\n      className = _b.className,\n      style = _b.style,\n      loading = _b.loading,\n      iconClassName = _b.iconClassName,\n      virtual = _b.virtual,\n      size = _b.size,\n      rounded = _b.rounded,\n      fillMode = _b.fillMode,\n      _d = _b.opened,\n      opened = _d === void 0 ? this.state.opened : _d,\n      placeholder = _b.placeholder;\n    var _e = this.state.windowWidth,\n      windowWidth = _e === void 0 ? 0 : _e;\n    var isValid = !this.validityStyles || this.validity.valid;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var inputText = isPresent(text) ? text : selectedItemText;\n    var renderClearButton = clearButton && (!!inputText || isPresent(this.value));\n    var base = this.base;\n    var vs = base.vs;\n    var id = this.props.id || this._inputId;\n    var renderAdaptive = windowWidth <= MOBILE_MEDIUM_DEVISE && adaptive;\n    vs.enabled = virtual !== undefined;\n    if (virtual !== undefined) {\n      vs.skip = virtual.skip;\n      vs.total = virtual.total;\n      vs.pageSize = virtual.pageSize;\n    }\n    var combobox = React.createElement(React.Fragment, null, React.createElement(\"span\", {\n      className: classNames('k-combobox k-input', (_a = {}, _a[\"k-input-\".concat(sizeMap[size] || size)] = size, _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded, _a[\"k-input-\".concat(fillMode)] = fillMode, _a['k-invalid'] = !isValid, _a['k-loading'] = loading, _a['k-required'] = this.required, _a['k-disabled'] = disabled, _a), className),\n      ref: this.componentRef,\n      style: !label ? style : __assign(__assign({}, style), {\n        width: undefined\n      }),\n      dir: dir\n    }, this.renderSearchBar(inputText || '', id, placeholder), renderClearButton && !loading && React.createElement(ClearButton, {\n      onClick: this.clearButtonClick,\n      key: \"clearbutton\"\n    }), loading && React.createElement(\"span\", {\n      className: \"k-icon k-i-loading k-input-loading-icon\",\n      key: \"loading\"\n    }), React.createElement(Button, {\n      tabIndex: -1,\n      type: \"button\",\n      \"aria-label\": opened ? btnAriaLabelCollapse : btnAriaLabelExpand,\n      icon: !iconClassName ? 'caret-alt-down' : undefined,\n      svgIcon: !iconClassName ? caretAltDownIcon : this.props.svgIcon,\n      iconClass: iconClassName,\n      size: size,\n      fillMode: fillMode,\n      rounded: null,\n      themeColor: 'base',\n      className: \"k-input-button\",\n      onClick: this.toggleBtnClick,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      }\n    }), !renderAdaptive && this.renderListContainer()), renderAdaptive && this.renderAdaptiveListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: inputText,\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: combobox\n    }) : combobox;\n  };\n  /** @hidden */\n  ComboBoxWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      _c = _a.virtual,\n      virtual = _c === void 0 ? {\n        skip: 0\n      } : _c;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n    var focusedIndex = this.getFocusedIndex();\n    var vs = this.base.vs;\n    var value = this.value;\n    this._suggested = '';\n    if (focusedIndex !== -1 && !isPresent(value)) {\n      this.handleItemSelect(focusedIndex, state);\n    } else if (text === '') {\n      this.handleItemSelect(0, state);\n    } else {\n      var currentIndex = virtual.skip + focusedIndex;\n      var newIndex = this.base.navigation.navigate({\n        keyCode: keyCode,\n        current: currentIndex,\n        max: (vs.enabled ? vs.total : data.length) - 1,\n        min: 0\n      });\n      if (newIndex !== undefined) {\n        this.handleItemSelect(newIndex, state);\n      }\n    }\n  };\n  ;\n  ComboBoxWithoutContext.prototype.applyValueOnEnter = function (value, state) {\n    var _a;\n    var _b = this.props,\n      _c = _b.data,\n      data = _c === void 0 ? [] : _c,\n      textField = _b.textField,\n      allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var currentValueText = getItemValue(this.value, textField);\n    var valueIndex = currentValueText === value ? this.index : getItemIndexByText(data, value, textField);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = undefined;\n    this._suggested = '';\n    if (itemSelected) {\n      // typed text match item from list\n      newSelected = data[valueIndex];\n    } else {\n      if (allowCustom) {\n        // any custom text not in list\n        newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n      } else {\n        return this.selectFocusedItem(value, state);\n      }\n    }\n    this.triggerOnChange(newSelected, state);\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n    if (this.props.filter === undefined && this.state.text !== undefined) {\n      state.data.text = undefined;\n    }\n    this.applyState(state);\n  };\n  ComboBoxWithoutContext.prototype.applyValueOnRejectSuggestions = function (text, state) {\n    var _a;\n    var _b = this.props,\n      _c = _b.data,\n      data = _c === void 0 ? [] : _c,\n      textField = _b.textField,\n      allowCustom = _b.allowCustom;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var valueItemText = getItemValue(this.value, textField);\n    var isMobileDevice = this.state.windowWidth && this.state.windowWidth <= MOBILE_MEDIUM_DEVISE;\n    this._suggested = '';\n    if (text === valueItemText || text === '' && !isPresent(valueItemText)) {\n      if (opened && !isMobileDevice) {\n        this.base.togglePopup(state);\n      }\n      return this.applyState(state);\n    }\n    var valueIndex = getItemIndexByText(data, text, textField, true);\n    var itemSelected = valueIndex !== -1;\n    var newSelected = null;\n    if (itemSelected) {\n      newSelected = data[valueIndex];\n    } else if (allowCustom) {\n      newSelected = text ? textField ? (_a = {}, _a[textField] = text, _a) : text : null;\n    }\n    this.triggerOnChange(newSelected, state);\n    if (this.state.text !== undefined) {\n      state.data.text = undefined;\n      this.base.filterChanged('', state);\n    }\n    if (opened && !isMobileDevice) {\n      this.base.togglePopup(state);\n    }\n    this.applyState(state);\n  };\n  ComboBoxWithoutContext.prototype.selectFocusedItem = function (text, state) {\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var _a = this.props,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      textField = _a.textField,\n      _c = _a.virtual,\n      virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n      _d = _a.focusedItemIndex,\n      focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var skip = virtual.skip;\n    var focusedIndex = text === '' && skip === 0 ? 0 : focusedItemIndex(data, text, textField);\n    if (focusedIndex !== -1) {\n      this.handleItemSelect(focusedIndex + skip, state);\n    } else {\n      this.triggerOnChange(null, state);\n      if (this.state.text !== undefined) {\n        state.data.text = undefined;\n      }\n    }\n    if (opened) {\n      this.base.togglePopup(state);\n    }\n    return this.applyState(state);\n  };\n  ComboBoxWithoutContext.prototype.renderAdaptiveListContainer = function () {\n    var _a;\n    var _this = this;\n    var _b = this.state.windowWidth,\n      windowWidth = _b === void 0 ? 0 : _b;\n    var _c = this.props,\n      header = _c.header,\n      footer = _c.footer,\n      size = _c.size,\n      _d = _c.data,\n      data = _d === void 0 ? [] : _d,\n      groupField = _c.groupField,\n      list = _c.list,\n      virtual = _c.virtual,\n      adaptiveTitle = _c.adaptiveTitle;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var group = this.state.group;\n    if (group === undefined && groupField !== undefined) {\n      group = getItemValue(data[0], groupField);\n    }\n    var actionSheetProps = {\n      navigatable: false,\n      navigatableElements: [],\n      expand: opened,\n      animation: true,\n      onClose: function (event) {\n        return _this.toggleBtnClick(event);\n      },\n      animationStyles: windowWidth <= MOBILE_SMALL_DEVISE ? {\n        top: 0,\n        width: '100%',\n        height: '100%'\n      } : undefined,\n      className: windowWidth <= MOBILE_SMALL_DEVISE ? 'k-adaptive-actionsheet k-actionsheet-fullscreen' : 'k-adaptive-actionsheet k-actionsheet-bottom'\n    };\n    return React.createElement(React.Fragment, null, React.createElement(ActionSheet, __assign({}, actionSheetProps), React.createElement(ActionSheetHeader, {\n      className: 'k-text-center'\n    }, React.createElement(\"div\", {\n      className: \"k-actionsheet-titlebar-group k-hbox\"\n    }, React.createElement(\"div\", {\n      className: \"k-actionsheet-title\"\n    }, React.createElement(\"div\", null, adaptiveTitle)), React.createElement(\"div\", {\n      className: \"k-actionsheet-actions\"\n    }, React.createElement(Button, {\n      tabIndex: 0,\n      \"aria-label\": \"Cancel\",\n      \"aria-disabled\": \"false\",\n      type: \"button\",\n      fillMode: \"flat\",\n      onClick: this.toggleBtnClick\n    }, React.createElement(\"span\", {\n      className: \"k-button-icon k-icon k-i-x\"\n    })))), React.createElement(\"div\", {\n      className: \"k-actionsheet-titlebar-group k-actionsheet-filter\"\n    }, this.renderMobileListFilter())), React.createElement(ActionSheetContent, {\n      className: '!k-overflow-hidden'\n    }, React.createElement(\"div\", {\n      className: 'k-list-container'\n    }, React.createElement(\"div\", {\n      className: classNames((_a = {}, _a['k-list'] = !list, _a['k-list-lg'] = true, _a['k-virtual-list'] = virtual, _a['k-data-table'] = list, _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size, _a))\n    }, header && React.createElement(\"div\", {\n      className: \"k-table-header\"\n    }, header), !list && group && React.createElement(\"div\", {\n      className: \"k-list-group-sticky-header\"\n    }, group), this.renderList(), footer && React.createElement(\"div\", {\n      className: \"k-list-footer\"\n    }, footer))))));\n  };\n  ComboBoxWithoutContext.prototype.renderListContainer = function () {\n    var _a;\n    var base = this.base;\n    var _b = this.props,\n      dir = _b.dir,\n      header = _b.header,\n      footer = _b.footer,\n      _c = _b.data,\n      data = _c === void 0 ? [] : _c,\n      groupField = _b.groupField,\n      size = _b.size,\n      list = _b.list,\n      virtual = _b.virtual;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var popupSettings = base.getPopupSettings();\n    var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n    var group = this.state.group;\n    if (group === undefined && groupField !== undefined) {\n      group = getItemValue(data[0], groupField);\n    }\n    return React.createElement(ListContainer, {\n      width: popupWidth,\n      popupSettings: {\n        animate: popupSettings.animate,\n        anchor: this.element,\n        show: opened,\n        popupClass: classNames(popupSettings.popupClass, 'k-list-container', 'k-combobox-popup'),\n        className: popupSettings.className,\n        appendTo: popupSettings.appendTo\n      },\n      dir: dir !== undefined ? dir : this.base.dirCalculated,\n      itemsCount: [data.length]\n    }, React.createElement(\"div\", {\n      className: classNames((_a = {}, _a['k-list'] = !list, _a[\"k-list-\".concat(sizeMap[size] || size)] = !list && size, _a['k-virtual-list'] = virtual, _a['k-data-table'] = list, _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size, _a))\n    }, header && React.createElement(\"div\", {\n      className: \"k-table-header\"\n    }, header), !list && group && React.createElement(\"div\", {\n      className: \"k-list-group-sticky-header\"\n    }, group), this.renderList(), footer && React.createElement(\"div\", {\n      className: \"k-list-footer\"\n    }, footer)));\n  };\n  ComboBoxWithoutContext.prototype.renderList = function () {\n    var _a;\n    var _this = this;\n    var base = this.base;\n    var _b = this.props,\n      textField = _b.textField,\n      dataItemKey = _b.dataItemKey,\n      listNoDataRender = _b.listNoDataRender,\n      itemRender = _b.itemRender,\n      _c = _b.data,\n      data = _c === void 0 ? [] : _c,\n      _d = _b.virtual,\n      virtual = _d === void 0 ? {\n        skip: 0\n      } : _d;\n    var popupSettings = base.getPopupSettings();\n    var vs = base.vs;\n    var skip = virtual.skip;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var translate = \"translateY(\".concat(vs.translate, \"px)\");\n    var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var selectedItemText = getItemValue(this.value, textField);\n    var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n    var ListComponent = this.props.list || List;\n    return React.createElement(ListComponent, {\n      id: base.listBoxId,\n      virtual: Boolean(virtual),\n      show: opened,\n      data: data,\n      focusedIndex: focusedIndex,\n      value: value,\n      textField: textField,\n      valueField: dataItemKey,\n      groupField: this.props.groupField,\n      optionsGuid: base.guid,\n      listRef: function (list) {\n        vs.list = _this.base.list = list;\n        _this.itemHeight = 0;\n      },\n      wrapperStyle: this.state.windowWidth && this.state.windowWidth > MOBILE_MEDIUM_DEVISE ? {\n        maxHeight: popupSettings.height\n      } : {},\n      wrapperCssClass: classNames('k-list-content', (_a = {}, _a['k-list-scroller'] = !virtual, _a)),\n      listStyle: vs.enabled ? {\n        transform: translate\n      } : undefined,\n      key: \"listkey\",\n      skip: skip,\n      onClick: this.handleItemClick,\n      itemRender: itemRender,\n      noDataRender: listNoDataRender,\n      onMouseDown: function (e) {\n        return e.preventDefault();\n      },\n      onScroll: this.onScroll,\n      wrapperRef: vs.scrollerRef,\n      scroller: this.base.renderScrollElement()\n    });\n  };\n  ComboBoxWithoutContext.prototype.renderSearchBar = function (text, id, placeholder) {\n    var _this = this;\n    var _a = this.props,\n      tabIndex = _a.tabIndex,\n      disabled = _a.disabled,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      dataItemKey = _a.dataItemKey,\n      _c = _a.virtual,\n      virtual = _c === void 0 ? {\n        skip: 0\n      } : _c;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var value = this.value;\n    var selectedIndex = Math.max(0, data.findIndex(function (i) {\n      return areSame(i, value, dataItemKey);\n    }));\n    if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n      this._suggested = '';\n    }\n    return React.createElement(SearchBar, {\n      id: id,\n      readOnly: opened && this.mobileMode,\n      placeholder: placeholder,\n      tabIndex: tabIndex,\n      accessKey: this.props.accessKey,\n      value: text + this._suggested,\n      suggestedText: this._suggested,\n      ref: function (el) {\n        return _this._input = el && el.input;\n      },\n      onClick: this.onInputClick,\n      onKeyDown: this.onInputKeyDown,\n      onChange: this.inputOnChange,\n      onFocus: this.base.handleFocus,\n      onBlur: this.handleBlur,\n      disabled: disabled,\n      expanded: opened,\n      owns: this.base.listBoxId,\n      activedescendant: \"option-\".concat(this.base.guid, \"-\").concat(selectedIndex + virtual.skip),\n      role: \"combobox\",\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaDescribedBy: this.props.ariaDescribedBy,\n      ariaRequired: this.required,\n      render: this.props.valueRender\n    });\n  };\n  ComboBoxWithoutContext.prototype.triggerOnChange = function (item, state) {\n    var value = this.value;\n    if (!isPresent(value) && !isPresent(item) || areSame(value, item, this.props.dataItemKey)) {\n      return;\n    }\n    if (this.props.value === undefined) {\n      state.data.value = item;\n    }\n    this._valueDuringOnChange = item;\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n  ComboBoxWithoutContext.prototype.getFocusedIndex = function () {\n    var value = this.value;\n    var _a = this.props,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      textField = _a.textField,\n      dataItemKey = _a.dataItemKey,\n      _c = _a.virtual,\n      virtual = _c === void 0 ? {\n        skip: 0\n      } : _c,\n      _d = _a.focusedItemIndex,\n      focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n    var text = this.props.filter ? this.props.filter : this.state.text;\n    if (isPresent(value) && text === undefined) {\n      return data.findIndex(function (i) {\n        return areSame(i, value, dataItemKey);\n      });\n    } else if (text) {\n      return focusedItemIndex(data, text, textField);\n    } else {\n      return virtual.skip === 0 ? 0 : -1;\n    }\n  };\n  ComboBoxWithoutContext.prototype.suggestValue = function (value) {\n    var _a = this.props,\n      data = _a.data,\n      textField = _a.textField;\n    this._suggested = suggestValue(value, data, textField);\n  };\n  ComboBoxWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueDuringOnChange = undefined;\n  };\n  ComboBoxWithoutContext.prototype.calculateMedia = function (entries) {\n    for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n      var entry = entries_1[_i];\n      this.setState({\n        windowWidth: entry.target.clientWidth\n      });\n    }\n    ;\n  };\n  ;\n  ComboBoxWithoutContext.displayName = 'ComboBox';\n  /** @hidden */\n  ComboBoxWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), {\n    size: PropTypes.oneOf([null, 'small', 'medium', 'large']),\n    rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']),\n    fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline']),\n    dataItemKey: PropTypes.string,\n    groupField: PropTypes.string,\n    suggest: PropTypes.bool,\n    placeholder: PropTypes.string,\n    allowCustom: PropTypes.bool,\n    clearButton: PropTypes.bool,\n    iconClassName: PropTypes.string,\n    svgIcon: svgIconPropType,\n    validationMessage: PropTypes.string,\n    required: PropTypes.bool,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string,\n    list: PropTypes.any,\n    valueRender: PropTypes.func\n  });\n  /** @hidden */\n  ComboBoxWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), {\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid',\n    allowCustom: false,\n    clearButton: true,\n    required: false\n  });\n  return ComboBoxWithoutContext;\n}(React.Component);\nexport { ComboBoxWithoutContext };\n/**\n * Represents the PropsContext of the `ComboBox` component.\n * Used for global configuration of all `ComboBox` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var ComboBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * Accepts properties of type [ComboBoxProps]({% slug api_dropdowns_comboboxprops %}).\n * Obtaining the `ref` returns an object of type [ComboBoxHandle]({% slug api_dropdowns_comboboxhandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ComboBox = withPropsContext(ComboBoxPropsContext, ComboBoxWithoutContext);\nComboBox.displayName = 'KendoReactComboBox';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","React","PropTypes","DropDownBase","guid","classNames","Keys","createPropsContext","withPropsContext","kendoThemeMaps","svgIconPropType","FloatingLabel","areSame","itemIndexStartsWith","getItemIndexByText","getItemValue","isPresent","suggestValue","SearchBar","ListContainer","List","ListFilter","validatePackage","canUseDOM","packageMetadata","ClearButton","Button","caretAltDownIcon","messages","comboArrowBtnAriaLabelExpand","comboArrowBtnAriaLabelCollapse","provideLocalizationService","ActionSheet","ActionSheetContent","ActionSheetHeader","VALIDATION_MESSAGE","MOBILE_SMALL_DEVISE","MOBILE_MEDIUM_DEVISE","sizeMap","roundedMap","ComboBoxWithoutContext","_super","props","_this","state","base","_element","_inputId","_suggested","_skipBlur","_input","_adaptiveFilterInput","itemHeight","focus","handleItemSelect","index","_a","_b","data","virtual","dataItemKey","skip","item","newSelected","value","triggerOnChange","text","undefined","triggerPageChangeCornerItems","onPopupOpened","setTimeout","mobileMode","componentRef","element","wrapper","toggleBtnClick","event","opened","initState","syntheticEvent","togglePopup","mobileText","adaptiveFilter","filterChanged","applyState","renderMobileListFilter","selectedItemText","textField","mobileInputText","createElement","ref","filter","input","onChange","handleMobileFilterChange","onKeyDown","onInputKeyDown","size","rounded","fillMode","target","onScroll","vs","list","scrollHandler","_c","groupField","enabled","children","offsetHeight","scrollTop","group","setState","onGroupScroll","handleItemClick","_valueDuringOnChange","handleBlur","focused","events","push","type","applyValueOnRejectSuggestions","currentTarget","onInputClick","keyCode","altKey","up","down","preventDefault","onNavigate","enter","applyValueOnEnter","esc","inputOnChange","suggest","selectionAtEnd","selectionEnd","prevText","deletedSuggestion","deleting","focusedItem","clearButtonClick","stopPropagation","isAdaptive","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","ownerDocument","document","enumerable","configurable","windowWidth","adaptive","defaultValue","findIndex","name","customError","isValid","required","valueMissing","validityStyles","defaultProps","componentDidUpdate","prevProps","prevState","prevTotal","total","prevOpened","opening","selectedItem","_valueOnDidUpdate","calcScrollElementHeight","reset","prevSelectedItem","selectedItemIndex","selectedItemChanged","scrollToVirtualItem","scrollToItem","componentDidMount","observerResize","window","ResizeObserver","calculateMedia","bind","didMount","body","observe","componentWillUnmount","disconnect","render","btnAriaLabelExpand","toLanguageString","btnAriaLabelCollapse","dir","disabled","clearButton","label","className","style","loading","iconClassName","_d","placeholder","_e","inputText","renderClearButton","id","renderAdaptive","pageSize","combobox","Fragment","concat","width","renderSearchBar","onClick","key","tabIndex","icon","svgIcon","iconClass","themeColor","onMouseDown","e","renderListContainer","renderAdaptiveListContainer","editorId","editorValue","editorValid","editorDisabled","focusedIndex","getFocusedIndex","currentIndex","newIndex","navigation","navigate","current","max","min","allowCustom","currentValueText","valueIndex","itemSelected","selectFocusedItem","valueItemText","isMobileDevice","focusedItemIndex","header","footer","adaptiveTitle","actionSheetProps","navigatable","navigatableElements","expand","animation","onClose","animationStyles","top","height","renderList","popupSettings","getPopupSettings","popupWidth","animate","anchor","show","popupClass","appendTo","dirCalculated","itemsCount","listNoDataRender","itemRender","translate","ListComponent","listBoxId","Boolean","valueField","optionsGuid","listRef","wrapperStyle","maxHeight","wrapperCssClass","listStyle","transform","noDataRender","wrapperRef","scrollerRef","scroller","renderScrollElement","selectedIndex","Math","readOnly","accessKey","suggestedText","el","onFocus","handleFocus","onBlur","expanded","owns","activedescendant","role","ariaLabelledBy","ariaDescribedBy","ariaRequired","valueRender","entries","_i","entries_1","entry","clientWidth","displayName","propTypes","oneOf","string","bool","any","func","Component","ComboBoxPropsContext","ComboBox"],"sources":["/Users/stanimiryakimov/Development/Kendo-Examples/kendo-drawer/node_modules/@progress/kendo-react-dropdowns/dist/es/ComboBox/ComboBox.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport DropDownBase from '../common/DropDownBase';\nimport { guid, classNames, Keys, createPropsContext, withPropsContext, kendoThemeMaps, svgIconPropType } from '@progress/kendo-react-common';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport { areSame, itemIndexStartsWith, getItemIndexByText, getItemValue, isPresent, suggestValue } from '../common/utils';\nimport SearchBar from '../common/SearchBar';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport ListFilter from '../common/ListFilter';\nimport { validatePackage, canUseDOM } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nimport { Button } from '@progress/kendo-react-buttons';\nimport { caretAltDownIcon } from '@progress/kendo-svg-icons';\nimport { messages, comboArrowBtnAriaLabelExpand, comboArrowBtnAriaLabelCollapse } from './../messages';\nimport { provideLocalizationService } from '@progress/kendo-react-intl';\nimport { ActionSheet, ActionSheetContent, ActionSheetHeader } from '@progress/kendo-react-layout';\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar MOBILE_SMALL_DEVISE = 500;\nvar MOBILE_MEDIUM_DEVISE = 768;\nvar sizeMap = kendoThemeMaps.sizeMap, roundedMap = kendoThemeMaps.roundedMap;\n/** @hidden */\nvar ComboBoxWithoutContext = /** @class */ (function (_super) {\n    __extends(ComboBoxWithoutContext, _super);\n    function ComboBoxWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /** @hidden */\n        _this.state = {};\n        _this.base = new DropDownBase(_this);\n        _this._element = null;\n        _this._inputId = guid();\n        _this._suggested = '';\n        _this._skipBlur = false;\n        _this._input = null;\n        _this._adaptiveFilterInput = null;\n        _this.itemHeight = 0;\n        /** @hidden */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /** @hidden */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual, dataItemKey = _a.dataItemKey;\n            var skip = virtual ? virtual.skip : 0;\n            var item = data[index - skip];\n            var newSelected = !areSame(item, _this.value, dataItemKey);\n            _this.triggerOnChange(item, state);\n            if (_this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            if (newSelected) {\n                _this.base.triggerPageChangeCornerItems(item, state);\n            }\n        };\n        _this.onPopupOpened = function () {\n            setTimeout(function () {\n                if (_this.mobileMode && _this._adaptiveFilterInput) {\n                    _this._skipBlur = true;\n                    _this._adaptiveFilterInput.focus();\n                    _this._skipBlur = false;\n                }\n            }, 300);\n        };\n        _this.componentRef = function (element) {\n            _this._element = element;\n            _this.base.wrapper = element;\n        };\n        _this.toggleBtnClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.base.togglePopup(state);\n            if (!opened && _this.mobileMode) {\n                var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text || null;\n                _this.base.filterChanged(mobileText, state);\n            }\n            _this.applyState(state);\n        };\n        _this.renderMobileListFilter = function () {\n            var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text;\n            var selectedItemText = getItemValue(_this.value, _this.props.textField);\n            var mobileInputText = isPresent(mobileText) ? mobileText : selectedItemText;\n            return (React.createElement(ListFilter, { value: mobileInputText, ref: function (filter) { return _this._adaptiveFilterInput = filter && filter.input; }, onChange: _this.handleMobileFilterChange, onKeyDown: _this.onInputKeyDown, size: _this.props.size, rounded: _this.props.rounded, fillMode: _this.props.fillMode }));\n        };\n        _this.handleMobileFilterChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            state.data.text = event.target.value;\n            _this.base.filterChanged(event.target.value, state);\n            _this.applyState(state);\n        };\n        _this.onScroll = function (event) {\n            var _a = _this.base, vs = _a.vs, list = _a.list;\n            vs.scrollHandler(event);\n            var _b = _this.props, _c = _b.data, data = _c === void 0 ? [] : _c, groupField = _b.groupField;\n            if (!groupField || !data.length) {\n                return;\n            }\n            var itemHeight = _this.itemHeight =\n                _this.itemHeight || (vs.enabled ? vs.itemHeight : (list ? list.children[0].offsetHeight : 0));\n            var target = event.target;\n            var scrollTop = target.scrollTop - (vs.skip * itemHeight);\n            var group = data[0][groupField];\n            for (var i = 1; i < data.length; i++) {\n                if (itemHeight * i > scrollTop) {\n                    break;\n                }\n                if (data[i] && data[i][groupField]) {\n                    group = data[i][groupField];\n                }\n            }\n            if (group !== _this.state.group) {\n                _this.setState({\n                    group: group\n                });\n                if (_this.props.onGroupScroll) {\n                    _this.props.onGroupScroll.call(undefined, { group: group });\n                }\n            }\n        };\n        _this.handleItemClick = function (index, event) {\n            _this.base.handleItemClick(index, event);\n            _this._valueDuringOnChange = undefined;\n        };\n        _this.handleBlur = function (event) {\n            if (_this.state.focused && !_this._skipBlur) {\n                var state = _this.base.initState();\n                state.data.focused = false;\n                state.events.push({ type: 'onBlur' });\n                state.syntheticEvent = event;\n                _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n            }\n        };\n        _this.onInputClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var mobileText = _this.props.adaptiveFilter !== undefined ? _this.props.adaptiveFilter : _this.state.text || null;\n            if (!opened && _this.mobileMode) {\n                var state = _this.base.initState();\n                state.syntheticEvent = event;\n                _this.base.togglePopup(state);\n                _this.base.filterChanged(mobileText, state);\n                _this.applyState(state);\n            }\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!event.altKey && (keyCode === Keys.up || keyCode === Keys.down)) {\n                event.preventDefault();\n                _this.onNavigate(state, keyCode);\n                _this.applyState(state);\n                return;\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    _this.applyValueOnEnter(event.currentTarget.value, state);\n                }\n                else if (keyCode === Keys.esc) {\n                    _this.applyValueOnRejectSuggestions(event.currentTarget.value, state);\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.inputOnChange = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = event.currentTarget;\n            var value = input.value;\n            if (_this.props.suggest) {\n                var selectionAtEnd = input.selectionEnd === value.length;\n                var prevText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n                if (!isPresent(prevText)) {\n                    prevText = getItemValue(_this.value, _this.props.textField) || '';\n                }\n                var deletedSuggestion = prevText && prevText === value;\n                var deleting = prevText && prevText.length > value.length;\n                if (deletedSuggestion || deleting || !selectionAtEnd) {\n                    _this._suggested = '';\n                }\n                else {\n                    _this.suggestValue(value);\n                }\n            }\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            if (_this.state.focusedItem !== undefined) {\n                state.data.focusedItem = undefined;\n            }\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            _this._suggested = '';\n            _this.base.filterChanged('', state);\n            if (_this.props.filter === undefined && _this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n            _this.triggerOnChange(null, state);\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var isAdaptive = _this.mobileMode;\n            if (opened && !isAdaptive) {\n                _this.base.togglePopup(state);\n            }\n            _this.applyState(state);\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"document\", {\n        get: function () {\n            if (!canUseDOM) {\n                return;\n            }\n            // useful only for user actions\n            return (this.element && this.element.ownerDocument) || document;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"element\", {\n        /** @hidden */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"mobileMode\", {\n        /**\n         * The mobile mode of the ComboBox.\n         */\n        get: function () {\n            var isAdaptive = this.state.windowWidth && this.state.windowWidth <= MOBILE_MEDIUM_DEVISE && this.props.adaptive;\n            return !!isAdaptive;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"value\", {\n        /**\n         * The value of the ComboBox.\n         */\n        get: function () {\n            if (this._valueDuringOnChange !== undefined) {\n                return this._valueDuringOnChange;\n            }\n            else if (this.props.value !== undefined) {\n                return this.props.value;\n            }\n            else if (this.state.value !== undefined) {\n                return this.state.value;\n            }\n            else if (this.props.defaultValue !== undefined) {\n                return this.props.defaultValue;\n            }\n            return undefined;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"index\", {\n        /**\n         * The index of the selected item.\n         */\n        get: function () {\n            var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey;\n            var value = this.value;\n            // TO DO: deprecate it!\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the ComboBox.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the component is set.\n         */\n        get: function () {\n            // remove the undefined check when this is fixed:\n            // https://github.com/telerik/kendo-react-private/issues/252\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value !== '' && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : ComboBoxWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ComboBoxWithoutContext.prototype, \"required\", {\n        /** @hidden */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : ComboBoxWithoutContext.defaultProps.required;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /** @hidden */\n    ComboBoxWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var selectedItem = this.value;\n        this._valueOnDidUpdate = selectedItem;\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var prevSelectedItem = prevProps.value !== undefined ? prevProps.value : prevState.value;\n            var selectedItemIndex = data.findIndex(function (i) { return areSame(i, selectedItem, dataItemKey); });\n            var selectedItemChanged = !areSame(prevSelectedItem, selectedItem, dataItemKey);\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, selectedItemIndex);\n            }\n            else if (opening && !virtual) {\n                this.onPopupOpened();\n                this.base.scrollToItem(selectedItemIndex);\n            }\n            else if (opened && prevOpened && selectedItem && selectedItemChanged) {\n                this.base.scrollToItem(selectedItemIndex);\n            }\n        }\n        if (opening && this._input) {\n            this._input.focus();\n        }\n        this.setValidity();\n    };\n    /** @hidden */\n    ComboBoxWithoutContext.prototype.componentDidMount = function () {\n        var _a;\n        this.observerResize = canUseDOM && window.ResizeObserver && new window.ResizeObserver(this.calculateMedia.bind(this));\n        this.base.didMount();\n        this.setValidity();\n        if (((_a = this.document) === null || _a === void 0 ? void 0 : _a.body) && this.observerResize) {\n            this.observerResize.observe(this.document.body);\n        }\n    };\n    /** @hidden */\n    ComboBoxWithoutContext.prototype.componentWillUnmount = function () {\n        var _a;\n        if (((_a = this.document) === null || _a === void 0 ? void 0 : _a.body) && this.observerResize) {\n            this.observerResize.disconnect();\n        }\n    };\n    /** @hidden */\n    ComboBoxWithoutContext.prototype.render = function () {\n        var _a;\n        var btnAriaLabelExpand = provideLocalizationService(this).toLanguageString(comboArrowBtnAriaLabelExpand, messages[comboArrowBtnAriaLabelExpand]);\n        var btnAriaLabelCollapse = provideLocalizationService(this).toLanguageString(comboArrowBtnAriaLabelCollapse, messages[comboArrowBtnAriaLabelCollapse]);\n        var _b = this.props, dir = _b.dir, disabled = _b.disabled, _c = _b.clearButton, clearButton = _c === void 0 ? ComboBoxWithoutContext.defaultProps.clearButton : _c, label = _b.label, textField = _b.textField, adaptive = _b.adaptive, className = _b.className, style = _b.style, loading = _b.loading, iconClassName = _b.iconClassName, virtual = _b.virtual, size = _b.size, rounded = _b.rounded, fillMode = _b.fillMode, _d = _b.opened, opened = _d === void 0 ? this.state.opened : _d, placeholder = _b.placeholder;\n        var _e = this.state.windowWidth, windowWidth = _e === void 0 ? 0 : _e;\n        var isValid = !this.validityStyles || this.validity.valid;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var inputText = isPresent(text) ? text : selectedItemText;\n        var renderClearButton = clearButton && (!!(inputText) || isPresent(this.value));\n        var base = this.base;\n        var vs = base.vs;\n        var id = this.props.id || this._inputId;\n        var renderAdaptive = windowWidth <= MOBILE_MEDIUM_DEVISE && adaptive;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var combobox = (React.createElement(React.Fragment, null,\n            React.createElement(\"span\", { className: classNames('k-combobox k-input', (_a = {},\n                    _a[\"k-input-\".concat(sizeMap[size] || size)] = size,\n                    _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded,\n                    _a[\"k-input-\".concat(fillMode)] = fillMode,\n                    _a['k-invalid'] = !isValid,\n                    _a['k-loading'] = loading,\n                    _a['k-required'] = this.required,\n                    _a['k-disabled'] = disabled,\n                    _a), className), ref: this.componentRef, style: !label ? style : __assign(__assign({}, style), { width: undefined }), dir: dir },\n                this.renderSearchBar(inputText || '', id, placeholder),\n                renderClearButton && !loading && React.createElement(ClearButton, { onClick: this.clearButtonClick, key: \"clearbutton\" }),\n                loading && React.createElement(\"span\", { className: \"k-icon k-i-loading k-input-loading-icon\", key: \"loading\" }),\n                React.createElement(Button, { tabIndex: -1, type: \"button\", \"aria-label\": opened ? btnAriaLabelCollapse : btnAriaLabelExpand, icon: !iconClassName ? 'caret-alt-down' : undefined, svgIcon: !iconClassName ? caretAltDownIcon : this.props.svgIcon, iconClass: iconClassName, size: size, fillMode: fillMode, rounded: null, themeColor: 'base', className: \"k-input-button\", onClick: this.toggleBtnClick, onMouseDown: function (e) { return e.preventDefault(); } }),\n                !renderAdaptive && this.renderListContainer()),\n            renderAdaptive && this.renderAdaptiveListContainer()));\n        return label\n            ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: inputText, editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: combobox }))\n            : combobox;\n    };\n    /** @hidden */\n    ComboBoxWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        var focusedIndex = this.getFocusedIndex();\n        var vs = this.base.vs;\n        var value = this.value;\n        this._suggested = '';\n        if (focusedIndex !== -1 && !isPresent(value)) {\n            this.handleItemSelect(focusedIndex, state);\n        }\n        else if (text === '') {\n            this.handleItemSelect(0, state);\n        }\n        else {\n            var currentIndex = virtual.skip + focusedIndex;\n            var newIndex = this.base.navigation.navigate({\n                keyCode: keyCode,\n                current: currentIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: 0\n            });\n            if (newIndex !== undefined) {\n                this.handleItemSelect(newIndex, state);\n            }\n        }\n    };\n    ;\n    ComboBoxWithoutContext.prototype.applyValueOnEnter = function (value, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var currentValueText = getItemValue(this.value, textField);\n        var valueIndex = currentValueText === value ?\n            this.index : getItemIndexByText(data, value, textField);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = undefined;\n        this._suggested = '';\n        if (itemSelected) { // typed text match item from list\n            newSelected = data[valueIndex];\n        }\n        else {\n            if (allowCustom) { // any custom text not in list\n                newSelected = textField !== undefined ? (_a = {}, _a[textField] = value, _a) : value;\n            }\n            else {\n                return this.selectFocusedItem(value, state);\n            }\n        }\n        this.triggerOnChange(newSelected, state);\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        if (this.props.filter === undefined && this.state.text !== undefined) {\n            state.data.text = undefined;\n        }\n        this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.applyValueOnRejectSuggestions = function (text, state) {\n        var _a;\n        var _b = this.props, _c = _b.data, data = _c === void 0 ? [] : _c, textField = _b.textField, allowCustom = _b.allowCustom;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var valueItemText = getItemValue(this.value, textField);\n        var isMobileDevice = this.state.windowWidth && this.state.windowWidth <= MOBILE_MEDIUM_DEVISE;\n        this._suggested = '';\n        if (text === valueItemText || (text === '' && !isPresent(valueItemText))) {\n            if (opened && !isMobileDevice) {\n                this.base.togglePopup(state);\n            }\n            return this.applyState(state);\n        }\n        var valueIndex = getItemIndexByText(data, text, textField, true);\n        var itemSelected = valueIndex !== -1;\n        var newSelected = null;\n        if (itemSelected) {\n            newSelected = data[valueIndex];\n        }\n        else if (allowCustom) {\n            newSelected = text ? (textField ? (_a = {}, _a[textField] = text, _a) : text) : null;\n        }\n        this.triggerOnChange(newSelected, state);\n        if (this.state.text !== undefined) {\n            state.data.text = undefined;\n            this.base.filterChanged('', state);\n        }\n        if (opened && !isMobileDevice) {\n            this.base.togglePopup(state);\n        }\n        this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.selectFocusedItem = function (text, state) {\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var skip = virtual.skip;\n        var focusedIndex = (text === '' && skip === 0) ? 0 :\n            focusedItemIndex(data, text, textField);\n        if (focusedIndex !== -1) {\n            this.handleItemSelect(focusedIndex + skip, state);\n        }\n        else {\n            this.triggerOnChange(null, state);\n            if (this.state.text !== undefined) {\n                state.data.text = undefined;\n            }\n        }\n        if (opened) {\n            this.base.togglePopup(state);\n        }\n        return this.applyState(state);\n    };\n    ComboBoxWithoutContext.prototype.renderAdaptiveListContainer = function () {\n        var _a;\n        var _this = this;\n        var _b = this.state.windowWidth, windowWidth = _b === void 0 ? 0 : _b;\n        var _c = this.props, header = _c.header, footer = _c.footer, size = _c.size, _d = _c.data, data = _d === void 0 ? [] : _d, groupField = _c.groupField, list = _c.list, virtual = _c.virtual, adaptiveTitle = _c.adaptiveTitle;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var group = this.state.group;\n        if (group === undefined && groupField !== undefined) {\n            group = getItemValue(data[0], groupField);\n        }\n        var actionSheetProps = {\n            navigatable: false,\n            navigatableElements: [],\n            expand: opened,\n            animation: true,\n            onClose: function (event) { return _this.toggleBtnClick(event); },\n            animationStyles: windowWidth <= MOBILE_SMALL_DEVISE ? { top: 0, width: '100%', height: '100%' } : undefined,\n            className: windowWidth <= MOBILE_SMALL_DEVISE\n                ? 'k-adaptive-actionsheet k-actionsheet-fullscreen'\n                : 'k-adaptive-actionsheet k-actionsheet-bottom'\n        };\n        return (React.createElement(React.Fragment, null,\n            React.createElement(ActionSheet, __assign({}, actionSheetProps),\n                React.createElement(ActionSheetHeader, { className: 'k-text-center' },\n                    React.createElement(\"div\", { className: \"k-actionsheet-titlebar-group k-hbox\" },\n                        React.createElement(\"div\", { className: \"k-actionsheet-title\" },\n                            React.createElement(\"div\", null, adaptiveTitle)),\n                        React.createElement(\"div\", { className: \"k-actionsheet-actions\" },\n                            React.createElement(Button, { tabIndex: 0, \"aria-label\": \"Cancel\", \"aria-disabled\": \"false\", type: \"button\", fillMode: \"flat\", onClick: this.toggleBtnClick },\n                                React.createElement(\"span\", { className: \"k-button-icon k-icon k-i-x\" })))),\n                    React.createElement(\"div\", { className: \"k-actionsheet-titlebar-group k-actionsheet-filter\" }, this.renderMobileListFilter())),\n                React.createElement(ActionSheetContent, { className: '!k-overflow-hidden' },\n                    React.createElement(\"div\", { className: 'k-list-container' },\n                        React.createElement(\"div\", { className: classNames((_a = {},\n                                _a['k-list'] = !list,\n                                _a['k-list-lg'] = true,\n                                _a['k-virtual-list'] = virtual,\n                                _a['k-data-table'] = list,\n                                _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size,\n                                _a)) },\n                            header && React.createElement(\"div\", { className: \"k-table-header\" }, header),\n                            !list && group && React.createElement(\"div\", { className: \"k-list-group-sticky-header\" }, group),\n                            this.renderList(),\n                            footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer)))))));\n    };\n    ComboBoxWithoutContext.prototype.renderListContainer = function () {\n        var _a;\n        var base = this.base;\n        var _b = this.props, dir = _b.dir, header = _b.header, footer = _b.footer, _c = _b.data, data = _c === void 0 ? [] : _c, groupField = _b.groupField, size = _b.size, list = _b.list, virtual = _b.virtual;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var popupSettings = base.getPopupSettings();\n        var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n        var group = this.state.group;\n        if (group === undefined && groupField !== undefined) {\n            group = getItemValue(data[0], groupField);\n        }\n        return (React.createElement(ListContainer, { width: popupWidth, popupSettings: {\n                animate: popupSettings.animate,\n                anchor: this.element,\n                show: opened,\n                popupClass: classNames(popupSettings.popupClass, 'k-list-container', 'k-combobox-popup'),\n                className: popupSettings.className,\n                appendTo: popupSettings.appendTo\n            }, dir: dir !== undefined ? dir : this.base.dirCalculated, itemsCount: [data.length] },\n            React.createElement(\"div\", { className: classNames((_a = {},\n                    _a['k-list'] = !list,\n                    _a[\"k-list-\".concat(sizeMap[size] || size)] = !list && size,\n                    _a['k-virtual-list'] = virtual,\n                    _a['k-data-table'] = list,\n                    _a[\"k-table-\".concat(sizeMap[size] || size)] = list && size,\n                    _a)) },\n                header && React.createElement(\"div\", { className: \"k-table-header\" }, header),\n                !list && group && React.createElement(\"div\", { className: \"k-list-group-sticky-header\" }, group),\n                this.renderList(),\n                footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer))));\n    };\n    ComboBoxWithoutContext.prototype.renderList = function () {\n        var _a;\n        var _this = this;\n        var base = this.base;\n        var _b = this.props, textField = _b.textField, dataItemKey = _b.dataItemKey, listNoDataRender = _b.listNoDataRender, itemRender = _b.itemRender, _c = _b.data, data = _c === void 0 ? [] : _c, _d = _b.virtual, virtual = _d === void 0 ? { skip: 0 } : _d;\n        var popupSettings = base.getPopupSettings();\n        var vs = base.vs;\n        var skip = virtual.skip;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var translate = \"translateY(\".concat(vs.translate, \"px)\");\n        var focusedIndex = opened ? this.getFocusedIndex() : undefined;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var selectedItemText = getItemValue(this.value, textField);\n        var value = isPresent(text) && text !== selectedItemText ? null : this.value;\n        var ListComponent = this.props.list || List;\n        return (React.createElement(ListComponent, { id: base.listBoxId, virtual: Boolean(virtual), show: opened, data: data, focusedIndex: focusedIndex, value: value, textField: textField, valueField: dataItemKey, groupField: this.props.groupField, optionsGuid: base.guid, listRef: function (list) { vs.list = _this.base.list = list; _this.itemHeight = 0; }, wrapperStyle: (this.state.windowWidth && this.state.windowWidth > MOBILE_MEDIUM_DEVISE)\n                ? { maxHeight: popupSettings.height }\n                : {}, wrapperCssClass: classNames('k-list-content', (_a = {},\n                _a['k-list-scroller'] = !virtual,\n                _a)), listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listkey\", skip: skip, onClick: this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: function (e) { return e.preventDefault(); }, onScroll: this.onScroll, wrapperRef: vs.scrollerRef, scroller: this.base.renderScrollElement() }));\n    };\n    ComboBoxWithoutContext.prototype.renderSearchBar = function (text, id, placeholder) {\n        var _this = this;\n        var _a = this.props, tabIndex = _a.tabIndex, disabled = _a.disabled, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var value = this.value;\n        var selectedIndex = Math.max(0, data.findIndex(function (i) { return areSame(i, value, dataItemKey); }));\n        if (this._suggested && !areSame(this._valueOnDidUpdate, value, dataItemKey)) {\n            this._suggested = '';\n        }\n        return (React.createElement(SearchBar, { id: id, readOnly: (opened && this.mobileMode), placeholder: placeholder, tabIndex: tabIndex, accessKey: this.props.accessKey, value: text + this._suggested, suggestedText: this._suggested, ref: function (el) { return _this._input = el && el.input; }, onClick: this.onInputClick, onKeyDown: this.onInputKeyDown, onChange: this.inputOnChange, onFocus: this.base.handleFocus, onBlur: this.handleBlur, disabled: disabled, expanded: opened, owns: this.base.listBoxId, activedescendant: \"option-\".concat(this.base.guid, \"-\").concat(selectedIndex + virtual.skip), role: \"combobox\", ariaLabelledBy: this.props.ariaLabelledBy, ariaDescribedBy: this.props.ariaDescribedBy, ariaRequired: this.required, render: this.props.valueRender }));\n    };\n    ComboBoxWithoutContext.prototype.triggerOnChange = function (item, state) {\n        var value = this.value;\n        if ((!isPresent(value) && !isPresent(item)) || areSame(value, item, this.props.dataItemKey)) {\n            return;\n        }\n        if (this.props.value === undefined) {\n            state.data.value = item;\n        }\n        this._valueDuringOnChange = item;\n        state.events.push({ type: 'onChange' });\n    };\n    ComboBoxWithoutContext.prototype.getFocusedIndex = function () {\n        var value = this.value;\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, dataItemKey = _a.dataItemKey, _c = _a.virtual, virtual = _c === void 0 ? { skip: 0 } : _c, _d = _a.focusedItemIndex, focusedItemIndex = _d === void 0 ? itemIndexStartsWith : _d;\n        var text = this.props.filter ? this.props.filter : this.state.text;\n        if (isPresent(value) && text === undefined) {\n            return data.findIndex(function (i) { return areSame(i, value, dataItemKey); });\n        }\n        else if (text) {\n            return focusedItemIndex(data, text, textField);\n        }\n        else {\n            return virtual.skip === 0 ? 0 : -1;\n        }\n    };\n    ComboBoxWithoutContext.prototype.suggestValue = function (value) {\n        var _a = this.props, data = _a.data, textField = _a.textField;\n        this._suggested = suggestValue(value, data, textField);\n    };\n    ComboBoxWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueDuringOnChange = undefined;\n    };\n    ComboBoxWithoutContext.prototype.calculateMedia = function (entries) {\n        for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n            var entry = entries_1[_i];\n            this.setState({ windowWidth: entry.target.clientWidth });\n        }\n        ;\n    };\n    ;\n    ComboBoxWithoutContext.displayName = 'ComboBox';\n    /** @hidden */\n    ComboBoxWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), { size: PropTypes.oneOf([null, 'small', 'medium', 'large']), rounded: PropTypes.oneOf([null, 'small', 'medium', 'large', 'full']), fillMode: PropTypes.oneOf([null, 'solid', 'flat', 'outline']), dataItemKey: PropTypes.string, groupField: PropTypes.string, suggest: PropTypes.bool, placeholder: PropTypes.string, allowCustom: PropTypes.bool, clearButton: PropTypes.bool, iconClassName: PropTypes.string, svgIcon: svgIconPropType, validationMessage: PropTypes.string, required: PropTypes.bool, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string, list: PropTypes.any, valueRender: PropTypes.func });\n    /** @hidden */\n    ComboBoxWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), { size: 'medium', rounded: 'medium', fillMode: 'solid', allowCustom: false, clearButton: true, required: false });\n    return ComboBoxWithoutContext;\n}(React.Component));\nexport { ComboBoxWithoutContext };\n/**\n * Represents the PropsContext of the `ComboBox` component.\n * Used for global configuration of all `ComboBox` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var ComboBoxPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact ComboBox component]({% slug overview_combobox %}).\n *\n * Accepts properties of type [ComboBoxProps]({% slug api_dropdowns_comboboxprops %}).\n * Obtaining the `ref` returns an object of type [ComboBoxHandle]({% slug api_dropdowns_comboboxhandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    combobox = null;\n *    render() {\n *       return (\n *          <div>\n *              <ComboBox\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.combobox = component}\n *              />\n *              <button onClick={() => alert(this.combobox.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var ComboBox = withPropsContext(ComboBoxPropsContext, ComboBoxWithoutContext);\nComboBox.displayName = 'KendoReactComboBox';\n"],"mappings":"AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIC,MAAM,CAACK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IACrG,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnB,IAAI,OAAOA,CAAC,KAAK,UAAU,IAAIA,CAAC,KAAK,IAAI,EACrC,MAAM,IAAIS,SAAS,CAAC,sBAAsB,GAAGC,MAAM,CAACV,CAAC,CAAC,GAAG,+BAA+B,CAAC;IAC7FF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASW,EAAEA,CAAA,EAAG;MAAE,IAAI,CAACC,WAAW,GAAGb,CAAC;IAAE;IACtCA,CAAC,CAACO,SAAS,GAAGN,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACY,MAAM,CAACb,CAAC,CAAC,IAAIW,EAAE,CAACL,SAAS,GAAGN,CAAC,CAACM,SAAS,EAAE,IAAIK,EAAE,EAAE,CAAC;EACxF,CAAC;AACL,CAAC,EAAG;AACJ,IAAIG,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGb,MAAM,CAACc,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAIb,CAAC,IAAIY,CAAC,EAAE,IAAIhB,MAAM,CAACK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACS,CAAC,EAAEZ,CAAC,CAAC,EAC3DW,CAAC,CAACX,CAAC,CAAC,GAAGY,CAAC,CAACZ,CAAC,CAAC;IACnB;IACA,OAAOW,CAAC;EACZ,CAAC;EACD,OAAOF,QAAQ,CAACQ,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;AAC1C,CAAC;AACD,OAAO,KAAKG,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,SAAS,MAAM,YAAY;AACvC,OAAOC,YAAY,MAAM,wBAAwB;AACjD,SAASC,IAAI,EAAEC,UAAU,EAAEC,IAAI,EAAEC,kBAAkB,EAAEC,gBAAgB,EAAEC,cAAc,EAAEC,eAAe,QAAQ,8BAA8B;AAC5I,SAASC,aAAa,QAAQ,8BAA8B;AAC5D,SAASC,OAAO,EAAEC,mBAAmB,EAAEC,kBAAkB,EAAEC,YAAY,EAAEC,SAAS,EAAEC,YAAY,QAAQ,iBAAiB;AACzH,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,IAAI,MAAM,gBAAgB;AACjC,OAAOC,UAAU,MAAM,sBAAsB;AAC7C,SAASC,eAAe,EAAEC,SAAS,QAAQ,8BAA8B;AACzE,SAASC,eAAe,QAAQ,qBAAqB;AACrD,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,SAASC,MAAM,QAAQ,+BAA+B;AACtD,SAASC,gBAAgB,QAAQ,2BAA2B;AAC5D,SAASC,QAAQ,EAAEC,4BAA4B,EAAEC,8BAA8B,QAAQ,eAAe;AACtG,SAASC,0BAA0B,QAAQ,4BAA4B;AACvE,SAASC,WAAW,EAAEC,kBAAkB,EAAEC,iBAAiB,QAAQ,8BAA8B;AACjG,IAAIC,kBAAkB,GAAG,6BAA6B;AACtD,IAAIC,mBAAmB,GAAG,GAAG;AAC7B,IAAIC,oBAAoB,GAAG,GAAG;AAC9B,IAAIC,OAAO,GAAG7B,cAAc,CAAC6B,OAAO;EAAEC,UAAU,GAAG9B,cAAc,CAAC8B,UAAU;AAC5E;AACA,IAAIC,sBAAsB,GAAG,aAAe,UAAUC,MAAM,EAAE;EAC1DlE,SAAS,CAACiE,sBAAsB,EAAEC,MAAM,CAAC;EACzC,SAASD,sBAAsBA,CAACE,KAAK,EAAE;IACnC,IAAIC,KAAK,GAAGF,MAAM,CAACvD,IAAI,CAAC,IAAI,EAAEwD,KAAK,CAAC,IAAI,IAAI;IAC5C;IACAC,KAAK,CAACC,KAAK,GAAG,CAAC,CAAC;IAChBD,KAAK,CAACE,IAAI,GAAG,IAAI1C,YAAY,CAACwC,KAAK,CAAC;IACpCA,KAAK,CAACG,QAAQ,GAAG,IAAI;IACrBH,KAAK,CAACI,QAAQ,GAAG3C,IAAI,EAAE;IACvBuC,KAAK,CAACK,UAAU,GAAG,EAAE;IACrBL,KAAK,CAACM,SAAS,GAAG,KAAK;IACvBN,KAAK,CAACO,MAAM,GAAG,IAAI;IACnBP,KAAK,CAACQ,oBAAoB,GAAG,IAAI;IACjCR,KAAK,CAACS,UAAU,GAAG,CAAC;IACpB;IACAT,KAAK,CAACU,KAAK,GAAG,YAAY;MACtB,IAAIV,KAAK,CAACO,MAAM,EAAE;QACdP,KAAK,CAACO,MAAM,CAACG,KAAK,EAAE;MACxB;IACJ,CAAC;IACD;IACAV,KAAK,CAACW,gBAAgB,GAAG,UAAUC,KAAK,EAAEX,KAAK,EAAE;MAC7C,IAAIY,EAAE,GAAGb,KAAK,CAACD,KAAK;QAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;QAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEE,OAAO,GAAGH,EAAE,CAACG,OAAO;QAAEC,WAAW,GAAGJ,EAAE,CAACI,WAAW;MACtH,IAAIC,IAAI,GAAGF,OAAO,GAAGA,OAAO,CAACE,IAAI,GAAG,CAAC;MACrC,IAAIC,IAAI,GAAGJ,IAAI,CAACH,KAAK,GAAGM,IAAI,CAAC;MAC7B,IAAIE,WAAW,GAAG,CAACnD,OAAO,CAACkD,IAAI,EAAEnB,KAAK,CAACqB,KAAK,EAAEJ,WAAW,CAAC;MAC1DjB,KAAK,CAACsB,eAAe,CAACH,IAAI,EAAElB,KAAK,CAAC;MAClC,IAAID,KAAK,CAACC,KAAK,CAACsB,IAAI,KAAKC,SAAS,EAAE;QAChCvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGC,SAAS;MAC/B;MACA,IAAIJ,WAAW,EAAE;QACbpB,KAAK,CAACE,IAAI,CAACuB,4BAA4B,CAACN,IAAI,EAAElB,KAAK,CAAC;MACxD;IACJ,CAAC;IACDD,KAAK,CAAC0B,aAAa,GAAG,YAAY;MAC9BC,UAAU,CAAC,YAAY;QACnB,IAAI3B,KAAK,CAAC4B,UAAU,IAAI5B,KAAK,CAACQ,oBAAoB,EAAE;UAChDR,KAAK,CAACM,SAAS,GAAG,IAAI;UACtBN,KAAK,CAACQ,oBAAoB,CAACE,KAAK,EAAE;UAClCV,KAAK,CAACM,SAAS,GAAG,KAAK;QAC3B;MACJ,CAAC,EAAE,GAAG,CAAC;IACX,CAAC;IACDN,KAAK,CAAC6B,YAAY,GAAG,UAAUC,OAAO,EAAE;MACpC9B,KAAK,CAACG,QAAQ,GAAG2B,OAAO;MACxB9B,KAAK,CAACE,IAAI,CAAC6B,OAAO,GAAGD,OAAO;IAChC,CAAC;IACD9B,KAAK,CAACgC,cAAc,GAAG,UAAUC,KAAK,EAAE;MACpC,IAAIC,MAAM,GAAGlC,KAAK,CAACD,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACmC,MAAM,GAAGlC,KAAK,CAACC,KAAK,CAACiC,MAAM;MACvF,IAAIjC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;MAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;MAC5BjC,KAAK,CAACE,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;MAC7B,IAAI,CAACiC,MAAM,IAAIlC,KAAK,CAAC4B,UAAU,EAAE;QAC7B,IAAIU,UAAU,GAAGtC,KAAK,CAACD,KAAK,CAACwC,cAAc,KAAKf,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACwC,cAAc,GAAGvC,KAAK,CAACC,KAAK,CAACsB,IAAI,IAAI,IAAI;QACjHvB,KAAK,CAACE,IAAI,CAACsC,aAAa,CAACF,UAAU,EAAErC,KAAK,CAAC;MAC/C;MACAD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAAC0C,sBAAsB,GAAG,YAAY;MACvC,IAAIJ,UAAU,GAAGtC,KAAK,CAACD,KAAK,CAACwC,cAAc,KAAKf,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACwC,cAAc,GAAGvC,KAAK,CAACC,KAAK,CAACsB,IAAI;MACzG,IAAIoB,gBAAgB,GAAGvE,YAAY,CAAC4B,KAAK,CAACqB,KAAK,EAAErB,KAAK,CAACD,KAAK,CAAC6C,SAAS,CAAC;MACvE,IAAIC,eAAe,GAAGxE,SAAS,CAACiE,UAAU,CAAC,GAAGA,UAAU,GAAGK,gBAAgB;MAC3E,OAAQrF,KAAK,CAACwF,aAAa,CAACpE,UAAU,EAAE;QAAE2C,KAAK,EAAEwB,eAAe;QAAEE,GAAG,EAAE,SAAAA,CAAUC,MAAM,EAAE;UAAE,OAAOhD,KAAK,CAACQ,oBAAoB,GAAGwC,MAAM,IAAIA,MAAM,CAACC,KAAK;QAAE,CAAC;QAAEC,QAAQ,EAAElD,KAAK,CAACmD,wBAAwB;QAAEC,SAAS,EAAEpD,KAAK,CAACqD,cAAc;QAAEC,IAAI,EAAEtD,KAAK,CAACD,KAAK,CAACuD,IAAI;QAAEC,OAAO,EAAEvD,KAAK,CAACD,KAAK,CAACwD,OAAO;QAAEC,QAAQ,EAAExD,KAAK,CAACD,KAAK,CAACyD;MAAS,CAAC,CAAC;IAChU,CAAC;IACDxD,KAAK,CAACmD,wBAAwB,GAAG,UAAUlB,KAAK,EAAE;MAC9C,IAAIhC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;MAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;MAC5BhC,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGU,KAAK,CAACwB,MAAM,CAACpC,KAAK;MACpCrB,KAAK,CAACE,IAAI,CAACsC,aAAa,CAACP,KAAK,CAACwB,MAAM,CAACpC,KAAK,EAAEpB,KAAK,CAAC;MACnDD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAAC0D,QAAQ,GAAG,UAAUzB,KAAK,EAAE;MAC9B,IAAIpB,EAAE,GAAGb,KAAK,CAACE,IAAI;QAAEyD,EAAE,GAAG9C,EAAE,CAAC8C,EAAE;QAAEC,IAAI,GAAG/C,EAAE,CAAC+C,IAAI;MAC/CD,EAAE,CAACE,aAAa,CAAC5B,KAAK,CAAC;MACvB,IAAInB,EAAE,GAAGd,KAAK,CAACD,KAAK;QAAE+D,EAAE,GAAGhD,EAAE,CAACC,IAAI;QAAEA,IAAI,GAAG+C,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEC,UAAU,GAAGjD,EAAE,CAACiD,UAAU;MAC9F,IAAI,CAACA,UAAU,IAAI,CAAChD,IAAI,CAAC3D,MAAM,EAAE;QAC7B;MACJ;MACA,IAAIqD,UAAU,GAAGT,KAAK,CAACS,UAAU,GAC7BT,KAAK,CAACS,UAAU,KAAKkD,EAAE,CAACK,OAAO,GAAGL,EAAE,CAAClD,UAAU,GAAImD,IAAI,GAAGA,IAAI,CAACK,QAAQ,CAAC,CAAC,CAAC,CAACC,YAAY,GAAG,CAAE,CAAC;MACjG,IAAIT,MAAM,GAAGxB,KAAK,CAACwB,MAAM;MACzB,IAAIU,SAAS,GAAGV,MAAM,CAACU,SAAS,GAAIR,EAAE,CAACzC,IAAI,GAAGT,UAAW;MACzD,IAAI2D,KAAK,GAAGrD,IAAI,CAAC,CAAC,CAAC,CAACgD,UAAU,CAAC;MAC/B,KAAK,IAAI9G,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAG8D,IAAI,CAAC3D,MAAM,EAAEH,CAAC,EAAE,EAAE;QAClC,IAAIwD,UAAU,GAAGxD,CAAC,GAAGkH,SAAS,EAAE;UAC5B;QACJ;QACA,IAAIpD,IAAI,CAAC9D,CAAC,CAAC,IAAI8D,IAAI,CAAC9D,CAAC,CAAC,CAAC8G,UAAU,CAAC,EAAE;UAChCK,KAAK,GAAGrD,IAAI,CAAC9D,CAAC,CAAC,CAAC8G,UAAU,CAAC;QAC/B;MACJ;MACA,IAAIK,KAAK,KAAKpE,KAAK,CAACC,KAAK,CAACmE,KAAK,EAAE;QAC7BpE,KAAK,CAACqE,QAAQ,CAAC;UACXD,KAAK,EAAEA;QACX,CAAC,CAAC;QACF,IAAIpE,KAAK,CAACD,KAAK,CAACuE,aAAa,EAAE;UAC3BtE,KAAK,CAACD,KAAK,CAACuE,aAAa,CAAC/H,IAAI,CAACiF,SAAS,EAAE;YAAE4C,KAAK,EAAEA;UAAM,CAAC,CAAC;QAC/D;MACJ;IACJ,CAAC;IACDpE,KAAK,CAACuE,eAAe,GAAG,UAAU3D,KAAK,EAAEqB,KAAK,EAAE;MAC5CjC,KAAK,CAACE,IAAI,CAACqE,eAAe,CAAC3D,KAAK,EAAEqB,KAAK,CAAC;MACxCjC,KAAK,CAACwE,oBAAoB,GAAGhD,SAAS;IAC1C,CAAC;IACDxB,KAAK,CAACyE,UAAU,GAAG,UAAUxC,KAAK,EAAE;MAChC,IAAIjC,KAAK,CAACC,KAAK,CAACyE,OAAO,IAAI,CAAC1E,KAAK,CAACM,SAAS,EAAE;QACzC,IAAIL,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;QAClClC,KAAK,CAACc,IAAI,CAAC2D,OAAO,GAAG,KAAK;QAC1BzE,KAAK,CAAC0E,MAAM,CAACC,IAAI,CAAC;UAAEC,IAAI,EAAE;QAAS,CAAC,CAAC;QACrC5E,KAAK,CAACmC,cAAc,GAAGH,KAAK;QAC5BjC,KAAK,CAAC8E,6BAA6B,CAAC7C,KAAK,CAAC8C,aAAa,CAAC1D,KAAK,EAAEpB,KAAK,CAAC;MACzE;IACJ,CAAC;IACDD,KAAK,CAACgF,YAAY,GAAG,UAAU/C,KAAK,EAAE;MAClC,IAAIC,MAAM,GAAGlC,KAAK,CAACD,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACmC,MAAM,GAAGlC,KAAK,CAACC,KAAK,CAACiC,MAAM;MACvF,IAAII,UAAU,GAAGtC,KAAK,CAACD,KAAK,CAACwC,cAAc,KAAKf,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACwC,cAAc,GAAGvC,KAAK,CAACC,KAAK,CAACsB,IAAI,IAAI,IAAI;MACjH,IAAI,CAACW,MAAM,IAAIlC,KAAK,CAAC4B,UAAU,EAAE;QAC7B,IAAI3B,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;QAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;QAC5BjC,KAAK,CAACE,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;QAC7BD,KAAK,CAACE,IAAI,CAACsC,aAAa,CAACF,UAAU,EAAErC,KAAK,CAAC;QAC3CD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;MAC3B;IACJ,CAAC;IACDD,KAAK,CAACqD,cAAc,GAAG,UAAUpB,KAAK,EAAE;MACpC,IAAIgD,OAAO,GAAGhD,KAAK,CAACgD,OAAO;MAC3B,IAAI/C,MAAM,GAAGlC,KAAK,CAACD,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACmC,MAAM,GAAGlC,KAAK,CAACC,KAAK,CAACiC,MAAM;MACvF,IAAIjC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;MAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;MAC5B,IAAI,CAACA,KAAK,CAACiD,MAAM,KAAKD,OAAO,KAAKtH,IAAI,CAACwH,EAAE,IAAIF,OAAO,KAAKtH,IAAI,CAACyH,IAAI,CAAC,EAAE;QACjEnD,KAAK,CAACoD,cAAc,EAAE;QACtBrF,KAAK,CAACsF,UAAU,CAACrF,KAAK,EAAEgF,OAAO,CAAC;QAChCjF,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;QACvB;MACJ;MACA,IAAIoC,WAAW,GAAG,SAAAA,CAAA,EAAY;QAC1BJ,KAAK,CAACoD,cAAc,EAAE;QACtBrF,KAAK,CAACE,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;QAC7BD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;MAC3B,CAAC;MACD,IAAIiC,MAAM,EAAE;QACR,IAAID,KAAK,CAACiD,MAAM,IAAID,OAAO,KAAKtH,IAAI,CAACwH,EAAE,EAAE;UACrC9C,WAAW,EAAE;QACjB,CAAC,MACI,IAAI4C,OAAO,KAAKtH,IAAI,CAAC4H,KAAK,EAAE;UAC7BtD,KAAK,CAACoD,cAAc,EAAE;UACtBrF,KAAK,CAACwF,iBAAiB,CAACvD,KAAK,CAAC8C,aAAa,CAAC1D,KAAK,EAAEpB,KAAK,CAAC;QAC7D,CAAC,MACI,IAAIgF,OAAO,KAAKtH,IAAI,CAAC8H,GAAG,EAAE;UAC3BzF,KAAK,CAAC8E,6BAA6B,CAAC7C,KAAK,CAAC8C,aAAa,CAAC1D,KAAK,EAAEpB,KAAK,CAAC;QACzE;MACJ,CAAC,MACI,IAAIgC,KAAK,CAACiD,MAAM,IAAID,OAAO,KAAKtH,IAAI,CAACyH,IAAI,EAAE;QAC5C/C,WAAW,EAAE;MACjB;IACJ,CAAC;IACDrC,KAAK,CAAC0F,aAAa,GAAG,UAAUzD,KAAK,EAAE;MACnC,IAAIhC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;MAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;MAC5B,IAAIC,MAAM,GAAGlC,KAAK,CAACD,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACmC,MAAM,GAAGlC,KAAK,CAACC,KAAK,CAACiC,MAAM;MACvF,IAAIe,KAAK,GAAGhB,KAAK,CAAC8C,aAAa;MAC/B,IAAI1D,KAAK,GAAG4B,KAAK,CAAC5B,KAAK;MACvB,IAAIrB,KAAK,CAACD,KAAK,CAAC4F,OAAO,EAAE;QACrB,IAAIC,cAAc,GAAG3C,KAAK,CAAC4C,YAAY,KAAKxE,KAAK,CAACjE,MAAM;QACxD,IAAI0I,QAAQ,GAAG9F,KAAK,CAACD,KAAK,CAACiD,MAAM,KAAKxB,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACiD,MAAM,GAAGhD,KAAK,CAACC,KAAK,CAACsB,IAAI;QACvF,IAAI,CAAClD,SAAS,CAACyH,QAAQ,CAAC,EAAE;UACtBA,QAAQ,GAAG1H,YAAY,CAAC4B,KAAK,CAACqB,KAAK,EAAErB,KAAK,CAACD,KAAK,CAAC6C,SAAS,CAAC,IAAI,EAAE;QACrE;QACA,IAAImD,iBAAiB,GAAGD,QAAQ,IAAIA,QAAQ,KAAKzE,KAAK;QACtD,IAAI2E,QAAQ,GAAGF,QAAQ,IAAIA,QAAQ,CAAC1I,MAAM,GAAGiE,KAAK,CAACjE,MAAM;QACzD,IAAI2I,iBAAiB,IAAIC,QAAQ,IAAI,CAACJ,cAAc,EAAE;UAClD5F,KAAK,CAACK,UAAU,GAAG,EAAE;QACzB,CAAC,MACI;UACDL,KAAK,CAAC1B,YAAY,CAAC+C,KAAK,CAAC;QAC7B;MACJ;MACA,IAAIrB,KAAK,CAACD,KAAK,CAACiD,MAAM,KAAKxB,SAAS,EAAE;QAClCvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGF,KAAK;MAC3B;MACA,IAAIrB,KAAK,CAACC,KAAK,CAACgG,WAAW,KAAKzE,SAAS,EAAE;QACvCvB,KAAK,CAACc,IAAI,CAACkF,WAAW,GAAGzE,SAAS;MACtC;MACA,IAAI,CAACU,MAAM,EAAE;QACTlC,KAAK,CAACE,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;MACjC;MACAD,KAAK,CAACE,IAAI,CAACsC,aAAa,CAACnB,KAAK,EAAEpB,KAAK,CAAC;MACtCD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACkG,gBAAgB,GAAG,UAAUjE,KAAK,EAAE;MACtC,IAAIhC,KAAK,GAAGD,KAAK,CAACE,IAAI,CAACiC,SAAS,EAAE;MAClClC,KAAK,CAACmC,cAAc,GAAGH,KAAK;MAC5BA,KAAK,CAACkE,eAAe,EAAE;MACvBnG,KAAK,CAACK,UAAU,GAAG,EAAE;MACrBL,KAAK,CAACE,IAAI,CAACsC,aAAa,CAAC,EAAE,EAAEvC,KAAK,CAAC;MACnC,IAAID,KAAK,CAACD,KAAK,CAACiD,MAAM,KAAKxB,SAAS,IAAIxB,KAAK,CAACC,KAAK,CAACsB,IAAI,KAAKC,SAAS,EAAE;QACpEvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGC,SAAS;MAC/B;MACAxB,KAAK,CAACsB,eAAe,CAAC,IAAI,EAAErB,KAAK,CAAC;MAClC,IAAIiC,MAAM,GAAGlC,KAAK,CAACD,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAGxB,KAAK,CAACD,KAAK,CAACmC,MAAM,GAAGlC,KAAK,CAACC,KAAK,CAACiC,MAAM;MACvF,IAAIkE,UAAU,GAAGpG,KAAK,CAAC4B,UAAU;MACjC,IAAIM,MAAM,IAAI,CAACkE,UAAU,EAAE;QACvBpG,KAAK,CAACE,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;MACjC;MACAD,KAAK,CAACyC,UAAU,CAACxC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACqG,WAAW,GAAG,YAAY;MAC5B,IAAIrG,KAAK,CAACO,MAAM,IAAIP,KAAK,CAACO,MAAM,CAAC+F,iBAAiB,EAAE;QAChDtG,KAAK,CAACO,MAAM,CAAC+F,iBAAiB,CAACtG,KAAK,CAACuG,QAAQ,CAACC,KAAK,GAC7C,EAAE,GACFxG,KAAK,CAACD,KAAK,CAAC0G,iBAAiB,IAAIjH,kBAAkB,CAAC;MAC9D;IACJ,CAAC;IACDb,eAAe,CAACE,eAAe,CAAC;IAChC,OAAOmB,KAAK;EAChB;EACAhE,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,UAAU,EAAE;IAChEsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAI,CAAC/H,SAAS,EAAE;QACZ;MACJ;MACA;MACA,OAAQ,IAAI,CAACkD,OAAO,IAAI,IAAI,CAACA,OAAO,CAAC8E,aAAa,IAAKC,QAAQ;IACnE,CAAC;IACDC,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,SAAS,EAAE;IAC/D;IACAsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAACxG,QAAQ;IACxB,CAAC;IACD2G,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,YAAY,EAAE;IAClE;AACR;AACA;IACQsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAIP,UAAU,GAAG,IAAI,CAACnG,KAAK,CAAC+G,WAAW,IAAI,IAAI,CAAC/G,KAAK,CAAC+G,WAAW,IAAItH,oBAAoB,IAAI,IAAI,CAACK,KAAK,CAACkH,QAAQ;MAChH,OAAO,CAAC,CAACb,UAAU;IACvB,CAAC;IACDU,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,OAAO,EAAE;IAC7D;AACR;AACA;IACQsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAI,IAAI,CAACnC,oBAAoB,KAAKhD,SAAS,EAAE;QACzC,OAAO,IAAI,CAACgD,oBAAoB;MACpC,CAAC,MACI,IAAI,IAAI,CAACzE,KAAK,CAACsB,KAAK,KAAKG,SAAS,EAAE;QACrC,OAAO,IAAI,CAACzB,KAAK,CAACsB,KAAK;MAC3B,CAAC,MACI,IAAI,IAAI,CAACpB,KAAK,CAACoB,KAAK,KAAKG,SAAS,EAAE;QACrC,OAAO,IAAI,CAACvB,KAAK,CAACoB,KAAK;MAC3B,CAAC,MACI,IAAI,IAAI,CAACtB,KAAK,CAACmH,YAAY,KAAK1F,SAAS,EAAE;QAC5C,OAAO,IAAI,CAACzB,KAAK,CAACmH,YAAY;MAClC;MACA,OAAO1F,SAAS;IACpB,CAAC;IACDsF,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,OAAO,EAAE;IAC7D;AACR;AACA;IACQsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAI9F,EAAE,GAAG,IAAI,CAACd,KAAK;QAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;QAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEG,WAAW,GAAGJ,EAAE,CAACI,WAAW;MAC/F,IAAII,KAAK,GAAG,IAAI,CAACA,KAAK;MACtB;MACA,OAAON,IAAI,CAACoG,SAAS,CAAC,UAAUlK,CAAC,EAAE;QAAE,OAAOgB,OAAO,CAAChB,CAAC,EAAEoE,KAAK,EAAEJ,WAAW,CAAC;MAAE,CAAC,CAAC;IAClF,CAAC;IACD6F,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,MAAM,EAAE;IAC5D;AACR;AACA;IACQsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC5G,KAAK,CAACqH,IAAI;IAC1B,CAAC;IACDN,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,UAAU,EAAE;IAChE;AACR;AACA;IACQsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb;MACA;MACA,IAAIU,WAAW,GAAG,IAAI,CAACtH,KAAK,CAAC0G,iBAAiB,KAAKjF,SAAS;MAC5D,IAAI8F,OAAO,GAAI,CAAC,IAAI,CAACC,QAAQ,IACrB,IAAI,CAAClG,KAAK,KAAK,IAAI,IAAI,IAAI,CAACA,KAAK,KAAK,EAAE,IAAI,IAAI,CAACA,KAAK,KAAKG,SAAW;MAC9E,IAAIgF,KAAK,GAAG,IAAI,CAACzG,KAAK,CAACyG,KAAK,KAAKhF,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACyG,KAAK,GAAGc,OAAO;MACvE,OAAO;QACHD,WAAW,EAAEA,WAAW;QACxBb,KAAK,EAAEA,KAAK;QACZgB,YAAY,EAAE,IAAI,CAACnG,KAAK,KAAK;MACjC,CAAC;IACL,CAAC;IACDyF,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,gBAAgB,EAAE;IACtEsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC5G,KAAK,CAAC0H,cAAc,KAAKjG,SAAS,GACxC,IAAI,CAACzB,KAAK,CAAC0H,cAAc,GACzB5H,sBAAsB,CAAC6H,YAAY,CAACD,cAAc;IAC5D,CAAC;IACDX,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF/K,MAAM,CAAC0K,cAAc,CAAC7G,sBAAsB,CAACxD,SAAS,EAAE,UAAU,EAAE;IAChE;IACAsK,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC5G,KAAK,CAACwH,QAAQ,KAAK/F,SAAS,GAClC,IAAI,CAACzB,KAAK,CAACwH,QAAQ,GACnB1H,sBAAsB,CAAC6H,YAAY,CAACH,QAAQ;IACtD,CAAC;IACDT,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF;EACAlH,sBAAsB,CAACxD,SAAS,CAACsL,kBAAkB,GAAG,UAAUC,SAAS,EAAEC,SAAS,EAAE;IAClF,IAAIhH,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEG,WAAW,GAAGJ,EAAE,CAACI,WAAW;MAAED,OAAO,GAAGH,EAAE,CAACG,OAAO;IACrH,IAAI8G,SAAS,GAAGF,SAAS,CAAC5G,OAAO,GAAG4G,SAAS,CAAC5G,OAAO,CAAC+G,KAAK,GAAG,CAAC;IAC/D,IAAI7F,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAI8F,UAAU,GAAGJ,SAAS,CAAC1F,MAAM,KAAKV,SAAS,GAAGoG,SAAS,CAAC1F,MAAM,GAAG2F,SAAS,CAAC3F,MAAM;IACrF,IAAI+F,OAAO,GAAG,CAACD,UAAU,IAAI9F,MAAM;IACnC,IAAIgG,YAAY,GAAG,IAAI,CAAC7G,KAAK;IAC7B,IAAI,CAAC8G,iBAAiB,GAAGD,YAAY;IACrC,IAAIlH,OAAO,IAAIA,OAAO,CAAC+G,KAAK,KAAKD,SAAS,EAAE;MACxC,IAAI,CAAC5H,IAAI,CAACyD,EAAE,CAACyE,uBAAuB,EAAE;MACtC,IAAI,CAAClI,IAAI,CAACyD,EAAE,CAAC0E,KAAK,EAAE;IACxB,CAAC,MACI;MACD,IAAIC,gBAAgB,GAAGV,SAAS,CAACvG,KAAK,KAAKG,SAAS,GAAGoG,SAAS,CAACvG,KAAK,GAAGwG,SAAS,CAACxG,KAAK;MACxF,IAAIkH,iBAAiB,GAAGxH,IAAI,CAACoG,SAAS,CAAC,UAAUlK,CAAC,EAAE;QAAE,OAAOgB,OAAO,CAAChB,CAAC,EAAEiL,YAAY,EAAEjH,WAAW,CAAC;MAAE,CAAC,CAAC;MACtG,IAAIuH,mBAAmB,GAAG,CAACvK,OAAO,CAACqK,gBAAgB,EAAEJ,YAAY,EAAEjH,WAAW,CAAC;MAC/E,IAAIgH,OAAO,IAAIjH,OAAO,EAAE;QACpB,IAAI,CAACd,IAAI,CAACuI,mBAAmB,CAACzH,OAAO,EAAEuH,iBAAiB,CAAC;MAC7D,CAAC,MACI,IAAIN,OAAO,IAAI,CAACjH,OAAO,EAAE;QAC1B,IAAI,CAACU,aAAa,EAAE;QACpB,IAAI,CAACxB,IAAI,CAACwI,YAAY,CAACH,iBAAiB,CAAC;MAC7C,CAAC,MACI,IAAIrG,MAAM,IAAI8F,UAAU,IAAIE,YAAY,IAAIM,mBAAmB,EAAE;QAClE,IAAI,CAACtI,IAAI,CAACwI,YAAY,CAACH,iBAAiB,CAAC;MAC7C;IACJ;IACA,IAAIN,OAAO,IAAI,IAAI,CAAC1H,MAAM,EAAE;MACxB,IAAI,CAACA,MAAM,CAACG,KAAK,EAAE;IACvB;IACA,IAAI,CAAC2F,WAAW,EAAE;EACtB,CAAC;EACD;EACAxG,sBAAsB,CAACxD,SAAS,CAACsM,iBAAiB,GAAG,YAAY;IAC7D,IAAI9H,EAAE;IACN,IAAI,CAAC+H,cAAc,GAAGhK,SAAS,IAAIiK,MAAM,CAACC,cAAc,IAAI,IAAID,MAAM,CAACC,cAAc,CAAC,IAAI,CAACC,cAAc,CAACC,IAAI,CAAC,IAAI,CAAC,CAAC;IACrH,IAAI,CAAC9I,IAAI,CAAC+I,QAAQ,EAAE;IACpB,IAAI,CAAC5C,WAAW,EAAE;IAClB,IAAI,CAAC,CAACxF,EAAE,GAAG,IAAI,CAACgG,QAAQ,MAAM,IAAI,IAAIhG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqI,IAAI,KAAK,IAAI,CAACN,cAAc,EAAE;MAC5F,IAAI,CAACA,cAAc,CAACO,OAAO,CAAC,IAAI,CAACtC,QAAQ,CAACqC,IAAI,CAAC;IACnD;EACJ,CAAC;EACD;EACArJ,sBAAsB,CAACxD,SAAS,CAAC+M,oBAAoB,GAAG,YAAY;IAChE,IAAIvI,EAAE;IACN,IAAI,CAAC,CAACA,EAAE,GAAG,IAAI,CAACgG,QAAQ,MAAM,IAAI,IAAIhG,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACqI,IAAI,KAAK,IAAI,CAACN,cAAc,EAAE;MAC5F,IAAI,CAACA,cAAc,CAACS,UAAU,EAAE;IACpC;EACJ,CAAC;EACD;EACAxJ,sBAAsB,CAACxD,SAAS,CAACiN,MAAM,GAAG,YAAY;IAClD,IAAIzI,EAAE;IACN,IAAI0I,kBAAkB,GAAGnK,0BAA0B,CAAC,IAAI,CAAC,CAACoK,gBAAgB,CAACtK,4BAA4B,EAAED,QAAQ,CAACC,4BAA4B,CAAC,CAAC;IAChJ,IAAIuK,oBAAoB,GAAGrK,0BAA0B,CAAC,IAAI,CAAC,CAACoK,gBAAgB,CAACrK,8BAA8B,EAAEF,QAAQ,CAACE,8BAA8B,CAAC,CAAC;IACtJ,IAAI2B,EAAE,GAAG,IAAI,CAACf,KAAK;MAAE2J,GAAG,GAAG5I,EAAE,CAAC4I,GAAG;MAAEC,QAAQ,GAAG7I,EAAE,CAAC6I,QAAQ;MAAE7F,EAAE,GAAGhD,EAAE,CAAC8I,WAAW;MAAEA,WAAW,GAAG9F,EAAE,KAAK,KAAK,CAAC,GAAGjE,sBAAsB,CAAC6H,YAAY,CAACkC,WAAW,GAAG9F,EAAE;MAAE+F,KAAK,GAAG/I,EAAE,CAAC+I,KAAK;MAAEjH,SAAS,GAAG9B,EAAE,CAAC8B,SAAS;MAAEqE,QAAQ,GAAGnG,EAAE,CAACmG,QAAQ;MAAE6C,SAAS,GAAGhJ,EAAE,CAACgJ,SAAS;MAAEC,KAAK,GAAGjJ,EAAE,CAACiJ,KAAK;MAAEC,OAAO,GAAGlJ,EAAE,CAACkJ,OAAO;MAAEC,aAAa,GAAGnJ,EAAE,CAACmJ,aAAa;MAAEjJ,OAAO,GAAGF,EAAE,CAACE,OAAO;MAAEsC,IAAI,GAAGxC,EAAE,CAACwC,IAAI;MAAEC,OAAO,GAAGzC,EAAE,CAACyC,OAAO;MAAEC,QAAQ,GAAG1C,EAAE,CAAC0C,QAAQ;MAAE0G,EAAE,GAAGpJ,EAAE,CAACoB,MAAM;MAAEA,MAAM,GAAGgI,EAAE,KAAK,KAAK,CAAC,GAAG,IAAI,CAACjK,KAAK,CAACiC,MAAM,GAAGgI,EAAE;MAAEC,WAAW,GAAGrJ,EAAE,CAACqJ,WAAW;IAC7f,IAAIC,EAAE,GAAG,IAAI,CAACnK,KAAK,CAAC+G,WAAW;MAAEA,WAAW,GAAGoD,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACrE,IAAI9C,OAAO,GAAG,CAAC,IAAI,CAACG,cAAc,IAAI,IAAI,CAAClB,QAAQ,CAACC,KAAK;IACzD,IAAIjF,IAAI,GAAG,IAAI,CAACxB,KAAK,CAACiD,MAAM,KAAKxB,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACiD,MAAM,GAAG,IAAI,CAAC/C,KAAK,CAACsB,IAAI;IAChF,IAAIoB,gBAAgB,GAAGvE,YAAY,CAAC,IAAI,CAACiD,KAAK,EAAEuB,SAAS,CAAC;IAC1D,IAAIyH,SAAS,GAAGhM,SAAS,CAACkD,IAAI,CAAC,GAAGA,IAAI,GAAGoB,gBAAgB;IACzD,IAAI2H,iBAAiB,GAAGV,WAAW,KAAK,CAAC,CAAES,SAAU,IAAIhM,SAAS,CAAC,IAAI,CAACgD,KAAK,CAAC,CAAC;IAC/E,IAAInB,IAAI,GAAG,IAAI,CAACA,IAAI;IACpB,IAAIyD,EAAE,GAAGzD,IAAI,CAACyD,EAAE;IAChB,IAAI4G,EAAE,GAAG,IAAI,CAACxK,KAAK,CAACwK,EAAE,IAAI,IAAI,CAACnK,QAAQ;IACvC,IAAIoK,cAAc,GAAGxD,WAAW,IAAItH,oBAAoB,IAAIuH,QAAQ;IACpEtD,EAAE,CAACK,OAAO,GAAGhD,OAAO,KAAKQ,SAAS;IAClC,IAAIR,OAAO,KAAKQ,SAAS,EAAE;MACvBmC,EAAE,CAACzC,IAAI,GAAGF,OAAO,CAACE,IAAI;MACtByC,EAAE,CAACoE,KAAK,GAAG/G,OAAO,CAAC+G,KAAK;MACxBpE,EAAE,CAAC8G,QAAQ,GAAGzJ,OAAO,CAACyJ,QAAQ;IAClC;IACA,IAAIC,QAAQ,GAAIpN,KAAK,CAACwF,aAAa,CAACxF,KAAK,CAACqN,QAAQ,EAAE,IAAI,EACpDrN,KAAK,CAACwF,aAAa,CAAC,MAAM,EAAE;MAAEgH,SAAS,EAAEpM,UAAU,CAAC,oBAAoB,GAAGmD,EAAE,GAAG,CAAC,CAAC,EAC1EA,EAAE,CAAC,UAAU,CAAC+J,MAAM,CAACjL,OAAO,CAAC2D,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGA,IAAI,EACnDzC,EAAE,CAAC,YAAY,CAAC+J,MAAM,CAAChL,UAAU,CAAC2D,OAAO,CAAC,IAAIA,OAAO,CAAC,CAAC,GAAGA,OAAO,EACjE1C,EAAE,CAAC,UAAU,CAAC+J,MAAM,CAACpH,QAAQ,CAAC,CAAC,GAAGA,QAAQ,EAC1C3C,EAAE,CAAC,WAAW,CAAC,GAAG,CAACyG,OAAO,EAC1BzG,EAAE,CAAC,WAAW,CAAC,GAAGmJ,OAAO,EACzBnJ,EAAE,CAAC,YAAY,CAAC,GAAG,IAAI,CAAC0G,QAAQ,EAChC1G,EAAE,CAAC,YAAY,CAAC,GAAG8I,QAAQ,EAC3B9I,EAAE,GAAGiJ,SAAS,CAAC;MAAE/G,GAAG,EAAE,IAAI,CAAClB,YAAY;MAAEkI,KAAK,EAAE,CAACF,KAAK,GAAGE,KAAK,GAAGlN,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEkN,KAAK,CAAC,EAAE;QAAEc,KAAK,EAAErJ;MAAU,CAAC,CAAC;MAAEkI,GAAG,EAAEA;IAAI,CAAC,EACpI,IAAI,CAACoB,eAAe,CAACT,SAAS,IAAI,EAAE,EAAEE,EAAE,EAAEJ,WAAW,CAAC,EACtDG,iBAAiB,IAAI,CAACN,OAAO,IAAI1M,KAAK,CAACwF,aAAa,CAAChE,WAAW,EAAE;MAAEiM,OAAO,EAAE,IAAI,CAAC7E,gBAAgB;MAAE8E,GAAG,EAAE;IAAc,CAAC,CAAC,EACzHhB,OAAO,IAAI1M,KAAK,CAACwF,aAAa,CAAC,MAAM,EAAE;MAAEgH,SAAS,EAAE,yCAAyC;MAAEkB,GAAG,EAAE;IAAU,CAAC,CAAC,EAChH1N,KAAK,CAACwF,aAAa,CAAC/D,MAAM,EAAE;MAAEkM,QAAQ,EAAE,CAAC,CAAC;MAAEpG,IAAI,EAAE,QAAQ;MAAE,YAAY,EAAE3C,MAAM,GAAGuH,oBAAoB,GAAGF,kBAAkB;MAAE2B,IAAI,EAAE,CAACjB,aAAa,GAAG,gBAAgB,GAAGzI,SAAS;MAAE2J,OAAO,EAAE,CAAClB,aAAa,GAAGjL,gBAAgB,GAAG,IAAI,CAACe,KAAK,CAACoL,OAAO;MAAEC,SAAS,EAAEnB,aAAa;MAAE3G,IAAI,EAAEA,IAAI;MAAEE,QAAQ,EAAEA,QAAQ;MAAED,OAAO,EAAE,IAAI;MAAE8H,UAAU,EAAE,MAAM;MAAEvB,SAAS,EAAE,gBAAgB;MAAEiB,OAAO,EAAE,IAAI,CAAC/I,cAAc;MAAEsJ,WAAW,EAAE,SAAAA,CAAUC,CAAC,EAAE;QAAE,OAAOA,CAAC,CAAClG,cAAc,EAAE;MAAE;IAAE,CAAC,CAAC,EACvc,CAACmF,cAAc,IAAI,IAAI,CAACgB,mBAAmB,EAAE,CAAC,EAClDhB,cAAc,IAAI,IAAI,CAACiB,2BAA2B,EAAE,CAAE;IAC1D,OAAO5B,KAAK,GACLvM,KAAK,CAACwF,aAAa,CAAC9E,aAAa,EAAE;MAAE6L,KAAK,EAAEA,KAAK;MAAE6B,QAAQ,EAAEnB,EAAE;MAAEoB,WAAW,EAAEtB,SAAS;MAAEuB,WAAW,EAAEtE,OAAO;MAAEuE,cAAc,EAAElC,QAAQ;MAAEI,KAAK,EAAE;QAAEc,KAAK,EAAEd,KAAK,GAAGA,KAAK,CAACc,KAAK,GAAGrJ;MAAU,CAAC;MAAEyC,QAAQ,EAAEyG;IAAS,CAAC,CAAC,GAClNA,QAAQ;EAClB,CAAC;EACD;EACA7K,sBAAsB,CAACxD,SAAS,CAACiJ,UAAU,GAAG,UAAUrF,KAAK,EAAEgF,OAAO,EAAE;IACpE,IAAIpE,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEgD,EAAE,GAAGjD,EAAE,CAACG,OAAO;MAAEA,OAAO,GAAG8C,EAAE,KAAK,KAAK,CAAC,GAAG;QAAE5C,IAAI,EAAE;MAAE,CAAC,GAAG4C,EAAE;IAC9H,IAAIvC,IAAI,GAAG,IAAI,CAACxB,KAAK,CAACiD,MAAM,GAAG,IAAI,CAACjD,KAAK,CAACiD,MAAM,GAAG,IAAI,CAAC/C,KAAK,CAACsB,IAAI;IAClE,IAAIuK,YAAY,GAAG,IAAI,CAACC,eAAe,EAAE;IACzC,IAAIpI,EAAE,GAAG,IAAI,CAACzD,IAAI,CAACyD,EAAE;IACrB,IAAItC,KAAK,GAAG,IAAI,CAACA,KAAK;IACtB,IAAI,CAAChB,UAAU,GAAG,EAAE;IACpB,IAAIyL,YAAY,KAAK,CAAC,CAAC,IAAI,CAACzN,SAAS,CAACgD,KAAK,CAAC,EAAE;MAC1C,IAAI,CAACV,gBAAgB,CAACmL,YAAY,EAAE7L,KAAK,CAAC;IAC9C,CAAC,MACI,IAAIsB,IAAI,KAAK,EAAE,EAAE;MAClB,IAAI,CAACZ,gBAAgB,CAAC,CAAC,EAAEV,KAAK,CAAC;IACnC,CAAC,MACI;MACD,IAAI+L,YAAY,GAAGhL,OAAO,CAACE,IAAI,GAAG4K,YAAY;MAC9C,IAAIG,QAAQ,GAAG,IAAI,CAAC/L,IAAI,CAACgM,UAAU,CAACC,QAAQ,CAAC;QACzClH,OAAO,EAAEA,OAAO;QAChBmH,OAAO,EAAEJ,YAAY;QACrBK,GAAG,EAAE,CAAC1I,EAAE,CAACK,OAAO,GAAGL,EAAE,CAACoE,KAAK,GAAGhH,IAAI,CAAC3D,MAAM,IAAI,CAAC;QAC9CkP,GAAG,EAAE;MACT,CAAC,CAAC;MACF,IAAIL,QAAQ,KAAKzK,SAAS,EAAE;QACxB,IAAI,CAACb,gBAAgB,CAACsL,QAAQ,EAAEhM,KAAK,CAAC;MAC1C;IACJ;EACJ,CAAC;EACD;EACAJ,sBAAsB,CAACxD,SAAS,CAACmJ,iBAAiB,GAAG,UAAUnE,KAAK,EAAEpB,KAAK,EAAE;IACzE,IAAIY,EAAE;IACN,IAAIC,EAAE,GAAG,IAAI,CAACf,KAAK;MAAE+D,EAAE,GAAGhD,EAAE,CAACC,IAAI;MAAEA,IAAI,GAAG+C,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAElB,SAAS,GAAG9B,EAAE,CAAC8B,SAAS;MAAE2J,WAAW,GAAGzL,EAAE,CAACyL,WAAW;IACzH,IAAIrK,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAIsK,gBAAgB,GAAGpO,YAAY,CAAC,IAAI,CAACiD,KAAK,EAAEuB,SAAS,CAAC;IAC1D,IAAI6J,UAAU,GAAGD,gBAAgB,KAAKnL,KAAK,GACvC,IAAI,CAACT,KAAK,GAAGzC,kBAAkB,CAAC4C,IAAI,EAAEM,KAAK,EAAEuB,SAAS,CAAC;IAC3D,IAAI8J,YAAY,GAAGD,UAAU,KAAK,CAAC,CAAC;IACpC,IAAIrL,WAAW,GAAGI,SAAS;IAC3B,IAAI,CAACnB,UAAU,GAAG,EAAE;IACpB,IAAIqM,YAAY,EAAE;MAAE;MAChBtL,WAAW,GAAGL,IAAI,CAAC0L,UAAU,CAAC;IAClC,CAAC,MACI;MACD,IAAIF,WAAW,EAAE;QAAE;QACfnL,WAAW,GAAGwB,SAAS,KAAKpB,SAAS,IAAIX,EAAE,GAAG,CAAC,CAAC,EAAEA,EAAE,CAAC+B,SAAS,CAAC,GAAGvB,KAAK,EAAER,EAAE,IAAIQ,KAAK;MACxF,CAAC,MACI;QACD,OAAO,IAAI,CAACsL,iBAAiB,CAACtL,KAAK,EAAEpB,KAAK,CAAC;MAC/C;IACJ;IACA,IAAI,CAACqB,eAAe,CAACF,WAAW,EAAEnB,KAAK,CAAC;IACxC,IAAIiC,MAAM,EAAE;MACR,IAAI,CAAChC,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;IAChC;IACA,IAAI,IAAI,CAACF,KAAK,CAACiD,MAAM,KAAKxB,SAAS,IAAI,IAAI,CAACvB,KAAK,CAACsB,IAAI,KAAKC,SAAS,EAAE;MAClEvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGC,SAAS;IAC/B;IACA,IAAI,CAACiB,UAAU,CAACxC,KAAK,CAAC;EAC1B,CAAC;EACDJ,sBAAsB,CAACxD,SAAS,CAACyI,6BAA6B,GAAG,UAAUvD,IAAI,EAAEtB,KAAK,EAAE;IACpF,IAAIY,EAAE;IACN,IAAIC,EAAE,GAAG,IAAI,CAACf,KAAK;MAAE+D,EAAE,GAAGhD,EAAE,CAACC,IAAI;MAAEA,IAAI,GAAG+C,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAElB,SAAS,GAAG9B,EAAE,CAAC8B,SAAS;MAAE2J,WAAW,GAAGzL,EAAE,CAACyL,WAAW;IACzH,IAAIrK,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAI0K,aAAa,GAAGxO,YAAY,CAAC,IAAI,CAACiD,KAAK,EAAEuB,SAAS,CAAC;IACvD,IAAIiK,cAAc,GAAG,IAAI,CAAC5M,KAAK,CAAC+G,WAAW,IAAI,IAAI,CAAC/G,KAAK,CAAC+G,WAAW,IAAItH,oBAAoB;IAC7F,IAAI,CAACW,UAAU,GAAG,EAAE;IACpB,IAAIkB,IAAI,KAAKqL,aAAa,IAAKrL,IAAI,KAAK,EAAE,IAAI,CAAClD,SAAS,CAACuO,aAAa,CAAE,EAAE;MACtE,IAAI1K,MAAM,IAAI,CAAC2K,cAAc,EAAE;QAC3B,IAAI,CAAC3M,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;MAChC;MACA,OAAO,IAAI,CAACwC,UAAU,CAACxC,KAAK,CAAC;IACjC;IACA,IAAIwM,UAAU,GAAGtO,kBAAkB,CAAC4C,IAAI,EAAEQ,IAAI,EAAEqB,SAAS,EAAE,IAAI,CAAC;IAChE,IAAI8J,YAAY,GAAGD,UAAU,KAAK,CAAC,CAAC;IACpC,IAAIrL,WAAW,GAAG,IAAI;IACtB,IAAIsL,YAAY,EAAE;MACdtL,WAAW,GAAGL,IAAI,CAAC0L,UAAU,CAAC;IAClC,CAAC,MACI,IAAIF,WAAW,EAAE;MAClBnL,WAAW,GAAGG,IAAI,GAAIqB,SAAS,IAAI/B,EAAE,GAAG,CAAC,CAAC,EAAEA,EAAE,CAAC+B,SAAS,CAAC,GAAGrB,IAAI,EAAEV,EAAE,IAAIU,IAAI,GAAI,IAAI;IACxF;IACA,IAAI,CAACD,eAAe,CAACF,WAAW,EAAEnB,KAAK,CAAC;IACxC,IAAI,IAAI,CAACA,KAAK,CAACsB,IAAI,KAAKC,SAAS,EAAE;MAC/BvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGC,SAAS;MAC3B,IAAI,CAACtB,IAAI,CAACsC,aAAa,CAAC,EAAE,EAAEvC,KAAK,CAAC;IACtC;IACA,IAAIiC,MAAM,IAAI,CAAC2K,cAAc,EAAE;MAC3B,IAAI,CAAC3M,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;IAChC;IACA,IAAI,CAACwC,UAAU,CAACxC,KAAK,CAAC;EAC1B,CAAC;EACDJ,sBAAsB,CAACxD,SAAS,CAACsQ,iBAAiB,GAAG,UAAUpL,IAAI,EAAEtB,KAAK,EAAE;IACxE,IAAIiC,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAIrB,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAE8B,SAAS,GAAG/B,EAAE,CAAC+B,SAAS;MAAEkB,EAAE,GAAGjD,EAAE,CAACG,OAAO;MAAEA,OAAO,GAAG8C,EAAE,KAAK,KAAK,CAAC,GAAG;QAAE5C,IAAI,EAAE;MAAE,CAAC,GAAG4C,EAAE;MAAEoG,EAAE,GAAGrJ,EAAE,CAACiM,gBAAgB;MAAEA,gBAAgB,GAAG5C,EAAE,KAAK,KAAK,CAAC,GAAGhM,mBAAmB,GAAGgM,EAAE;IAC/O,IAAIhJ,IAAI,GAAGF,OAAO,CAACE,IAAI;IACvB,IAAI4K,YAAY,GAAIvK,IAAI,KAAK,EAAE,IAAIL,IAAI,KAAK,CAAC,GAAI,CAAC,GAC9C4L,gBAAgB,CAAC/L,IAAI,EAAEQ,IAAI,EAAEqB,SAAS,CAAC;IAC3C,IAAIkJ,YAAY,KAAK,CAAC,CAAC,EAAE;MACrB,IAAI,CAACnL,gBAAgB,CAACmL,YAAY,GAAG5K,IAAI,EAAEjB,KAAK,CAAC;IACrD,CAAC,MACI;MACD,IAAI,CAACqB,eAAe,CAAC,IAAI,EAAErB,KAAK,CAAC;MACjC,IAAI,IAAI,CAACA,KAAK,CAACsB,IAAI,KAAKC,SAAS,EAAE;QAC/BvB,KAAK,CAACc,IAAI,CAACQ,IAAI,GAAGC,SAAS;MAC/B;IACJ;IACA,IAAIU,MAAM,EAAE;MACR,IAAI,CAAChC,IAAI,CAACmC,WAAW,CAACpC,KAAK,CAAC;IAChC;IACA,OAAO,IAAI,CAACwC,UAAU,CAACxC,KAAK,CAAC;EACjC,CAAC;EACDJ,sBAAsB,CAACxD,SAAS,CAACoP,2BAA2B,GAAG,YAAY;IACvE,IAAI5K,EAAE;IACN,IAAIb,KAAK,GAAG,IAAI;IAChB,IAAIc,EAAE,GAAG,IAAI,CAACb,KAAK,CAAC+G,WAAW;MAAEA,WAAW,GAAGlG,EAAE,KAAK,KAAK,CAAC,GAAG,CAAC,GAAGA,EAAE;IACrE,IAAIgD,EAAE,GAAG,IAAI,CAAC/D,KAAK;MAAEgN,MAAM,GAAGjJ,EAAE,CAACiJ,MAAM;MAAEC,MAAM,GAAGlJ,EAAE,CAACkJ,MAAM;MAAE1J,IAAI,GAAGQ,EAAE,CAACR,IAAI;MAAE4G,EAAE,GAAGpG,EAAE,CAAC/C,IAAI;MAAEA,IAAI,GAAGmJ,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEnG,UAAU,GAAGD,EAAE,CAACC,UAAU;MAAEH,IAAI,GAAGE,EAAE,CAACF,IAAI;MAAE5C,OAAO,GAAG8C,EAAE,CAAC9C,OAAO;MAAEiM,aAAa,GAAGnJ,EAAE,CAACmJ,aAAa;IAC7N,IAAI/K,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAIkC,KAAK,GAAG,IAAI,CAACnE,KAAK,CAACmE,KAAK;IAC5B,IAAIA,KAAK,KAAK5C,SAAS,IAAIuC,UAAU,KAAKvC,SAAS,EAAE;MACjD4C,KAAK,GAAGhG,YAAY,CAAC2C,IAAI,CAAC,CAAC,CAAC,EAAEgD,UAAU,CAAC;IAC7C;IACA,IAAImJ,gBAAgB,GAAG;MACnBC,WAAW,EAAE,KAAK;MAClBC,mBAAmB,EAAE,EAAE;MACvBC,MAAM,EAAEnL,MAAM;MACdoL,SAAS,EAAE,IAAI;MACfC,OAAO,EAAE,SAAAA,CAAUtL,KAAK,EAAE;QAAE,OAAOjC,KAAK,CAACgC,cAAc,CAACC,KAAK,CAAC;MAAE,CAAC;MACjEuL,eAAe,EAAExG,WAAW,IAAIvH,mBAAmB,GAAG;QAAEgO,GAAG,EAAE,CAAC;QAAE5C,KAAK,EAAE,MAAM;QAAE6C,MAAM,EAAE;MAAO,CAAC,GAAGlM,SAAS;MAC3GsI,SAAS,EAAE9C,WAAW,IAAIvH,mBAAmB,GACvC,iDAAiD,GACjD;IACV,CAAC;IACD,OAAQnC,KAAK,CAACwF,aAAa,CAACxF,KAAK,CAACqN,QAAQ,EAAE,IAAI,EAC5CrN,KAAK,CAACwF,aAAa,CAACzD,WAAW,EAAExC,QAAQ,CAAC,CAAC,CAAC,EAAEqQ,gBAAgB,CAAC,EAC3D5P,KAAK,CAACwF,aAAa,CAACvD,iBAAiB,EAAE;MAAEuK,SAAS,EAAE;IAAgB,CAAC,EACjExM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAsC,CAAC,EAC3ExM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAsB,CAAC,EAC3DxM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE,IAAI,EAAEmK,aAAa,CAAC,CAAC,EACpD3P,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAwB,CAAC,EAC7DxM,KAAK,CAACwF,aAAa,CAAC/D,MAAM,EAAE;MAAEkM,QAAQ,EAAE,CAAC;MAAE,YAAY,EAAE,QAAQ;MAAE,eAAe,EAAE,OAAO;MAAEpG,IAAI,EAAE,QAAQ;MAAErB,QAAQ,EAAE,MAAM;MAAEuH,OAAO,EAAE,IAAI,CAAC/I;IAAe,CAAC,EACzJ1E,KAAK,CAACwF,aAAa,CAAC,MAAM,EAAE;MAAEgH,SAAS,EAAE;IAA6B,CAAC,CAAC,CAAC,CAAC,CAAC,EACvFxM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAoD,CAAC,EAAE,IAAI,CAACpH,sBAAsB,EAAE,CAAC,CAAC,EAClIpF,KAAK,CAACwF,aAAa,CAACxD,kBAAkB,EAAE;MAAEwK,SAAS,EAAE;IAAqB,CAAC,EACvExM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAmB,CAAC,EACxDxM,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAEpM,UAAU,EAAEmD,EAAE,GAAG,CAAC,CAAC,EACnDA,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC+C,IAAI,EACpB/C,EAAE,CAAC,WAAW,CAAC,GAAG,IAAI,EACtBA,EAAE,CAAC,gBAAgB,CAAC,GAAGG,OAAO,EAC9BH,EAAE,CAAC,cAAc,CAAC,GAAG+C,IAAI,EACzB/C,EAAE,CAAC,UAAU,CAAC+J,MAAM,CAACjL,OAAO,CAAC2D,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGM,IAAI,IAAIN,IAAI,EAC3DzC,EAAE;IAAG,CAAC,EACVkM,MAAM,IAAIzP,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAiB,CAAC,EAAEiD,MAAM,CAAC,EAC7E,CAACnJ,IAAI,IAAIQ,KAAK,IAAI9G,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAA6B,CAAC,EAAE1F,KAAK,CAAC,EAChG,IAAI,CAACuJ,UAAU,EAAE,EACjBX,MAAM,IAAI1P,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAgB,CAAC,EAAEkD,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACzG,CAAC;EACDnN,sBAAsB,CAACxD,SAAS,CAACmP,mBAAmB,GAAG,YAAY;IAC/D,IAAI3K,EAAE;IACN,IAAIX,IAAI,GAAG,IAAI,CAACA,IAAI;IACpB,IAAIY,EAAE,GAAG,IAAI,CAACf,KAAK;MAAE2J,GAAG,GAAG5I,EAAE,CAAC4I,GAAG;MAAEqD,MAAM,GAAGjM,EAAE,CAACiM,MAAM;MAAEC,MAAM,GAAGlM,EAAE,CAACkM,MAAM;MAAElJ,EAAE,GAAGhD,EAAE,CAACC,IAAI;MAAEA,IAAI,GAAG+C,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEC,UAAU,GAAGjD,EAAE,CAACiD,UAAU;MAAET,IAAI,GAAGxC,EAAE,CAACwC,IAAI;MAAEM,IAAI,GAAG9C,EAAE,CAAC8C,IAAI;MAAE5C,OAAO,GAAGF,EAAE,CAACE,OAAO;IACzM,IAAIkB,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAI0L,aAAa,GAAG1N,IAAI,CAAC2N,gBAAgB,EAAE;IAC3C,IAAIC,UAAU,GAAGF,aAAa,CAAC/C,KAAK,KAAKrJ,SAAS,GAAGoM,aAAa,CAAC/C,KAAK,GAAG3K,IAAI,CAAC4N,UAAU;IAC1F,IAAI1J,KAAK,GAAG,IAAI,CAACnE,KAAK,CAACmE,KAAK;IAC5B,IAAIA,KAAK,KAAK5C,SAAS,IAAIuC,UAAU,KAAKvC,SAAS,EAAE;MACjD4C,KAAK,GAAGhG,YAAY,CAAC2C,IAAI,CAAC,CAAC,CAAC,EAAEgD,UAAU,CAAC;IAC7C;IACA,OAAQzG,KAAK,CAACwF,aAAa,CAACtE,aAAa,EAAE;MAAEqM,KAAK,EAAEiD,UAAU;MAAEF,aAAa,EAAE;QACvEG,OAAO,EAAEH,aAAa,CAACG,OAAO;QAC9BC,MAAM,EAAE,IAAI,CAAClM,OAAO;QACpBmM,IAAI,EAAE/L,MAAM;QACZgM,UAAU,EAAExQ,UAAU,CAACkQ,aAAa,CAACM,UAAU,EAAE,kBAAkB,EAAE,kBAAkB,CAAC;QACxFpE,SAAS,EAAE8D,aAAa,CAAC9D,SAAS;QAClCqE,QAAQ,EAAEP,aAAa,CAACO;MAC5B,CAAC;MAAEzE,GAAG,EAAEA,GAAG,KAAKlI,SAAS,GAAGkI,GAAG,GAAG,IAAI,CAACxJ,IAAI,CAACkO,aAAa;MAAEC,UAAU,EAAE,CAACtN,IAAI,CAAC3D,MAAM;IAAE,CAAC,EACtFE,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAEpM,UAAU,EAAEmD,EAAE,GAAG,CAAC,CAAC,EACnDA,EAAE,CAAC,QAAQ,CAAC,GAAG,CAAC+C,IAAI,EACpB/C,EAAE,CAAC,SAAS,CAAC+J,MAAM,CAACjL,OAAO,CAAC2D,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAG,CAACM,IAAI,IAAIN,IAAI,EAC3DzC,EAAE,CAAC,gBAAgB,CAAC,GAAGG,OAAO,EAC9BH,EAAE,CAAC,cAAc,CAAC,GAAG+C,IAAI,EACzB/C,EAAE,CAAC,UAAU,CAAC+J,MAAM,CAACjL,OAAO,CAAC2D,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGM,IAAI,IAAIN,IAAI,EAC3DzC,EAAE;IAAG,CAAC,EACVkM,MAAM,IAAIzP,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAiB,CAAC,EAAEiD,MAAM,CAAC,EAC7E,CAACnJ,IAAI,IAAIQ,KAAK,IAAI9G,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAA6B,CAAC,EAAE1F,KAAK,CAAC,EAChG,IAAI,CAACuJ,UAAU,EAAE,EACjBX,MAAM,IAAI1P,KAAK,CAACwF,aAAa,CAAC,KAAK,EAAE;MAAEgH,SAAS,EAAE;IAAgB,CAAC,EAAEkD,MAAM,CAAC,CAAC,CAAC;EAC1F,CAAC;EACDnN,sBAAsB,CAACxD,SAAS,CAACsR,UAAU,GAAG,YAAY;IACtD,IAAI9M,EAAE;IACN,IAAIb,KAAK,GAAG,IAAI;IAChB,IAAIE,IAAI,GAAG,IAAI,CAACA,IAAI;IACpB,IAAIY,EAAE,GAAG,IAAI,CAACf,KAAK;MAAE6C,SAAS,GAAG9B,EAAE,CAAC8B,SAAS;MAAE3B,WAAW,GAAGH,EAAE,CAACG,WAAW;MAAEqN,gBAAgB,GAAGxN,EAAE,CAACwN,gBAAgB;MAAEC,UAAU,GAAGzN,EAAE,CAACyN,UAAU;MAAEzK,EAAE,GAAGhD,EAAE,CAACC,IAAI;MAAEA,IAAI,GAAG+C,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEoG,EAAE,GAAGpJ,EAAE,CAACE,OAAO;MAAEA,OAAO,GAAGkJ,EAAE,KAAK,KAAK,CAAC,GAAG;QAAEhJ,IAAI,EAAE;MAAE,CAAC,GAAGgJ,EAAE;IAC1P,IAAI0D,aAAa,GAAG1N,IAAI,CAAC2N,gBAAgB,EAAE;IAC3C,IAAIlK,EAAE,GAAGzD,IAAI,CAACyD,EAAE;IAChB,IAAIzC,IAAI,GAAGF,OAAO,CAACE,IAAI;IACvB,IAAIgB,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAIsM,SAAS,GAAG,aAAa,CAAC5D,MAAM,CAACjH,EAAE,CAAC6K,SAAS,EAAE,KAAK,CAAC;IACzD,IAAI1C,YAAY,GAAG5J,MAAM,GAAG,IAAI,CAAC6J,eAAe,EAAE,GAAGvK,SAAS;IAC9D,IAAID,IAAI,GAAG,IAAI,CAACxB,KAAK,CAACiD,MAAM,KAAKxB,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACiD,MAAM,GAAG,IAAI,CAAC/C,KAAK,CAACsB,IAAI;IAChF,IAAIoB,gBAAgB,GAAGvE,YAAY,CAAC,IAAI,CAACiD,KAAK,EAAEuB,SAAS,CAAC;IAC1D,IAAIvB,KAAK,GAAGhD,SAAS,CAACkD,IAAI,CAAC,IAAIA,IAAI,KAAKoB,gBAAgB,GAAG,IAAI,GAAG,IAAI,CAACtB,KAAK;IAC5E,IAAIoN,aAAa,GAAG,IAAI,CAAC1O,KAAK,CAAC6D,IAAI,IAAInF,IAAI;IAC3C,OAAQnB,KAAK,CAACwF,aAAa,CAAC2L,aAAa,EAAE;MAAElE,EAAE,EAAErK,IAAI,CAACwO,SAAS;MAAE1N,OAAO,EAAE2N,OAAO,CAAC3N,OAAO,CAAC;MAAEiN,IAAI,EAAE/L,MAAM;MAAEnB,IAAI,EAAEA,IAAI;MAAE+K,YAAY,EAAEA,YAAY;MAAEzK,KAAK,EAAEA,KAAK;MAAEuB,SAAS,EAAEA,SAAS;MAAEgM,UAAU,EAAE3N,WAAW;MAAE8C,UAAU,EAAE,IAAI,CAAChE,KAAK,CAACgE,UAAU;MAAE8K,WAAW,EAAE3O,IAAI,CAACzC,IAAI;MAAEqR,OAAO,EAAE,SAAAA,CAAUlL,IAAI,EAAE;QAAED,EAAE,CAACC,IAAI,GAAG5D,KAAK,CAACE,IAAI,CAAC0D,IAAI,GAAGA,IAAI;QAAE5D,KAAK,CAACS,UAAU,GAAG,CAAC;MAAE,CAAC;MAAEsO,YAAY,EAAG,IAAI,CAAC9O,KAAK,CAAC+G,WAAW,IAAI,IAAI,CAAC/G,KAAK,CAAC+G,WAAW,GAAGtH,oBAAoB,GAC5a;QAAEsP,SAAS,EAAEpB,aAAa,CAACF;MAAO,CAAC,GACnC,CAAC,CAAC;MAAEuB,eAAe,EAAEvR,UAAU,CAAC,gBAAgB,GAAGmD,EAAE,GAAG,CAAC,CAAC,EAC5DA,EAAE,CAAC,iBAAiB,CAAC,GAAG,CAACG,OAAO,EAChCH,EAAE,EAAE;MAAEqO,SAAS,EAAEvL,EAAE,CAACK,OAAO,GAAG;QAAEmL,SAAS,EAAEX;MAAU,CAAC,GAAGhN,SAAS;MAAEwJ,GAAG,EAAE,SAAS;MAAE9J,IAAI,EAAEA,IAAI;MAAE6J,OAAO,EAAE,IAAI,CAACxG,eAAe;MAAEgK,UAAU,EAAEA,UAAU;MAAEa,YAAY,EAAEd,gBAAgB;MAAEhD,WAAW,EAAE,SAAAA,CAAUC,CAAC,EAAE;QAAE,OAAOA,CAAC,CAAClG,cAAc,EAAE;MAAE,CAAC;MAAE3B,QAAQ,EAAE,IAAI,CAACA,QAAQ;MAAE2L,UAAU,EAAE1L,EAAE,CAAC2L,WAAW;MAAEC,QAAQ,EAAE,IAAI,CAACrP,IAAI,CAACsP,mBAAmB;IAAG,CAAC,CAAC;EAC9V,CAAC;EACD3P,sBAAsB,CAACxD,SAAS,CAACyO,eAAe,GAAG,UAAUvJ,IAAI,EAAEgJ,EAAE,EAAEJ,WAAW,EAAE;IAChF,IAAInK,KAAK,GAAG,IAAI;IAChB,IAAIa,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEkL,QAAQ,GAAGpK,EAAE,CAACoK,QAAQ;MAAEtB,QAAQ,GAAG9I,EAAE,CAAC8I,QAAQ;MAAE7I,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEG,WAAW,GAAGJ,EAAE,CAACI,WAAW;MAAE6C,EAAE,GAAGjD,EAAE,CAACG,OAAO;MAAEA,OAAO,GAAG8C,EAAE,KAAK,KAAK,CAAC,GAAG;QAAE5C,IAAI,EAAE;MAAE,CAAC,GAAG4C,EAAE;IAC5M,IAAI5B,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM,KAAKV,SAAS,GAAG,IAAI,CAACzB,KAAK,CAACmC,MAAM,GAAG,IAAI,CAACjC,KAAK,CAACiC,MAAM;IACpF,IAAIb,KAAK,GAAG,IAAI,CAACA,KAAK;IACtB,IAAIoO,aAAa,GAAGC,IAAI,CAACrD,GAAG,CAAC,CAAC,EAAEtL,IAAI,CAACoG,SAAS,CAAC,UAAUlK,CAAC,EAAE;MAAE,OAAOgB,OAAO,CAAChB,CAAC,EAAEoE,KAAK,EAAEJ,WAAW,CAAC;IAAE,CAAC,CAAC,CAAC;IACxG,IAAI,IAAI,CAACZ,UAAU,IAAI,CAACpC,OAAO,CAAC,IAAI,CAACkK,iBAAiB,EAAE9G,KAAK,EAAEJ,WAAW,CAAC,EAAE;MACzE,IAAI,CAACZ,UAAU,GAAG,EAAE;IACxB;IACA,OAAQ/C,KAAK,CAACwF,aAAa,CAACvE,SAAS,EAAE;MAAEgM,EAAE,EAAEA,EAAE;MAAEoF,QAAQ,EAAGzN,MAAM,IAAI,IAAI,CAACN,UAAW;MAAEuI,WAAW,EAAEA,WAAW;MAAEc,QAAQ,EAAEA,QAAQ;MAAE2E,SAAS,EAAE,IAAI,CAAC7P,KAAK,CAAC6P,SAAS;MAAEvO,KAAK,EAAEE,IAAI,GAAG,IAAI,CAAClB,UAAU;MAAEwP,aAAa,EAAE,IAAI,CAACxP,UAAU;MAAE0C,GAAG,EAAE,SAAAA,CAAU+M,EAAE,EAAE;QAAE,OAAO9P,KAAK,CAACO,MAAM,GAAGuP,EAAE,IAAIA,EAAE,CAAC7M,KAAK;MAAE,CAAC;MAAE8H,OAAO,EAAE,IAAI,CAAC/F,YAAY;MAAE5B,SAAS,EAAE,IAAI,CAACC,cAAc;MAAEH,QAAQ,EAAE,IAAI,CAACwC,aAAa;MAAEqK,OAAO,EAAE,IAAI,CAAC7P,IAAI,CAAC8P,WAAW;MAAEC,MAAM,EAAE,IAAI,CAACxL,UAAU;MAAEkF,QAAQ,EAAEA,QAAQ;MAAEuG,QAAQ,EAAEhO,MAAM;MAAEiO,IAAI,EAAE,IAAI,CAACjQ,IAAI,CAACwO,SAAS;MAAE0B,gBAAgB,EAAE,SAAS,CAACxF,MAAM,CAAC,IAAI,CAAC1K,IAAI,CAACzC,IAAI,EAAE,GAAG,CAAC,CAACmN,MAAM,CAAC6E,aAAa,GAAGzO,OAAO,CAACE,IAAI,CAAC;MAAEmP,IAAI,EAAE,UAAU;MAAEC,cAAc,EAAE,IAAI,CAACvQ,KAAK,CAACuQ,cAAc;MAAEC,eAAe,EAAE,IAAI,CAACxQ,KAAK,CAACwQ,eAAe;MAAEC,YAAY,EAAE,IAAI,CAACjJ,QAAQ;MAAE+B,MAAM,EAAE,IAAI,CAACvJ,KAAK,CAAC0Q;IAAY,CAAC,CAAC;EAClwB,CAAC;EACD5Q,sBAAsB,CAACxD,SAAS,CAACiF,eAAe,GAAG,UAAUH,IAAI,EAAElB,KAAK,EAAE;IACtE,IAAIoB,KAAK,GAAG,IAAI,CAACA,KAAK;IACtB,IAAK,CAAChD,SAAS,CAACgD,KAAK,CAAC,IAAI,CAAChD,SAAS,CAAC8C,IAAI,CAAC,IAAKlD,OAAO,CAACoD,KAAK,EAAEF,IAAI,EAAE,IAAI,CAACpB,KAAK,CAACkB,WAAW,CAAC,EAAE;MACzF;IACJ;IACA,IAAI,IAAI,CAAClB,KAAK,CAACsB,KAAK,KAAKG,SAAS,EAAE;MAChCvB,KAAK,CAACc,IAAI,CAACM,KAAK,GAAGF,IAAI;IAC3B;IACA,IAAI,CAACqD,oBAAoB,GAAGrD,IAAI;IAChClB,KAAK,CAAC0E,MAAM,CAACC,IAAI,CAAC;MAAEC,IAAI,EAAE;IAAW,CAAC,CAAC;EAC3C,CAAC;EACDhF,sBAAsB,CAACxD,SAAS,CAAC0P,eAAe,GAAG,YAAY;IAC3D,IAAI1K,KAAK,GAAG,IAAI,CAACA,KAAK;IACtB,IAAIR,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEe,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAE8B,SAAS,GAAG/B,EAAE,CAAC+B,SAAS;MAAE3B,WAAW,GAAGJ,EAAE,CAACI,WAAW;MAAE6C,EAAE,GAAGjD,EAAE,CAACG,OAAO;MAAEA,OAAO,GAAG8C,EAAE,KAAK,KAAK,CAAC,GAAG;QAAE5C,IAAI,EAAE;MAAE,CAAC,GAAG4C,EAAE;MAAEoG,EAAE,GAAGrJ,EAAE,CAACiM,gBAAgB;MAAEA,gBAAgB,GAAG5C,EAAE,KAAK,KAAK,CAAC,GAAGhM,mBAAmB,GAAGgM,EAAE;IAC7Q,IAAI3I,IAAI,GAAG,IAAI,CAACxB,KAAK,CAACiD,MAAM,GAAG,IAAI,CAACjD,KAAK,CAACiD,MAAM,GAAG,IAAI,CAAC/C,KAAK,CAACsB,IAAI;IAClE,IAAIlD,SAAS,CAACgD,KAAK,CAAC,IAAIE,IAAI,KAAKC,SAAS,EAAE;MACxC,OAAOT,IAAI,CAACoG,SAAS,CAAC,UAAUlK,CAAC,EAAE;QAAE,OAAOgB,OAAO,CAAChB,CAAC,EAAEoE,KAAK,EAAEJ,WAAW,CAAC;MAAE,CAAC,CAAC;IAClF,CAAC,MACI,IAAIM,IAAI,EAAE;MACX,OAAOuL,gBAAgB,CAAC/L,IAAI,EAAEQ,IAAI,EAAEqB,SAAS,CAAC;IAClD,CAAC,MACI;MACD,OAAO5B,OAAO,CAACE,IAAI,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;IACtC;EACJ,CAAC;EACDrB,sBAAsB,CAACxD,SAAS,CAACiC,YAAY,GAAG,UAAU+C,KAAK,EAAE;IAC7D,IAAIR,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEgB,IAAI,GAAGF,EAAE,CAACE,IAAI;MAAE6B,SAAS,GAAG/B,EAAE,CAAC+B,SAAS;IAC7D,IAAI,CAACvC,UAAU,GAAG/B,YAAY,CAAC+C,KAAK,EAAEN,IAAI,EAAE6B,SAAS,CAAC;EAC1D,CAAC;EACD/C,sBAAsB,CAACxD,SAAS,CAACoG,UAAU,GAAG,UAAUxC,KAAK,EAAE;IAC3D,IAAI,CAACC,IAAI,CAACuC,UAAU,CAACxC,KAAK,CAAC;IAC3B,IAAI,CAACuE,oBAAoB,GAAGhD,SAAS;EACzC,CAAC;EACD3B,sBAAsB,CAACxD,SAAS,CAAC0M,cAAc,GAAG,UAAU2H,OAAO,EAAE;IACjE,KAAK,IAAIC,EAAE,GAAG,CAAC,EAAEC,SAAS,GAAGF,OAAO,EAAEC,EAAE,GAAGC,SAAS,CAACxT,MAAM,EAAEuT,EAAE,EAAE,EAAE;MAC/D,IAAIE,KAAK,GAAGD,SAAS,CAACD,EAAE,CAAC;MACzB,IAAI,CAACtM,QAAQ,CAAC;QAAE2C,WAAW,EAAE6J,KAAK,CAACpN,MAAM,CAACqN;MAAY,CAAC,CAAC;IAC5D;IACA;EACJ,CAAC;EACD;EACAjR,sBAAsB,CAACkR,WAAW,GAAG,UAAU;EAC/C;EACAlR,sBAAsB,CAACmR,SAAS,GAAGnU,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEW,YAAY,CAACwT,SAAS,CAAC,EAAE;IAAE1N,IAAI,EAAE/F,SAAS,CAAC0T,KAAK,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,CAAC,CAAC;IAAE1N,OAAO,EAAEhG,SAAS,CAAC0T,KAAK,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;IAAEzN,QAAQ,EAAEjG,SAAS,CAAC0T,KAAK,CAAC,CAAC,IAAI,EAAE,OAAO,EAAE,MAAM,EAAE,SAAS,CAAC,CAAC;IAAEhQ,WAAW,EAAE1D,SAAS,CAAC2T,MAAM;IAAEnN,UAAU,EAAExG,SAAS,CAAC2T,MAAM;IAAEvL,OAAO,EAAEpI,SAAS,CAAC4T,IAAI;IAAEhH,WAAW,EAAE5M,SAAS,CAAC2T,MAAM;IAAE3E,WAAW,EAAEhP,SAAS,CAAC4T,IAAI;IAAEvH,WAAW,EAAErM,SAAS,CAAC4T,IAAI;IAAElH,aAAa,EAAE1M,SAAS,CAAC2T,MAAM;IAAE/F,OAAO,EAAEpN,eAAe;IAAE0I,iBAAiB,EAAElJ,SAAS,CAAC2T,MAAM;IAAE3J,QAAQ,EAAEhK,SAAS,CAAC4T,IAAI;IAAE5G,EAAE,EAAEhN,SAAS,CAAC2T,MAAM;IAAEZ,cAAc,EAAE/S,SAAS,CAAC2T,MAAM;IAAEX,eAAe,EAAEhT,SAAS,CAAC2T,MAAM;IAAEtN,IAAI,EAAErG,SAAS,CAAC6T,GAAG;IAAEX,WAAW,EAAElT,SAAS,CAAC8T;EAAK,CAAC,CAAC;EAC3sB;EACAxR,sBAAsB,CAAC6H,YAAY,GAAG7K,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEW,YAAY,CAACkK,YAAY,CAAC,EAAE;IAAEpE,IAAI,EAAE,QAAQ;IAAEC,OAAO,EAAE,QAAQ;IAAEC,QAAQ,EAAE,OAAO;IAAE+I,WAAW,EAAE,KAAK;IAAE3C,WAAW,EAAE,IAAI;IAAErC,QAAQ,EAAE;EAAM,CAAC,CAAC;EACzM,OAAO1H,sBAAsB;AACjC,CAAC,CAACvC,KAAK,CAACgU,SAAS,CAAE;AACnB,SAASzR,sBAAsB;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI0R,oBAAoB,GAAG3T,kBAAkB,EAAE;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI4T,QAAQ,GAAG3T,gBAAgB,CAAC0T,oBAAoB,EAAE1R,sBAAsB,CAAC;AACpF2R,QAAQ,CAACT,WAAW,GAAG,oBAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}