{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    if (typeof b !== \"function\" && b !== null) throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __spreadArray = this && this.__spreadArray || function (to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n    if (ar || !(i in from)) {\n      if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n      ar[i] = from[i];\n    }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, createPropsContext, kendoThemeMaps, withPropsContext, IconWrap } from '@progress/kendo-react-common';\nimport { plusIcon } from '@progress/kendo-svg-icons';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport TagList from './TagList';\nimport SearchBar from '../common/SearchBar';\nimport DropDownBase from '../common/DropDownBase';\nimport { ActiveDescendant } from './../common/settings';\nimport { itemIndexStartsWith, getItemValue, areSame, removeDataItems, isPresent, preventDefaultNonInputs, matchTags } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar sizeMap = kendoThemeMaps.sizeMap,\n  roundedMap = kendoThemeMaps.roundedMap;\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar preventDefault = function (event) {\n  return event.preventDefault();\n};\nvar isCustom = function (type) {\n  return type === FocusedItemType.CustomItem;\n};\nvar FocusedItemType;\n(function (FocusedItemType) {\n  FocusedItemType[FocusedItemType[\"None\"] = 0] = \"None\";\n  FocusedItemType[FocusedItemType[\"ListItem\"] = 1] = \"ListItem\";\n  FocusedItemType[FocusedItemType[\"CustomItem\"] = 2] = \"CustomItem\";\n})(FocusedItemType || (FocusedItemType = {}));\n/** @hidden */\nvar MultiSelectWithoutContext = /** @class */function (_super) {\n  __extends(MultiSelectWithoutContext, _super);\n  function MultiSelectWithoutContext(props) {\n    var _this = _super.call(this, props) || this;\n    /**\n     * @hidden\n     */\n    _this.state = {\n      activedescendant: ActiveDescendant.PopupList\n    };\n    _this._element = null;\n    _this._valueItemsDuringOnChange = null;\n    _this._inputId = guid();\n    _this.base = new DropDownBase(_this);\n    _this._tags = [];\n    _this._input = null;\n    _this._skipFocusEvent = false;\n    _this.scrollToFocused = false;\n    /**\n     * @hidden\n     */\n    _this.focus = function () {\n      if (_this._input) {\n        _this._input.focus();\n      }\n    };\n    /**\n     * @hidden\n     */\n    _this.handleItemSelect = function (index, state) {\n      var _a = _this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n      var skip = virtual ? virtual.skip : 0;\n      var dataItem = data[index - skip];\n      var indexInValue = _this.value.findIndex(function (i) {\n        return areSame(i, dataItem, dataItemKey);\n      });\n      var newItems = [];\n      if (indexInValue !== -1) {\n        // item is already selected\n        newItems = _this.value;\n        newItems.splice(indexInValue, 1);\n      } else {\n        newItems = __spreadArray(__spreadArray([], _this.value, true), [dataItem], false);\n      }\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      if (text) {\n        if (_this.state.text) {\n          state.data.text = '';\n        }\n        _this.base.filterChanged('', state);\n      }\n      if (_this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n      _this.triggerOnChange(newItems, state);\n      _this.base.triggerPageChangeCornerItems(dataItem, state);\n    };\n    /**\n     * @hidden\n     */\n    _this.onTagDelete = function (itemsToRemove, event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n      if (!_this.state.focused) {\n        state.data.focused = true;\n        _this.focus();\n      }\n      var selected = _this.value;\n      removeDataItems(selected, itemsToRemove, _this.props.dataItemKey);\n      _this.triggerOnChange(selected, state);\n      _this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    _this.itemFocus = function (index, state) {\n      var _a = _this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        allowCustom = _a.allowCustom,\n        virtual = _a.virtual;\n      var skip = virtual ? virtual.skip : 0;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var focusedIndex = _this.getFocusedState().focusedIndex;\n      var customItem = allowCustom && text;\n      var nextFocusedItem = data[index - skip];\n      if (nextFocusedItem && focusedIndex !== index) {\n        if (_this.state.focusedIndex !== index) {\n          state.data.focusedIndex = index;\n          state.data.activedescendant = ActiveDescendant.PopupList;\n        }\n      } else if (customItem && index === -1) {\n        if (_this.state.focusedIndex !== undefined) {\n          state.data.focusedIndex = undefined;\n        }\n      }\n      _this.base.triggerPageChangeCornerItems(nextFocusedItem, state);\n    };\n    _this.componentRef = function (element) {\n      _this._element = element;\n      _this.base.wrapper = element;\n    };\n    _this.searchbarRef = function (searchbar) {\n      var input = _this._input = searchbar && searchbar.input;\n      if (input && _this.state.focused) {\n        window.setTimeout(function () {\n          return input.focus();\n        }, 0);\n      }\n    };\n    _this.onChangeHandler = function (event) {\n      var state = _this.base.initState();\n      var value = event.currentTarget.value;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      state.syntheticEvent = event;\n      if (_this.props.filter === undefined) {\n        state.data.text = value;\n      }\n      state.data.focusedIndex = undefined;\n      if (!opened) {\n        _this.base.togglePopup(state);\n      }\n      _this.base.filterChanged(value, state);\n      _this.applyState(state);\n    };\n    _this.clearButtonClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      event.stopPropagation();\n      if (_this.value.length > 0) {\n        _this.triggerOnChange([], state);\n      }\n      if (_this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n      if (opened) {\n        _this.base.togglePopup(state);\n      }\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      if (isPresent(text) && text !== '') {\n        _this.base.filterChanged('', state);\n      }\n      if (_this.state.text) {\n        state.data.text = '';\n      }\n      _this.applyState(state);\n    };\n    _this.onInputKeyDown = function (event) {\n      var keyCode = event.keyCode;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var focusedItem = _this.getFocusedState().focusedItem;\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      if (!text && _this.value.length > 0 && (keyCode === Keys.left || keyCode === Keys.right || keyCode === Keys.home || keyCode === Keys.end || keyCode === Keys.delete || keyCode === Keys.backspace)) {\n        return _this.onTagsNavigate(event, state);\n      }\n      var togglePopup = function () {\n        event.preventDefault();\n        _this.base.togglePopup(state);\n        _this.applyState(state);\n      };\n      if (opened) {\n        if (event.altKey && keyCode === Keys.up) {\n          togglePopup();\n        } else if (keyCode === Keys.up || keyCode === Keys.down) {\n          event.preventDefault();\n          _this.onNavigate(state, keyCode);\n        } else if (keyCode === Keys.enter) {\n          event.preventDefault();\n          if (_this.props.allowCustom && text && focusedItem === null) {\n            _this.customItemSelect(event);\n          } else {\n            _this.selectFocusedItem(event);\n          }\n        } else if (keyCode === Keys.esc) {\n          togglePopup();\n        }\n      } else if (event.altKey && keyCode === Keys.down) {\n        togglePopup();\n      }\n    };\n    _this.renderListContainer = function () {\n      var _a, _b;\n      var base = _this.base;\n      var _c = _this.props,\n        header = _c.header,\n        footer = _c.footer,\n        allowCustom = _c.allowCustom,\n        dir = _c.dir,\n        _d = _c.data,\n        data = _d === void 0 ? [] : _d,\n        size = _c.size;\n      var popupSettings = _this.base.getPopupSettings();\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n      var listContainerProps = {\n        dir: dir !== undefined ? dir : base.dirCalculated,\n        width: popupWidth,\n        popupSettings: {\n          popupClass: classNames(popupSettings.popupClass, 'k-list-container', 'k-multiselect-popup'),\n          className: popupSettings.className,\n          animate: popupSettings.animate,\n          anchor: _this.element,\n          show: opened,\n          onOpen: _this.onPopupOpened,\n          onClose: _this.onPopupClosed,\n          appendTo: popupSettings.appendTo\n        },\n        itemsCount: [data.length, _this.value.length]\n      };\n      var focusedType = _this.getFocusedState().focusedType;\n      var customItem = allowCustom && text && React.createElement(\"div\", {\n        className: classNames('k-list', (_a = {}, _a[\"k-list-\".concat(sizeMap[size] || size)] = size, _a)),\n        key: \"customitem\",\n        onClick: _this.customItemSelect,\n        onMouseDown: preventDefault\n      }, React.createElement(\"div\", {\n        className: classNames('k-list-item k-custom-item', {\n          'k-focus': isCustom(focusedType)\n        }),\n        style: {\n          fontStyle: 'italic'\n        }\n      }, text, React.createElement(IconWrap, {\n        name: 'plus',\n        icon: plusIcon,\n        style: {\n          position: 'absolute',\n          right: '0.5em'\n        }\n      })));\n      return React.createElement(ListContainer, __assign({}, listContainerProps), header && React.createElement(\"div\", {\n        className: \"k-list-header\"\n      }, header), customItem, React.createElement(\"div\", {\n        className: classNames('k-list', (_b = {}, _b[\"k-list-\".concat(sizeMap[size] || size)] = size, _b['k-virtual-list'] = _this.base.vs.enabled, _b))\n      }, _this.renderList()), footer && React.createElement(\"div\", {\n        className: \"k-list-footer\"\n      }, footer));\n    };\n    _this.renderList = function () {\n      var _a = _this.props,\n        _b = _a.data,\n        data = _b === void 0 ? [] : _b,\n        textField = _a.textField,\n        listNoDataRender = _a.listNoDataRender,\n        itemRender = _a.itemRender,\n        dataItemKey = _a.dataItemKey,\n        virtual = _a.virtual;\n      var vs = _this.base.vs;\n      var skip = virtual ? virtual.skip : 0;\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var focusedIndex = _this.getFocusedState().focusedIndex;\n      var popupSettings = _this.base.getPopupSettings();\n      var translate = \"translateY(\".concat(vs.translate, \"px)\");\n      return React.createElement(List, {\n        id: _this.base.listBoxId,\n        show: opened,\n        data: data.slice(),\n        focusedIndex: focusedIndex - skip,\n        value: _this.value,\n        textField: textField,\n        valueField: dataItemKey,\n        optionsGuid: _this.base.guid,\n        listRef: function (list) {\n          vs.list = _this.base.list = list;\n        },\n        wrapperStyle: {\n          maxHeight: popupSettings.height\n        },\n        wrapperCssClass: \"k-list-content\",\n        listStyle: vs.enabled ? {\n          transform: translate\n        } : undefined,\n        key: \"listKey\",\n        skip: skip,\n        onClick: _this.handleItemClick,\n        itemRender: itemRender,\n        noDataRender: listNoDataRender,\n        onMouseDown: preventDefault,\n        onBlur: _this.handleBlur,\n        onScroll: function (e) {\n          vs.scrollHandler(e);\n        },\n        wrapperRef: vs.scrollerRef,\n        scroller: _this.base.renderScrollElement()\n      });\n    };\n    _this.customItemSelect = function (event) {\n      var _a;\n      var itemText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n      var textField = _this.props.textField;\n      if (!itemText) {\n        return;\n      }\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      var item = textField ? (_a = {}, _a[textField] = itemText, _a) : itemText;\n      if (_this.state.text !== undefined) {\n        state.data.text = '';\n      }\n      state.data.focusedIndex = undefined;\n      _this.base.filterChanged('', state);\n      var newItems = __spreadArray(__spreadArray([], _this.value, true), [item], false);\n      _this.triggerOnChange(newItems, state);\n      _this.base.togglePopup(state);\n      _this.applyState(state);\n    };\n    _this.handleWrapperClick = function (event) {\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var input = _this._input;\n      if (!opened && input) {\n        _this.focusElement(input);\n      }\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      if (!_this.state.focused) {\n        state.events.push({\n          type: 'onFocus'\n        });\n        state.data.focused = true;\n      }\n      _this.base.togglePopup(state);\n      _this.applyState(state);\n    };\n    _this.handleItemClick = function (index, event) {\n      var state = _this.base.initState();\n      state.syntheticEvent = event;\n      _this.handleItemSelect(index, state);\n      if (_this.props.autoClose) {\n        _this.base.togglePopup(state);\n      }\n      event.stopPropagation();\n      _this.applyState(state);\n    };\n    _this.handleBlur = function (event) {\n      if (!_this.state.focused || _this._skipFocusEvent) {\n        return;\n      }\n      var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n      var state = _this.base.initState();\n      var _a = _this.props,\n        allowCustom = _a.allowCustom,\n        filterable = _a.filterable;\n      state.syntheticEvent = event;\n      state.data.focused = false;\n      state.events.push({\n        type: 'onBlur'\n      });\n      if (opened) {\n        if (_this.state.opened) {\n          state.data.opened = false;\n        }\n        state.events.push({\n          type: 'onClose'\n        });\n      }\n      if (!allowCustom && !filterable && _this.state.text) {\n        state.data.text = '';\n      }\n      _this.applyState(state);\n    };\n    _this.handleFocus = function (event) {\n      if (_this._skipFocusEvent) {\n        return;\n      }\n      _this.base.handleFocus(event);\n    };\n    _this.onPopupOpened = function () {\n      if (_this._input && _this.state.focused) {\n        _this.focusElement(_this._input);\n      }\n    };\n    _this.onPopupClosed = function () {\n      if (_this.state.focused) {\n        window.setTimeout(function () {\n          if (_this.state.focused) {\n            _this.focusElement(_this._input);\n          }\n        }, 0);\n      }\n    };\n    _this.setValidity = function () {\n      if (_this._input && _this._input.setCustomValidity) {\n        _this._input.setCustomValidity(_this.validity.valid ? '' : _this.props.validationMessage || VALIDATION_MESSAGE);\n      }\n    };\n    validatePackage(packageMetadata);\n    return _this;\n  }\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"element\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this._element;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"value\", {\n    /**\n     * Represents the value of the MultiSelect.\n     */\n    get: function () {\n      var result = [];\n      if (this._valueItemsDuringOnChange) {\n        result.push.apply(result, this._valueItemsDuringOnChange);\n      } else if (this.props.value) {\n        result.push.apply(result, this.props.value);\n      } else if (this.state.value) {\n        result.push.apply(result, this.state.value);\n      } else if (this.props.defaultValue) {\n        result.push.apply(result, this.props.defaultValue);\n      }\n      return result;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"name\", {\n    /**\n     * Gets the `name` property of the MultiSelect.\n     */\n    get: function () {\n      return this.props.name;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"validity\", {\n    /**\n     * Represents the validity state into which the MultiSelect is set.\n     */\n    get: function () {\n      var customError = this.props.validationMessage !== undefined;\n      var isValid = !this.required || this.value !== null && this.value.length > 0 && this.value !== undefined;\n      var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n      return {\n        customError: customError,\n        valid: valid,\n        valueMissing: this.value === null\n      };\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"required\", {\n    /**\n     * @hidden\n     */\n    get: function () {\n      return this.props.required !== undefined ? this.props.required : MultiSelectWithoutContext.defaultProps.required;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  Object.defineProperty(MultiSelectWithoutContext.prototype, \"validityStyles\", {\n    get: function () {\n      return this.props.validityStyles !== undefined ? this.props.validityStyles : MultiSelectWithoutContext.defaultProps.validityStyles;\n    },\n    enumerable: false,\n    configurable: true\n  });\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n    var virtual = this.props.virtual;\n    var skip = virtual ? virtual.skip : 0;\n    var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n    var opening = !prevOpened && opened;\n    var closing = prevOpened && !opened;\n    var popupSettings = this.base.getPopupSettings();\n    if (!popupSettings.animate && closing) {\n      this.onPopupClosed();\n    }\n    if (virtual && virtual.total !== prevTotal) {\n      this.base.vs.calcScrollElementHeight();\n      this.base.vs.reset();\n    } else {\n      var _a = this.getFocusedState(),\n        focusedItem = _a.focusedItem,\n        focusedIndex = _a.focusedIndex;\n      if (opening && virtual) {\n        this.base.scrollToVirtualItem(virtual, focusedIndex - skip);\n      } else if (opening && !virtual) {\n        this.base.scrollToItem(focusedIndex);\n      } else if (opened && prevOpened && focusedItem && this.scrollToFocused) {\n        this.base.scrollToItem(focusedIndex - skip);\n      }\n    }\n    this.scrollToFocused = false;\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.prototype.componentDidMount = function () {\n    this.base.didMount();\n    this.setValidity();\n  };\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.prototype.onNavigate = function (state, keyCode) {\n    var _a = this.props,\n      allowCustom = _a.allowCustom,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b;\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var _c = this.getFocusedState(),\n      focusedType = _c.focusedType,\n      focusedIndex = _c.focusedIndex;\n    var customItem = allowCustom && text;\n    var customItemFocused = isCustom(focusedType);\n    var base = this.base;\n    var vs = base.vs;\n    if (opened && keyCode === Keys.up && customItemFocused) {\n      if (this.state.focusedIndex !== undefined) {\n        state.data.focusedIndex = undefined;\n      }\n    } else {\n      var newFocused = base.navigation.navigate({\n        keyCode: keyCode,\n        current: focusedIndex,\n        max: (vs.enabled ? vs.total : data.length) - 1,\n        min: customItem ? -1 : 0\n      });\n      if (newFocused !== undefined) {\n        this.itemFocus(newFocused, state);\n        this.scrollToFocused = true;\n      }\n    }\n    this.applyState(state);\n  };\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.prototype.render = function () {\n    var _a, _b;\n    var _c = this.props,\n      style = _c.style,\n      className = _c.className,\n      label = _c.label,\n      dir = _c.dir,\n      disabled = _c.disabled,\n      tags = _c.tags,\n      textField = _c.textField,\n      dataItemKey = _c.dataItemKey,\n      virtual = _c.virtual,\n      size = _c.size,\n      rounded = _c.rounded,\n      fillMode = _c.fillMode,\n      loading = _c.loading,\n      filter = _c.filter;\n    var _d = this.state,\n      text = _d.text,\n      focused = _d.focused,\n      focusedTag = _d.focusedTag;\n    var vs = this.base.vs;\n    var id = this.props.id || this._inputId;\n    vs.enabled = virtual !== undefined;\n    if (virtual !== undefined) {\n      vs.skip = virtual.skip;\n      vs.total = virtual.total;\n      vs.pageSize = virtual.pageSize;\n    }\n    var tagsToRender = [];\n    if (tags === undefined) {\n      this.value.forEach(function (item) {\n        tagsToRender.push({\n          text: getItemValue(item, textField),\n          data: [item]\n        });\n      });\n    } else {\n      tagsToRender.push.apply(tagsToRender, tags);\n    }\n    this.setItems(tagsToRender, this._tags);\n    var isValid = !this.validityStyles || this.validity.valid;\n    var clearButton = Boolean(filter !== undefined ? filter : text) || this.value.length > 0;\n    var component = React.createElement(\"div\", {\n      ref: this.componentRef,\n      className: classNames('k-multiselect k-input', className, (_a = {}, _a[\"k-input-\".concat(sizeMap[size] || size)] = size, _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded, _a[\"k-input-\".concat(fillMode)] = fillMode, _a['k-focus'] = focused && !disabled, _a['k-invalid'] = !isValid, _a['k-disabled'] = disabled, _a['k-loading'] = loading, _a['k-required'] = this.required, _a)),\n      style: !label ? style : __assign(__assign({}, style), {\n        width: undefined\n      }),\n      dir: dir,\n      onFocus: this.handleFocus,\n      onBlur: this.handleBlur,\n      onClick: this.handleWrapperClick,\n      onMouseDown: preventDefaultNonInputs\n    }, React.createElement(\"div\", {\n      className: classNames('k-input-values')\n    }, React.createElement(\"div\", {\n      className: classNames('k-chip-list', (_b = {}, _b[\"k-chip-list-\".concat(sizeMap[size] || size)] = size, _b)),\n      role: \"listbox\",\n      id: 'tagslist-' + this.base.guid\n    }, tagsToRender.length > 0 && React.createElement(TagList, {\n      tagRender: this.props.tagRender,\n      onTagDelete: this.onTagDelete,\n      data: tagsToRender,\n      guid: this.base.guid,\n      focused: focusedTag ? tagsToRender.find(function (t) {\n        return matchTags(t, focusedTag, dataItemKey);\n      }) : undefined,\n      size: size\n    })), this.renderSearchbar(id)), loading && React.createElement(IconWrap, {\n      className: \"k-input-loading-icon\",\n      name: 'loading'\n    }), clearButton && React.createElement(ClearButton, {\n      onClick: this.clearButtonClick\n    }), this.renderListContainer());\n    return label ? React.createElement(FloatingLabel, {\n      label: label,\n      editorId: id,\n      editorValue: text || getItemValue(this.value[0], textField),\n      editorValid: isValid,\n      editorDisabled: disabled,\n      style: {\n        width: style ? style.width : undefined\n      },\n      children: component\n    }) : component;\n  };\n  MultiSelectWithoutContext.prototype.renderSearchbar = function (id) {\n    var _a = this.state,\n      activedescendant = _a.activedescendant,\n      focusedTag = _a.focusedTag;\n    var _b = this.props,\n      disabled = _b.disabled,\n      placeholder = _b.placeholder,\n      ariaDescribedBy = _b.ariaDescribedBy;\n    var text = (this.props.filter !== undefined ? this.props.filter : this.state.text) || '';\n    var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n    var focusedIndex = this.getFocusedState().focusedIndex;\n    var placeholderToShow = this.value.length === 0 && !text ? placeholder : undefined;\n    var ariaActivedescendant = activedescendant === ActiveDescendant.TagsList && focusedTag !== undefined ? \"tag-\".concat(this.base.guid, \"-\").concat(focusedTag.text.replace(/\\s+/g, '-')) : \"option-\".concat(this.base.guid, \"-\").concat(focusedIndex);\n    return React.createElement(SearchBar, {\n      id: id,\n      size: Math.max((placeholderToShow || '').length, text.length, 1),\n      tabIndex: this.props.tabIndex,\n      accessKey: this.props.accessKey,\n      placeholder: placeholderToShow,\n      value: text,\n      onChange: this.onChangeHandler,\n      onKeyDown: this.onInputKeyDown,\n      ref: this.searchbarRef,\n      disabled: disabled,\n      expanded: opened,\n      owns: this.base.listBoxId,\n      role: 'combobox',\n      activedescendant: ariaActivedescendant,\n      ariaDescribedBy: \"tagslist-\".concat(this.base.guid).concat(ariaDescribedBy ? ' ' + ariaDescribedBy : ''),\n      ariaLabelledBy: this.props.ariaLabelledBy,\n      ariaRequired: this.required\n    });\n  };\n  MultiSelectWithoutContext.prototype.onTagsNavigate = function (event, state) {\n    var keyCode = event.keyCode;\n    var focusedTag = this.state.focusedTag;\n    var tags = this._tags;\n    var itemsKey = this.props.dataItemKey;\n    var focusedIndex = focusedTag ? tags.findIndex(function (t) {\n      return matchTags(t, focusedTag, itemsKey);\n    }) : -1;\n    var newFocusedTag = undefined;\n    var hasFocused = focusedIndex !== -1;\n    if (keyCode === Keys.left) {\n      if (hasFocused) {\n        focusedIndex = Math.max(0, focusedIndex - 1);\n      } else {\n        focusedIndex = tags.length - 1;\n      }\n      newFocusedTag = tags[focusedIndex];\n    } else if (keyCode === Keys.right) {\n      if (focusedIndex === tags.length - 1) {\n        newFocusedTag = undefined;\n      } else if (hasFocused) {\n        focusedIndex = Math.min(tags.length - 1, focusedIndex + 1);\n        newFocusedTag = tags[focusedIndex];\n      }\n    } else if (keyCode === Keys.home) {\n      newFocusedTag = tags[0];\n    } else if (keyCode === Keys.end) {\n      newFocusedTag = tags[tags.length - 1];\n    } else if (keyCode === Keys.delete) {\n      if (hasFocused) {\n        var items = this.value;\n        removeDataItems(items, tags[focusedIndex].data, itemsKey);\n        this.triggerOnChange(items, state);\n      }\n    } else if (keyCode === Keys.backspace) {\n      var items = this.value;\n      if (hasFocused) {\n        removeDataItems(items, tags[focusedIndex].data, itemsKey);\n        this.triggerOnChange(items, state);\n      } else if (!hasFocused && tags.length) {\n        var removed = tags.pop();\n        removeDataItems(items, removed.data, itemsKey);\n        this.triggerOnChange(items, state);\n      }\n    }\n    if (newFocusedTag !== focusedTag) {\n      state.data.focusedTag = newFocusedTag;\n      state.data.activedescendant = ActiveDescendant.TagsList;\n    }\n    this.applyState(state);\n  };\n  MultiSelectWithoutContext.prototype.triggerOnChange = function (items, state) {\n    if (this.props.value === undefined) {\n      state.data.value = __spreadArray([], items, true);\n    }\n    this._valueItemsDuringOnChange = [];\n    this.setItems(items, this._valueItemsDuringOnChange);\n    state.events.push({\n      type: 'onChange'\n    });\n  };\n  MultiSelectWithoutContext.prototype.selectFocusedItem = function (event) {\n    var _a = this.props,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      virtual = _a.virtual;\n    var focusedIndex = this.getFocusedState().focusedIndex;\n    var skip = virtual ? virtual.skip : 0;\n    if (data[focusedIndex - skip] !== undefined) {\n      this.handleItemClick(focusedIndex, event);\n    }\n  };\n  MultiSelectWithoutContext.prototype.setItems = function (srcItems, destItems) {\n    destItems.length = 0;\n    destItems.push.apply(destItems, srcItems);\n  };\n  MultiSelectWithoutContext.prototype.getFocusedState = function () {\n    var focusedIndex = this.state.focusedIndex;\n    var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n    var _a = this.props,\n      allowCustom = _a.allowCustom,\n      _b = _a.data,\n      data = _b === void 0 ? [] : _b,\n      dataItemKey = _a.dataItemKey,\n      virtual = _a.virtual,\n      textField = _a.textField,\n      _c = _a.focusedItemIndex,\n      focusedItemIndex = _c === void 0 ? itemIndexStartsWith : _c;\n    var skip = virtual && virtual.skip || 0;\n    var focusedInd;\n    if (focusedIndex !== undefined) {\n      return {\n        focusedIndex: focusedIndex,\n        focusedItem: data[focusedIndex - skip],\n        focusedType: FocusedItemType.ListItem\n      };\n    }\n    var selected = this.value;\n    if (allowCustom && text) {\n      return {\n        focusedItem: null,\n        focusedIndex: -1,\n        focusedType: FocusedItemType.CustomItem\n      };\n    } else if (text) {\n      focusedInd = focusedItemIndex(data, text, textField);\n      return {\n        focusedItem: data[focusedInd],\n        focusedIndex: focusedInd + skip,\n        focusedType: FocusedItemType.ListItem\n      };\n    } else if (selected.length) {\n      var last_1 = selected[selected.length - 1];\n      focusedInd = data.findIndex(function (i) {\n        return areSame(i, last_1, dataItemKey);\n      });\n      if (data[focusedInd] !== undefined) {\n        return {\n          focusedIndex: focusedInd + skip,\n          focusedItem: data[focusedInd],\n          focusedType: FocusedItemType.ListItem\n        };\n      }\n      return {\n        focusedType: FocusedItemType.None,\n        focusedIndex: -1\n      };\n    }\n    return skip === 0 ? {\n      focusedItem: data[0],\n      focusedIndex: 0,\n      focusedType: FocusedItemType.ListItem\n    } : {\n      focusedType: FocusedItemType.None,\n      focusedIndex: -1\n    };\n  };\n  MultiSelectWithoutContext.prototype.focusElement = function (element) {\n    var _this = this;\n    this._skipFocusEvent = true;\n    element.focus();\n    window.setTimeout(function () {\n      return _this._skipFocusEvent = false;\n    }, 0);\n  };\n  MultiSelectWithoutContext.prototype.applyState = function (state) {\n    this.base.applyState(state);\n    this._valueItemsDuringOnChange = null;\n  };\n  MultiSelectWithoutContext.displayName = 'MultiSelect';\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), {\n    autoClose: PropTypes.bool,\n    value: PropTypes.arrayOf(PropTypes.any),\n    defaultValue: PropTypes.arrayOf(PropTypes.any),\n    dataItemKey: PropTypes.string,\n    placeholder: PropTypes.string,\n    tags: PropTypes.arrayOf(PropTypes.shape({\n      text: PropTypes.string,\n      data: PropTypes.arrayOf(PropTypes.any)\n    })),\n    tagRender: PropTypes.func,\n    id: PropTypes.string,\n    ariaLabelledBy: PropTypes.string,\n    ariaDescribedBy: PropTypes.string\n  });\n  /**\n   * @hidden\n   */\n  MultiSelectWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), {\n    autoClose: true,\n    required: false,\n    size: 'medium',\n    rounded: 'medium',\n    fillMode: 'solid'\n  });\n  return MultiSelectWithoutContext;\n}(React.Component);\nexport { MultiSelectWithoutContext };\n/**\n * Represents the PropsContext of the `MultiSelect` component.\n * Used for global configuration of all `MultiSelect` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var MultiSelectPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact MultiSelect component]({% slug overview_multiselect %}).\n *\n * Accepts properties of type [MultiSelectProps]({% slug api_dropdowns_multiselectprops %}).\n * Obtaining the `ref` returns an object of type [MultiSelectHandle]({% slug api_dropdowns_multiselecthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    multiselect = null;\n *    render() {\n *       return (\n *          <div>\n *              <MultiSelect\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.multiselect = component}\n *              />\n *              <button onClick={() => alert(this.multiselect.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var MultiSelect = withPropsContext(MultiSelectPropsContext, MultiSelectWithoutContext);\nMultiSelect.displayName = 'KendoReactMultiSelect';","map":{"version":3,"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","TypeError","String","__","constructor","create","__assign","assign","t","s","i","n","arguments","length","apply","__spreadArray","to","from","pack","l","ar","slice","concat","React","PropTypes","classNames","Keys","guid","createPropsContext","kendoThemeMaps","withPropsContext","IconWrap","plusIcon","FloatingLabel","ListContainer","List","TagList","SearchBar","DropDownBase","ActiveDescendant","itemIndexStartsWith","getItemValue","areSame","removeDataItems","isPresent","preventDefaultNonInputs","matchTags","validatePackage","packageMetadata","ClearButton","sizeMap","roundedMap","VALIDATION_MESSAGE","preventDefault","event","isCustom","type","FocusedItemType","CustomItem","MultiSelectWithoutContext","_super","props","_this","state","activedescendant","PopupList","_element","_valueItemsDuringOnChange","_inputId","base","_tags","_input","_skipFocusEvent","scrollToFocused","focus","handleItemSelect","index","_a","_b","data","dataItemKey","virtual","skip","dataItem","indexInValue","value","findIndex","newItems","splice","text","filter","undefined","filterChanged","focusedIndex","triggerOnChange","triggerPageChangeCornerItems","onTagDelete","itemsToRemove","opened","initState","syntheticEvent","togglePopup","focused","selected","applyState","itemFocus","allowCustom","getFocusedState","customItem","nextFocusedItem","componentRef","element","wrapper","searchbarRef","searchbar","input","window","setTimeout","onChangeHandler","currentTarget","clearButtonClick","stopPropagation","onInputKeyDown","keyCode","focusedItem","left","right","home","end","delete","backspace","onTagsNavigate","altKey","up","down","onNavigate","enter","customItemSelect","selectFocusedItem","esc","renderListContainer","_c","header","footer","dir","_d","size","popupSettings","getPopupSettings","popupWidth","width","listContainerProps","dirCalculated","popupClass","className","animate","anchor","show","onOpen","onPopupOpened","onClose","onPopupClosed","appendTo","itemsCount","focusedType","createElement","key","onClick","onMouseDown","style","fontStyle","name","icon","position","vs","enabled","renderList","textField","listNoDataRender","itemRender","translate","id","listBoxId","valueField","optionsGuid","listRef","list","wrapperStyle","maxHeight","height","wrapperCssClass","listStyle","transform","handleItemClick","noDataRender","onBlur","handleBlur","onScroll","e","scrollHandler","wrapperRef","scrollerRef","scroller","renderScrollElement","itemText","item","handleWrapperClick","focusElement","events","push","autoClose","filterable","handleFocus","setValidity","setCustomValidity","validity","valid","validationMessage","defineProperty","get","enumerable","configurable","result","defaultValue","customError","isValid","required","valueMissing","defaultProps","validityStyles","componentDidUpdate","prevProps","prevState","prevTotal","total","prevOpened","opening","closing","calcScrollElementHeight","reset","scrollToVirtualItem","scrollToItem","componentDidMount","didMount","customItemFocused","newFocused","navigation","navigate","current","max","min","render","label","disabled","tags","rounded","fillMode","loading","focusedTag","pageSize","tagsToRender","forEach","setItems","clearButton","Boolean","component","ref","onFocus","role","tagRender","find","renderSearchbar","editorId","editorValue","editorValid","editorDisabled","children","placeholder","ariaDescribedBy","placeholderToShow","ariaActivedescendant","TagsList","replace","Math","tabIndex","accessKey","onChange","onKeyDown","expanded","owns","ariaLabelledBy","ariaRequired","itemsKey","newFocusedTag","hasFocused","items","removed","pop","srcItems","destItems","focusedItemIndex","focusedInd","ListItem","last_1","None","displayName","propTypes","bool","arrayOf","any","string","shape","func","Component","MultiSelectPropsContext","MultiSelect"],"sources":["/Users/stanimiryakimov/Development/Kendo-Examples/kendo-drawer/node_modules/@progress/kendo-react-dropdowns/dist/es/MultiSelect/MultiSelect.js"],"sourcesContent":["var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __spreadArray = (this && this.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { classNames, Keys, guid, createPropsContext, kendoThemeMaps, withPropsContext, IconWrap } from '@progress/kendo-react-common';\nimport { plusIcon } from '@progress/kendo-svg-icons';\nimport { FloatingLabel } from '@progress/kendo-react-labels';\nimport ListContainer from '../common/ListContainer';\nimport List from '../common/List';\nimport TagList from './TagList';\nimport SearchBar from '../common/SearchBar';\nimport DropDownBase from '../common/DropDownBase';\nimport { ActiveDescendant } from './../common/settings';\nimport { itemIndexStartsWith, getItemValue, areSame, removeDataItems, isPresent, preventDefaultNonInputs, matchTags } from '../common/utils';\nimport { validatePackage } from '@progress/kendo-react-common';\nimport { packageMetadata } from '../package-metadata';\nimport ClearButton from '../common/ClearButton';\nvar sizeMap = kendoThemeMaps.sizeMap, roundedMap = kendoThemeMaps.roundedMap;\nvar VALIDATION_MESSAGE = 'Please enter a valid value!';\nvar preventDefault = function (event) { return event.preventDefault(); };\nvar isCustom = function (type) { return type === FocusedItemType.CustomItem; };\nvar FocusedItemType;\n(function (FocusedItemType) {\n    FocusedItemType[FocusedItemType[\"None\"] = 0] = \"None\";\n    FocusedItemType[FocusedItemType[\"ListItem\"] = 1] = \"ListItem\";\n    FocusedItemType[FocusedItemType[\"CustomItem\"] = 2] = \"CustomItem\";\n})(FocusedItemType || (FocusedItemType = {}));\n/** @hidden */\nvar MultiSelectWithoutContext = /** @class */ (function (_super) {\n    __extends(MultiSelectWithoutContext, _super);\n    function MultiSelectWithoutContext(props) {\n        var _this = _super.call(this, props) || this;\n        /**\n         * @hidden\n         */\n        _this.state = {\n            activedescendant: ActiveDescendant.PopupList\n        };\n        _this._element = null;\n        _this._valueItemsDuringOnChange = null;\n        _this._inputId = guid();\n        _this.base = new DropDownBase(_this);\n        _this._tags = [];\n        _this._input = null;\n        _this._skipFocusEvent = false;\n        _this.scrollToFocused = false;\n        /**\n         * @hidden\n         */\n        _this.focus = function () {\n            if (_this._input) {\n                _this._input.focus();\n            }\n        };\n        /**\n         * @hidden\n         */\n        _this.handleItemSelect = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var dataItem = data[index - skip];\n            var indexInValue = _this.value.findIndex(function (i) { return areSame(i, dataItem, dataItemKey); });\n            var newItems = [];\n            if (indexInValue !== -1) { // item is already selected\n                newItems = _this.value;\n                newItems.splice(indexInValue, 1);\n            }\n            else {\n                newItems = __spreadArray(__spreadArray([], _this.value, true), [dataItem], false);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (text) {\n                if (_this.state.text) {\n                    state.data.text = '';\n                }\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            _this.triggerOnChange(newItems, state);\n            _this.base.triggerPageChangeCornerItems(dataItem, state);\n        };\n        /**\n         * @hidden\n         */\n        _this.onTagDelete = function (itemsToRemove, event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            if (!_this.state.focused) {\n                state.data.focused = true;\n                _this.focus();\n            }\n            var selected = _this.value;\n            removeDataItems(selected, itemsToRemove, _this.props.dataItemKey);\n            _this.triggerOnChange(selected, state);\n            _this.applyState(state);\n        };\n        /**\n         * @hidden\n         */\n        _this.itemFocus = function (index, state) {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, allowCustom = _a.allowCustom, virtual = _a.virtual;\n            var skip = virtual ? virtual.skip : 0;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var customItem = allowCustom && text;\n            var nextFocusedItem = data[index - skip];\n            if (nextFocusedItem && focusedIndex !== index) {\n                if (_this.state.focusedIndex !== index) {\n                    state.data.focusedIndex = index;\n                    state.data.activedescendant = ActiveDescendant.PopupList;\n                }\n            }\n            else if (customItem && index === -1) {\n                if (_this.state.focusedIndex !== undefined) {\n                    state.data.focusedIndex = undefined;\n                }\n            }\n            _this.base.triggerPageChangeCornerItems(nextFocusedItem, state);\n        };\n        _this.componentRef = function (element) {\n            _this._element = element;\n            _this.base.wrapper = element;\n        };\n        _this.searchbarRef = function (searchbar) {\n            var input = _this._input = searchbar && searchbar.input;\n            if (input && _this.state.focused) {\n                window.setTimeout(function () { return input.focus(); }, 0);\n            }\n        };\n        _this.onChangeHandler = function (event) {\n            var state = _this.base.initState();\n            var value = event.currentTarget.value;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            state.syntheticEvent = event;\n            if (_this.props.filter === undefined) {\n                state.data.text = value;\n            }\n            state.data.focusedIndex = undefined;\n            if (!opened) {\n                _this.base.togglePopup(state);\n            }\n            _this.base.filterChanged(value, state);\n            _this.applyState(state);\n        };\n        _this.clearButtonClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            event.stopPropagation();\n            if (_this.value.length > 0) {\n                _this.triggerOnChange([], state);\n            }\n            if (_this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n            if (opened) {\n                _this.base.togglePopup(state);\n            }\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            if (isPresent(text) && text !== '') {\n                _this.base.filterChanged('', state);\n            }\n            if (_this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.onInputKeyDown = function (event) {\n            var keyCode = event.keyCode;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedItem = _this.getFocusedState().focusedItem;\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!text && _this.value.length > 0 &&\n                (keyCode === Keys.left || keyCode === Keys.right ||\n                    keyCode === Keys.home || keyCode === Keys.end ||\n                    keyCode === Keys.delete || keyCode === Keys.backspace)) {\n                return _this.onTagsNavigate(event, state);\n            }\n            var togglePopup = function () {\n                event.preventDefault();\n                _this.base.togglePopup(state);\n                _this.applyState(state);\n            };\n            if (opened) {\n                if (event.altKey && keyCode === Keys.up) {\n                    togglePopup();\n                }\n                else if (keyCode === Keys.up || keyCode === Keys.down) {\n                    event.preventDefault();\n                    _this.onNavigate(state, keyCode);\n                }\n                else if (keyCode === Keys.enter) {\n                    event.preventDefault();\n                    if (_this.props.allowCustom && text && focusedItem === null) {\n                        _this.customItemSelect(event);\n                    }\n                    else {\n                        _this.selectFocusedItem(event);\n                    }\n                }\n                else if (keyCode === Keys.esc) {\n                    togglePopup();\n                }\n            }\n            else if (event.altKey && keyCode === Keys.down) {\n                togglePopup();\n            }\n        };\n        _this.renderListContainer = function () {\n            var _a, _b;\n            var base = _this.base;\n            var _c = _this.props, header = _c.header, footer = _c.footer, allowCustom = _c.allowCustom, dir = _c.dir, _d = _c.data, data = _d === void 0 ? [] : _d, size = _c.size;\n            var popupSettings = _this.base.getPopupSettings();\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var text = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var popupWidth = popupSettings.width !== undefined ? popupSettings.width : base.popupWidth;\n            var listContainerProps = {\n                dir: dir !== undefined ? dir : base.dirCalculated,\n                width: popupWidth,\n                popupSettings: {\n                    popupClass: classNames(popupSettings.popupClass, 'k-list-container', 'k-multiselect-popup'),\n                    className: popupSettings.className,\n                    animate: popupSettings.animate,\n                    anchor: _this.element,\n                    show: opened,\n                    onOpen: _this.onPopupOpened,\n                    onClose: _this.onPopupClosed,\n                    appendTo: popupSettings.appendTo\n                },\n                itemsCount: [data.length, _this.value.length]\n            };\n            var focusedType = _this.getFocusedState().focusedType;\n            var customItem = allowCustom && text && (React.createElement(\"div\", { className: classNames('k-list', (_a = {},\n                    _a[\"k-list-\".concat(sizeMap[size] || size)] = size,\n                    _a)), key: \"customitem\", onClick: _this.customItemSelect, onMouseDown: preventDefault },\n                React.createElement(\"div\", { className: classNames('k-list-item k-custom-item', { 'k-focus': isCustom(focusedType) }), style: { fontStyle: 'italic' } },\n                    text,\n                    React.createElement(IconWrap, { name: 'plus', icon: plusIcon, style: { position: 'absolute', right: '0.5em' } }))));\n            return (React.createElement(ListContainer, __assign({}, listContainerProps),\n                header && React.createElement(\"div\", { className: \"k-list-header\" }, header),\n                customItem,\n                React.createElement(\"div\", { className: classNames('k-list', (_b = {},\n                        _b[\"k-list-\".concat(sizeMap[size] || size)] = size,\n                        _b['k-virtual-list'] = _this.base.vs.enabled,\n                        _b)) }, _this.renderList()),\n                footer && React.createElement(\"div\", { className: \"k-list-footer\" }, footer)));\n        };\n        _this.renderList = function () {\n            var _a = _this.props, _b = _a.data, data = _b === void 0 ? [] : _b, textField = _a.textField, listNoDataRender = _a.listNoDataRender, itemRender = _a.itemRender, dataItemKey = _a.dataItemKey, virtual = _a.virtual;\n            var vs = _this.base.vs;\n            var skip = virtual ? virtual.skip : 0;\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var focusedIndex = _this.getFocusedState().focusedIndex;\n            var popupSettings = _this.base.getPopupSettings();\n            var translate = \"translateY(\".concat(vs.translate, \"px)\");\n            return (React.createElement(List, { id: _this.base.listBoxId, show: opened, data: data.slice(), focusedIndex: focusedIndex - skip, value: _this.value, textField: textField, valueField: dataItemKey, optionsGuid: _this.base.guid, listRef: function (list) { vs.list = _this.base.list = list; }, wrapperStyle: { maxHeight: popupSettings.height }, wrapperCssClass: \"k-list-content\", listStyle: vs.enabled ? { transform: translate } : undefined, key: \"listKey\", skip: skip, onClick: _this.handleItemClick, itemRender: itemRender, noDataRender: listNoDataRender, onMouseDown: preventDefault, onBlur: _this.handleBlur, onScroll: function (e) {\n                    vs.scrollHandler(e);\n                }, wrapperRef: vs.scrollerRef, scroller: _this.base.renderScrollElement() }));\n        };\n        _this.customItemSelect = function (event) {\n            var _a;\n            var itemText = _this.props.filter !== undefined ? _this.props.filter : _this.state.text;\n            var textField = _this.props.textField;\n            if (!itemText) {\n                return;\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            var item = textField ? (_a = {}, _a[textField] = itemText, _a) : itemText;\n            if (_this.state.text !== undefined) {\n                state.data.text = '';\n            }\n            state.data.focusedIndex = undefined;\n            _this.base.filterChanged('', state);\n            var newItems = __spreadArray(__spreadArray([], _this.value, true), [item], false);\n            _this.triggerOnChange(newItems, state);\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleWrapperClick = function (event) {\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var input = _this._input;\n            if (!opened && input) {\n                _this.focusElement(input);\n            }\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            if (!_this.state.focused) {\n                state.events.push({ type: 'onFocus' });\n                state.data.focused = true;\n            }\n            _this.base.togglePopup(state);\n            _this.applyState(state);\n        };\n        _this.handleItemClick = function (index, event) {\n            var state = _this.base.initState();\n            state.syntheticEvent = event;\n            _this.handleItemSelect(index, state);\n            if (_this.props.autoClose) {\n                _this.base.togglePopup(state);\n            }\n            event.stopPropagation();\n            _this.applyState(state);\n        };\n        _this.handleBlur = function (event) {\n            if (!_this.state.focused || _this._skipFocusEvent) {\n                return;\n            }\n            var opened = _this.props.opened !== undefined ? _this.props.opened : _this.state.opened;\n            var state = _this.base.initState();\n            var _a = _this.props, allowCustom = _a.allowCustom, filterable = _a.filterable;\n            state.syntheticEvent = event;\n            state.data.focused = false;\n            state.events.push({ type: 'onBlur' });\n            if (opened) {\n                if (_this.state.opened) {\n                    state.data.opened = false;\n                }\n                state.events.push({ type: 'onClose' });\n            }\n            if (!allowCustom && !filterable && _this.state.text) {\n                state.data.text = '';\n            }\n            _this.applyState(state);\n        };\n        _this.handleFocus = function (event) {\n            if (_this._skipFocusEvent) {\n                return;\n            }\n            _this.base.handleFocus(event);\n        };\n        _this.onPopupOpened = function () {\n            if (_this._input && _this.state.focused) {\n                _this.focusElement(_this._input);\n            }\n        };\n        _this.onPopupClosed = function () {\n            if (_this.state.focused) {\n                window.setTimeout(function () { if (_this.state.focused) {\n                    _this.focusElement(_this._input);\n                } }, 0);\n            }\n        };\n        _this.setValidity = function () {\n            if (_this._input && _this._input.setCustomValidity) {\n                _this._input.setCustomValidity(_this.validity.valid\n                    ? ''\n                    : _this.props.validationMessage || VALIDATION_MESSAGE);\n            }\n        };\n        validatePackage(packageMetadata);\n        return _this;\n    }\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"element\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this._element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"value\", {\n        /**\n         * Represents the value of the MultiSelect.\n         */\n        get: function () {\n            var result = [];\n            if (this._valueItemsDuringOnChange) {\n                result.push.apply(result, this._valueItemsDuringOnChange);\n            }\n            else if (this.props.value) {\n                result.push.apply(result, this.props.value);\n            }\n            else if (this.state.value) {\n                result.push.apply(result, this.state.value);\n            }\n            else if (this.props.defaultValue) {\n                result.push.apply(result, this.props.defaultValue);\n            }\n            return result;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"name\", {\n        /**\n         * Gets the `name` property of the MultiSelect.\n         */\n        get: function () {\n            return this.props.name;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"validity\", {\n        /**\n         * Represents the validity state into which the MultiSelect is set.\n         */\n        get: function () {\n            var customError = this.props.validationMessage !== undefined;\n            var isValid = (!this.required\n                || (this.value !== null && this.value.length > 0 && this.value !== undefined));\n            var valid = this.props.valid !== undefined ? this.props.valid : isValid;\n            return {\n                customError: customError,\n                valid: valid,\n                valueMissing: this.value === null\n            };\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"required\", {\n        /**\n         * @hidden\n         */\n        get: function () {\n            return this.props.required !== undefined\n                ? this.props.required\n                : MultiSelectWithoutContext.defaultProps.required;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(MultiSelectWithoutContext.prototype, \"validityStyles\", {\n        get: function () {\n            return this.props.validityStyles !== undefined\n                ? this.props.validityStyles\n                : MultiSelectWithoutContext.defaultProps.validityStyles;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.componentDidUpdate = function (prevProps, prevState) {\n        var virtual = this.props.virtual;\n        var skip = virtual ? virtual.skip : 0;\n        var prevTotal = prevProps.virtual ? prevProps.virtual.total : 0;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var prevOpened = prevProps.opened !== undefined ? prevProps.opened : prevState.opened;\n        var opening = !prevOpened && opened;\n        var closing = prevOpened && !opened;\n        var popupSettings = this.base.getPopupSettings();\n        if (!popupSettings.animate && closing) {\n            this.onPopupClosed();\n        }\n        if (virtual && virtual.total !== prevTotal) {\n            this.base.vs.calcScrollElementHeight();\n            this.base.vs.reset();\n        }\n        else {\n            var _a = this.getFocusedState(), focusedItem = _a.focusedItem, focusedIndex = _a.focusedIndex;\n            if (opening && virtual) {\n                this.base.scrollToVirtualItem(virtual, focusedIndex - skip);\n            }\n            else if (opening && !virtual) {\n                this.base.scrollToItem(focusedIndex);\n            }\n            else if (opened && prevOpened && focusedItem && this.scrollToFocused) {\n                this.base.scrollToItem(focusedIndex - skip);\n            }\n        }\n        this.scrollToFocused = false;\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.componentDidMount = function () {\n        this.base.didMount();\n        this.setValidity();\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.onNavigate = function (state, keyCode) {\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b;\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _c = this.getFocusedState(), focusedType = _c.focusedType, focusedIndex = _c.focusedIndex;\n        var customItem = allowCustom && text;\n        var customItemFocused = isCustom(focusedType);\n        var base = this.base;\n        var vs = base.vs;\n        if (opened && keyCode === Keys.up && customItemFocused) {\n            if (this.state.focusedIndex !== undefined) {\n                state.data.focusedIndex = undefined;\n            }\n        }\n        else {\n            var newFocused = base.navigation.navigate({\n                keyCode: keyCode,\n                current: focusedIndex,\n                max: (vs.enabled ? vs.total : data.length) - 1,\n                min: customItem ? -1 : 0\n            });\n            if (newFocused !== undefined) {\n                this.itemFocus(newFocused, state);\n                this.scrollToFocused = true;\n            }\n        }\n        this.applyState(state);\n    };\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.prototype.render = function () {\n        var _a, _b;\n        var _c = this.props, style = _c.style, className = _c.className, label = _c.label, dir = _c.dir, disabled = _c.disabled, tags = _c.tags, textField = _c.textField, dataItemKey = _c.dataItemKey, virtual = _c.virtual, size = _c.size, rounded = _c.rounded, fillMode = _c.fillMode, loading = _c.loading, filter = _c.filter;\n        var _d = this.state, text = _d.text, focused = _d.focused, focusedTag = _d.focusedTag;\n        var vs = this.base.vs;\n        var id = this.props.id || this._inputId;\n        vs.enabled = virtual !== undefined;\n        if (virtual !== undefined) {\n            vs.skip = virtual.skip;\n            vs.total = virtual.total;\n            vs.pageSize = virtual.pageSize;\n        }\n        var tagsToRender = [];\n        if (tags === undefined) {\n            this.value.forEach(function (item) {\n                tagsToRender.push({ text: getItemValue(item, textField), data: [item] });\n            });\n        }\n        else {\n            tagsToRender.push.apply(tagsToRender, tags);\n        }\n        this.setItems(tagsToRender, this._tags);\n        var isValid = !this.validityStyles || this.validity.valid;\n        var clearButton = Boolean(filter !== undefined ? filter : text) || this.value.length > 0;\n        var component = (React.createElement(\"div\", { ref: this.componentRef, className: classNames('k-multiselect k-input', className, (_a = {},\n                _a[\"k-input-\".concat(sizeMap[size] || size)] = size,\n                _a[\"k-rounded-\".concat(roundedMap[rounded] || rounded)] = rounded,\n                _a[\"k-input-\".concat(fillMode)] = fillMode,\n                _a['k-focus'] = focused && !disabled,\n                _a['k-invalid'] = !isValid,\n                _a['k-disabled'] = disabled,\n                _a['k-loading'] = loading,\n                _a['k-required'] = this.required,\n                _a)), style: !label\n                ? style\n                : __assign(__assign({}, style), { width: undefined }), dir: dir, onFocus: this.handleFocus, onBlur: this.handleBlur, onClick: this.handleWrapperClick, onMouseDown: preventDefaultNonInputs },\n            React.createElement(\"div\", { className: classNames('k-input-values') },\n                React.createElement(\"div\", { className: classNames('k-chip-list', (_b = {},\n                        _b[\"k-chip-list-\".concat(sizeMap[size] || size)] = size,\n                        _b)), role: \"listbox\", id: 'tagslist-' + this.base.guid }, tagsToRender.length > 0 && React.createElement(TagList, { tagRender: this.props.tagRender, onTagDelete: this.onTagDelete, data: tagsToRender, guid: this.base.guid, focused: focusedTag ? tagsToRender.find(function (t) { return matchTags(t, focusedTag, dataItemKey); }) : undefined, size: size })),\n                this.renderSearchbar(id)),\n            loading && React.createElement(IconWrap, { className: \"k-input-loading-icon\", name: 'loading' }),\n            clearButton && React.createElement(ClearButton, { onClick: this.clearButtonClick }),\n            this.renderListContainer()));\n        return label ? (React.createElement(FloatingLabel, { label: label, editorId: id, editorValue: text || getItemValue(this.value[0], textField), editorValid: isValid, editorDisabled: disabled, style: { width: style ? style.width : undefined }, children: component })) : component;\n    };\n    MultiSelectWithoutContext.prototype.renderSearchbar = function (id) {\n        var _a = this.state, activedescendant = _a.activedescendant, focusedTag = _a.focusedTag;\n        var _b = this.props, disabled = _b.disabled, placeholder = _b.placeholder, ariaDescribedBy = _b.ariaDescribedBy;\n        var text = (this.props.filter !== undefined ? this.props.filter : this.state.text) || '';\n        var opened = this.props.opened !== undefined ? this.props.opened : this.state.opened;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var placeholderToShow = this.value.length === 0 && !text ? placeholder : undefined;\n        var ariaActivedescendant = activedescendant === ActiveDescendant.TagsList && focusedTag !== undefined ?\n            \"tag-\".concat(this.base.guid, \"-\").concat(focusedTag.text.replace(/\\s+/g, '-')) :\n            \"option-\".concat(this.base.guid, \"-\").concat(focusedIndex);\n        return (React.createElement(SearchBar, { id: id, size: Math.max((placeholderToShow || '').length, text.length, 1), tabIndex: this.props.tabIndex, accessKey: this.props.accessKey, placeholder: placeholderToShow, value: text, onChange: this.onChangeHandler, onKeyDown: this.onInputKeyDown, ref: this.searchbarRef, disabled: disabled, expanded: opened, owns: this.base.listBoxId, role: 'combobox', activedescendant: ariaActivedescendant, ariaDescribedBy: \"tagslist-\".concat(this.base.guid).concat(ariaDescribedBy ? (' ' + ariaDescribedBy) : ''), ariaLabelledBy: this.props.ariaLabelledBy, ariaRequired: this.required }));\n    };\n    MultiSelectWithoutContext.prototype.onTagsNavigate = function (event, state) {\n        var keyCode = event.keyCode;\n        var focusedTag = this.state.focusedTag;\n        var tags = this._tags;\n        var itemsKey = this.props.dataItemKey;\n        var focusedIndex = focusedTag ?\n            tags.findIndex(function (t) { return matchTags(t, focusedTag, itemsKey); }) : -1;\n        var newFocusedTag = undefined;\n        var hasFocused = focusedIndex !== -1;\n        if (keyCode === Keys.left) {\n            if (hasFocused) {\n                focusedIndex = Math.max(0, focusedIndex - 1);\n            }\n            else {\n                focusedIndex = tags.length - 1;\n            }\n            newFocusedTag = tags[focusedIndex];\n        }\n        else if (keyCode === Keys.right) {\n            if (focusedIndex === tags.length - 1) {\n                newFocusedTag = undefined;\n            }\n            else if (hasFocused) {\n                focusedIndex = Math.min(tags.length - 1, focusedIndex + 1);\n                newFocusedTag = tags[focusedIndex];\n            }\n        }\n        else if (keyCode === Keys.home) {\n            newFocusedTag = tags[0];\n        }\n        else if (keyCode === Keys.end) {\n            newFocusedTag = tags[tags.length - 1];\n        }\n        else if (keyCode === Keys.delete) {\n            if (hasFocused) {\n                var items = this.value;\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        else if (keyCode === Keys.backspace) {\n            var items = this.value;\n            if (hasFocused) {\n                removeDataItems(items, tags[focusedIndex].data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n            else if (!hasFocused && tags.length) {\n                var removed = tags.pop();\n                removeDataItems(items, removed.data, itemsKey);\n                this.triggerOnChange(items, state);\n            }\n        }\n        if (newFocusedTag !== focusedTag) {\n            state.data.focusedTag = newFocusedTag;\n            state.data.activedescendant = ActiveDescendant.TagsList;\n        }\n        this.applyState(state);\n    };\n    MultiSelectWithoutContext.prototype.triggerOnChange = function (items, state) {\n        if (this.props.value === undefined) {\n            state.data.value = __spreadArray([], items, true);\n        }\n        this._valueItemsDuringOnChange = [];\n        this.setItems(items, this._valueItemsDuringOnChange);\n        state.events.push({ type: 'onChange' });\n    };\n    MultiSelectWithoutContext.prototype.selectFocusedItem = function (event) {\n        var _a = this.props, _b = _a.data, data = _b === void 0 ? [] : _b, virtual = _a.virtual;\n        var focusedIndex = this.getFocusedState().focusedIndex;\n        var skip = virtual ? virtual.skip : 0;\n        if (data[focusedIndex - skip] !== undefined) {\n            this.handleItemClick(focusedIndex, event);\n        }\n    };\n    MultiSelectWithoutContext.prototype.setItems = function (srcItems, destItems) {\n        destItems.length = 0;\n        destItems.push.apply(destItems, srcItems);\n    };\n    MultiSelectWithoutContext.prototype.getFocusedState = function () {\n        var focusedIndex = this.state.focusedIndex;\n        var text = this.props.filter !== undefined ? this.props.filter : this.state.text;\n        var _a = this.props, allowCustom = _a.allowCustom, _b = _a.data, data = _b === void 0 ? [] : _b, dataItemKey = _a.dataItemKey, virtual = _a.virtual, textField = _a.textField, _c = _a.focusedItemIndex, focusedItemIndex = _c === void 0 ? itemIndexStartsWith : _c;\n        var skip = (virtual && virtual.skip) || 0;\n        var focusedInd;\n        if (focusedIndex !== undefined) {\n            return {\n                focusedIndex: focusedIndex,\n                focusedItem: data[focusedIndex - skip],\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        var selected = this.value;\n        if (allowCustom && text) {\n            return { focusedItem: null, focusedIndex: -1, focusedType: FocusedItemType.CustomItem };\n        }\n        else if (text) {\n            focusedInd = focusedItemIndex(data, text, textField);\n            return {\n                focusedItem: data[focusedInd],\n                focusedIndex: focusedInd + skip,\n                focusedType: FocusedItemType.ListItem\n            };\n        }\n        else if (selected.length) {\n            var last_1 = selected[selected.length - 1];\n            focusedInd = data.findIndex(function (i) { return areSame(i, last_1, dataItemKey); });\n            if (data[focusedInd] !== undefined) {\n                return {\n                    focusedIndex: focusedInd + skip,\n                    focusedItem: data[focusedInd],\n                    focusedType: FocusedItemType.ListItem\n                };\n            }\n            return { focusedType: FocusedItemType.None, focusedIndex: -1 };\n        }\n        return skip === 0 ?\n            { focusedItem: data[0], focusedIndex: 0, focusedType: FocusedItemType.ListItem } :\n            { focusedType: FocusedItemType.None, focusedIndex: -1 };\n    };\n    MultiSelectWithoutContext.prototype.focusElement = function (element) {\n        var _this = this;\n        this._skipFocusEvent = true;\n        element.focus();\n        window.setTimeout(function () { return _this._skipFocusEvent = false; }, 0);\n    };\n    MultiSelectWithoutContext.prototype.applyState = function (state) {\n        this.base.applyState(state);\n        this._valueItemsDuringOnChange = null;\n    };\n    MultiSelectWithoutContext.displayName = 'MultiSelect';\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.propTypes = __assign(__assign({}, DropDownBase.propTypes), { autoClose: PropTypes.bool, value: PropTypes.arrayOf(PropTypes.any), defaultValue: PropTypes.arrayOf(PropTypes.any), dataItemKey: PropTypes.string, placeholder: PropTypes.string, tags: PropTypes.arrayOf(PropTypes.shape({\n            text: PropTypes.string,\n            data: PropTypes.arrayOf(PropTypes.any)\n        })), tagRender: PropTypes.func, id: PropTypes.string, ariaLabelledBy: PropTypes.string, ariaDescribedBy: PropTypes.string });\n    /**\n     * @hidden\n     */\n    MultiSelectWithoutContext.defaultProps = __assign(__assign({}, DropDownBase.defaultProps), { autoClose: true, required: false, size: 'medium', rounded: 'medium', fillMode: 'solid' });\n    return MultiSelectWithoutContext;\n}(React.Component));\nexport { MultiSelectWithoutContext };\n/**\n * Represents the PropsContext of the `MultiSelect` component.\n * Used for global configuration of all `MultiSelect` instances.\n *\n * For more information, refer to the [Dropdowns Props Context]({% slug props-context_dropdowns %}) article.\n */\nexport var MultiSelectPropsContext = createPropsContext();\n/* eslint-disable @typescript-eslint/no-redeclare -- intentionally naming the component the same as the type */\n/**\n * Represents the [KendoReact MultiSelect component]({% slug overview_multiselect %}).\n *\n * Accepts properties of type [MultiSelectProps]({% slug api_dropdowns_multiselectprops %}).\n * Obtaining the `ref` returns an object of type [MultiSelectHandle]({% slug api_dropdowns_multiselecthandle %}).\n *\n * @example\n * ```jsx\n * class App extends React.Component {\n *    multiselect = null;\n *    render() {\n *       return (\n *          <div>\n *              <MultiSelect\n *                  data={[ \"Albania\", \"Andorra\", \"Austria\", \"Belarus\" ]}\n *                  ref={component => this.multiselect = component}\n *              />\n *              <button onClick={() => alert(this.multiselect.value)}>alert value</button>\n *          </div>\n *       );\n *    }\n * }\n * ReactDOM.render(<App />, document.querySelector('my-app'));\n * ```\n */\nexport var MultiSelect = withPropsContext(MultiSelectPropsContext, MultiSelectWithoutContext);\nMultiSelect.displayName = 'KendoReactMultiSelect';\n"],"mappings":"AAAA,IAAIA,SAAS,GAAI,IAAI,IAAI,IAAI,CAACA,SAAS,IAAM,YAAY;EACrD,IAAIC,aAAa,GAAG,SAAAA,CAAUC,CAAC,EAAEC,CAAC,EAAE;IAChCF,aAAa,GAAGG,MAAM,CAACC,cAAc,IAChC;MAAEC,SAAS,EAAE;IAAG,CAAC,YAAYC,KAAK,IAAI,UAAUL,CAAC,EAAEC,CAAC,EAAE;MAAED,CAAC,CAACI,SAAS,GAAGH,CAAC;IAAE,CAAE,IAC5E,UAAUD,CAAC,EAAEC,CAAC,EAAE;MAAE,KAAK,IAAIK,CAAC,IAAIL,CAAC,EAAE,IAAIC,MAAM,CAACK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,CAAC,EAAEK,CAAC,CAAC,EAAEN,CAAC,CAACM,CAAC,CAAC,GAAGL,CAAC,CAACK,CAAC,CAAC;IAAE,CAAC;IACrG,OAAOP,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;EAC9B,CAAC;EACD,OAAO,UAAUD,CAAC,EAAEC,CAAC,EAAE;IACnB,IAAI,OAAOA,CAAC,KAAK,UAAU,IAAIA,CAAC,KAAK,IAAI,EACrC,MAAM,IAAIS,SAAS,CAAC,sBAAsB,GAAGC,MAAM,CAACV,CAAC,CAAC,GAAG,+BAA+B,CAAC;IAC7FF,aAAa,CAACC,CAAC,EAAEC,CAAC,CAAC;IACnB,SAASW,EAAEA,CAAA,EAAG;MAAE,IAAI,CAACC,WAAW,GAAGb,CAAC;IAAE;IACtCA,CAAC,CAACO,SAAS,GAAGN,CAAC,KAAK,IAAI,GAAGC,MAAM,CAACY,MAAM,CAACb,CAAC,CAAC,IAAIW,EAAE,CAACL,SAAS,GAAGN,CAAC,CAACM,SAAS,EAAE,IAAIK,EAAE,EAAE,CAAC;EACxF,CAAC;AACL,CAAC,EAAG;AACJ,IAAIG,QAAQ,GAAI,IAAI,IAAI,IAAI,CAACA,QAAQ,IAAK,YAAY;EAClDA,QAAQ,GAAGb,MAAM,CAACc,MAAM,IAAI,UAASC,CAAC,EAAE;IACpC,KAAK,IAAIC,CAAC,EAAEC,CAAC,GAAG,CAAC,EAAEC,CAAC,GAAGC,SAAS,CAACC,MAAM,EAAEH,CAAC,GAAGC,CAAC,EAAED,CAAC,EAAE,EAAE;MACjDD,CAAC,GAAGG,SAAS,CAACF,CAAC,CAAC;MAChB,KAAK,IAAIb,CAAC,IAAIY,CAAC,EAAE,IAAIhB,MAAM,CAACK,SAAS,CAACC,cAAc,CAACC,IAAI,CAACS,CAAC,EAAEZ,CAAC,CAAC,EAC3DW,CAAC,CAACX,CAAC,CAAC,GAAGY,CAAC,CAACZ,CAAC,CAAC;IACnB;IACA,OAAOW,CAAC;EACZ,CAAC;EACD,OAAOF,QAAQ,CAACQ,KAAK,CAAC,IAAI,EAAEF,SAAS,CAAC;AAC1C,CAAC;AACD,IAAIG,aAAa,GAAI,IAAI,IAAI,IAAI,CAACA,aAAa,IAAK,UAAUC,EAAE,EAAEC,IAAI,EAAEC,IAAI,EAAE;EAC1E,IAAIA,IAAI,IAAIN,SAAS,CAACC,MAAM,KAAK,CAAC,EAAE,KAAK,IAAIH,CAAC,GAAG,CAAC,EAAES,CAAC,GAAGF,IAAI,CAACJ,MAAM,EAAEO,EAAE,EAAEV,CAAC,GAAGS,CAAC,EAAET,CAAC,EAAE,EAAE;IACjF,IAAIU,EAAE,IAAI,EAAEV,CAAC,IAAIO,IAAI,CAAC,EAAE;MACpB,IAAI,CAACG,EAAE,EAAEA,EAAE,GAAGxB,KAAK,CAACE,SAAS,CAACuB,KAAK,CAACrB,IAAI,CAACiB,IAAI,EAAE,CAAC,EAAEP,CAAC,CAAC;MACpDU,EAAE,CAACV,CAAC,CAAC,GAAGO,IAAI,CAACP,CAAC,CAAC;IACnB;EACJ;EACA,OAAOM,EAAE,CAACM,MAAM,CAACF,EAAE,IAAIxB,KAAK,CAACE,SAAS,CAACuB,KAAK,CAACrB,IAAI,CAACiB,IAAI,CAAC,CAAC;AAC5D,CAAC;AACD,OAAO,KAAKM,KAAK,MAAM,OAAO;AAC9B,OAAO,KAAKC,SAAS,MAAM,YAAY;AACvC,SAASC,UAAU,EAAEC,IAAI,EAAEC,IAAI,EAAEC,kBAAkB,EAAEC,cAAc,EAAEC,gBAAgB,EAAEC,QAAQ,QAAQ,8BAA8B;AACrI,SAASC,QAAQ,QAAQ,2BAA2B;AACpD,SAASC,aAAa,QAAQ,8BAA8B;AAC5D,OAAOC,aAAa,MAAM,yBAAyB;AACnD,OAAOC,IAAI,MAAM,gBAAgB;AACjC,OAAOC,OAAO,MAAM,WAAW;AAC/B,OAAOC,SAAS,MAAM,qBAAqB;AAC3C,OAAOC,YAAY,MAAM,wBAAwB;AACjD,SAASC,gBAAgB,QAAQ,sBAAsB;AACvD,SAASC,mBAAmB,EAAEC,YAAY,EAAEC,OAAO,EAAEC,eAAe,EAAEC,SAAS,EAAEC,uBAAuB,EAAEC,SAAS,QAAQ,iBAAiB;AAC5I,SAASC,eAAe,QAAQ,8BAA8B;AAC9D,SAASC,eAAe,QAAQ,qBAAqB;AACrD,OAAOC,WAAW,MAAM,uBAAuB;AAC/C,IAAIC,OAAO,GAAGrB,cAAc,CAACqB,OAAO;EAAEC,UAAU,GAAGtB,cAAc,CAACsB,UAAU;AAC5E,IAAIC,kBAAkB,GAAG,6BAA6B;AACtD,IAAIC,cAAc,GAAG,SAAAA,CAAUC,KAAK,EAAE;EAAE,OAAOA,KAAK,CAACD,cAAc,EAAE;AAAE,CAAC;AACxE,IAAIE,QAAQ,GAAG,SAAAA,CAAUC,IAAI,EAAE;EAAE,OAAOA,IAAI,KAAKC,eAAe,CAACC,UAAU;AAAE,CAAC;AAC9E,IAAID,eAAe;AACnB,CAAC,UAAUA,eAAe,EAAE;EACxBA,eAAe,CAACA,eAAe,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,GAAG,MAAM;EACrDA,eAAe,CAACA,eAAe,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,GAAG,UAAU;EAC7DA,eAAe,CAACA,eAAe,CAAC,YAAY,CAAC,GAAG,CAAC,CAAC,GAAG,YAAY;AACrE,CAAC,EAAEA,eAAe,KAAKA,eAAe,GAAG,CAAC,CAAC,CAAC,CAAC;AAC7C;AACA,IAAIE,yBAAyB,GAAG,aAAe,UAAUC,MAAM,EAAE;EAC7DvE,SAAS,CAACsE,yBAAyB,EAAEC,MAAM,CAAC;EAC5C,SAASD,yBAAyBA,CAACE,KAAK,EAAE;IACtC,IAAIC,KAAK,GAAGF,MAAM,CAAC5D,IAAI,CAAC,IAAI,EAAE6D,KAAK,CAAC,IAAI,IAAI;IAC5C;AACR;AACA;IACQC,KAAK,CAACC,KAAK,GAAG;MACVC,gBAAgB,EAAEzB,gBAAgB,CAAC0B;IACvC,CAAC;IACDH,KAAK,CAACI,QAAQ,GAAG,IAAI;IACrBJ,KAAK,CAACK,yBAAyB,GAAG,IAAI;IACtCL,KAAK,CAACM,QAAQ,GAAGzC,IAAI,EAAE;IACvBmC,KAAK,CAACO,IAAI,GAAG,IAAI/B,YAAY,CAACwB,KAAK,CAAC;IACpCA,KAAK,CAACQ,KAAK,GAAG,EAAE;IAChBR,KAAK,CAACS,MAAM,GAAG,IAAI;IACnBT,KAAK,CAACU,eAAe,GAAG,KAAK;IAC7BV,KAAK,CAACW,eAAe,GAAG,KAAK;IAC7B;AACR;AACA;IACQX,KAAK,CAACY,KAAK,GAAG,YAAY;MACtB,IAAIZ,KAAK,CAACS,MAAM,EAAE;QACdT,KAAK,CAACS,MAAM,CAACG,KAAK,EAAE;MACxB;IACJ,CAAC;IACD;AACR;AACA;IACQZ,KAAK,CAACa,gBAAgB,GAAG,UAAUC,KAAK,EAAEb,KAAK,EAAE;MAC7C,IAAIc,EAAE,GAAGf,KAAK,CAACD,KAAK;QAAEiB,EAAE,GAAGD,EAAE,CAACE,IAAI;QAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEE,WAAW,GAAGH,EAAE,CAACG,WAAW;QAAEC,OAAO,GAAGJ,EAAE,CAACI,OAAO;MACtH,IAAIC,IAAI,GAAGD,OAAO,GAAGA,OAAO,CAACC,IAAI,GAAG,CAAC;MACrC,IAAIC,QAAQ,GAAGJ,IAAI,CAACH,KAAK,GAAGM,IAAI,CAAC;MACjC,IAAIE,YAAY,GAAGtB,KAAK,CAACuB,KAAK,CAACC,SAAS,CAAC,UAAU5E,CAAC,EAAE;QAAE,OAAOgC,OAAO,CAAChC,CAAC,EAAEyE,QAAQ,EAAEH,WAAW,CAAC;MAAE,CAAC,CAAC;MACpG,IAAIO,QAAQ,GAAG,EAAE;MACjB,IAAIH,YAAY,KAAK,CAAC,CAAC,EAAE;QAAE;QACvBG,QAAQ,GAAGzB,KAAK,CAACuB,KAAK;QACtBE,QAAQ,CAACC,MAAM,CAACJ,YAAY,EAAE,CAAC,CAAC;MACpC,CAAC,MACI;QACDG,QAAQ,GAAGxE,aAAa,CAACA,aAAa,CAAC,EAAE,EAAE+C,KAAK,CAACuB,KAAK,EAAE,IAAI,CAAC,EAAE,CAACF,QAAQ,CAAC,EAAE,KAAK,CAAC;MACrF;MACA,IAAIM,IAAI,GAAG3B,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACnF,IAAIA,IAAI,EAAE;QACN,IAAI3B,KAAK,CAACC,KAAK,CAAC0B,IAAI,EAAE;UAClB1B,KAAK,CAACgB,IAAI,CAACU,IAAI,GAAG,EAAE;QACxB;QACA3B,KAAK,CAACO,IAAI,CAACuB,aAAa,CAAC,EAAE,EAAE7B,KAAK,CAAC;MACvC;MACA,IAAID,KAAK,CAACC,KAAK,CAAC8B,YAAY,KAAKF,SAAS,EAAE;QACxC5B,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;MACvC;MACA7B,KAAK,CAACgC,eAAe,CAACP,QAAQ,EAAExB,KAAK,CAAC;MACtCD,KAAK,CAACO,IAAI,CAAC0B,4BAA4B,CAACZ,QAAQ,EAAEpB,KAAK,CAAC;IAC5D,CAAC;IACD;AACR;AACA;IACQD,KAAK,CAACkC,WAAW,GAAG,UAAUC,aAAa,EAAE3C,KAAK,EAAE;MAChD,IAAI4C,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAInC,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5B,IAAI4C,MAAM,EAAE;QACRpC,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MACjC;MACA,IAAI,CAACD,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;QACtBvC,KAAK,CAACgB,IAAI,CAACuB,OAAO,GAAG,IAAI;QACzBxC,KAAK,CAACY,KAAK,EAAE;MACjB;MACA,IAAI6B,QAAQ,GAAGzC,KAAK,CAACuB,KAAK;MAC1B1C,eAAe,CAAC4D,QAAQ,EAAEN,aAAa,EAAEnC,KAAK,CAACD,KAAK,CAACmB,WAAW,CAAC;MACjElB,KAAK,CAACgC,eAAe,CAACS,QAAQ,EAAExC,KAAK,CAAC;MACtCD,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACD;AACR;AACA;IACQD,KAAK,CAAC2C,SAAS,GAAG,UAAU7B,KAAK,EAAEb,KAAK,EAAE;MACtC,IAAIc,EAAE,GAAGf,KAAK,CAACD,KAAK;QAAEiB,EAAE,GAAGD,EAAE,CAACE,IAAI;QAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAE4B,WAAW,GAAG7B,EAAE,CAAC6B,WAAW;QAAEzB,OAAO,GAAGJ,EAAE,CAACI,OAAO;MACtH,IAAIC,IAAI,GAAGD,OAAO,GAAGA,OAAO,CAACC,IAAI,GAAG,CAAC;MACrC,IAAIO,IAAI,GAAG3B,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACnF,IAAII,YAAY,GAAG/B,KAAK,CAAC6C,eAAe,EAAE,CAACd,YAAY;MACvD,IAAIe,UAAU,GAAGF,WAAW,IAAIjB,IAAI;MACpC,IAAIoB,eAAe,GAAG9B,IAAI,CAACH,KAAK,GAAGM,IAAI,CAAC;MACxC,IAAI2B,eAAe,IAAIhB,YAAY,KAAKjB,KAAK,EAAE;QAC3C,IAAId,KAAK,CAACC,KAAK,CAAC8B,YAAY,KAAKjB,KAAK,EAAE;UACpCb,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGjB,KAAK;UAC/Bb,KAAK,CAACgB,IAAI,CAACf,gBAAgB,GAAGzB,gBAAgB,CAAC0B,SAAS;QAC5D;MACJ,CAAC,MACI,IAAI2C,UAAU,IAAIhC,KAAK,KAAK,CAAC,CAAC,EAAE;QACjC,IAAId,KAAK,CAACC,KAAK,CAAC8B,YAAY,KAAKF,SAAS,EAAE;UACxC5B,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;QACvC;MACJ;MACA7B,KAAK,CAACO,IAAI,CAAC0B,4BAA4B,CAACc,eAAe,EAAE9C,KAAK,CAAC;IACnE,CAAC;IACDD,KAAK,CAACgD,YAAY,GAAG,UAAUC,OAAO,EAAE;MACpCjD,KAAK,CAACI,QAAQ,GAAG6C,OAAO;MACxBjD,KAAK,CAACO,IAAI,CAAC2C,OAAO,GAAGD,OAAO;IAChC,CAAC;IACDjD,KAAK,CAACmD,YAAY,GAAG,UAAUC,SAAS,EAAE;MACtC,IAAIC,KAAK,GAAGrD,KAAK,CAACS,MAAM,GAAG2C,SAAS,IAAIA,SAAS,CAACC,KAAK;MACvD,IAAIA,KAAK,IAAIrD,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;QAC9Bc,MAAM,CAACC,UAAU,CAAC,YAAY;UAAE,OAAOF,KAAK,CAACzC,KAAK,EAAE;QAAE,CAAC,EAAE,CAAC,CAAC;MAC/D;IACJ,CAAC;IACDZ,KAAK,CAACwD,eAAe,GAAG,UAAUhE,KAAK,EAAE;MACrC,IAAIS,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClC,IAAId,KAAK,GAAG/B,KAAK,CAACiE,aAAa,CAAClC,KAAK;MACrC,IAAIa,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvFnC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5B,IAAIQ,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,EAAE;QAClC5B,KAAK,CAACgB,IAAI,CAACU,IAAI,GAAGJ,KAAK;MAC3B;MACAtB,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;MACnC,IAAI,CAACO,MAAM,EAAE;QACTpC,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MACjC;MACAD,KAAK,CAACO,IAAI,CAACuB,aAAa,CAACP,KAAK,EAAEtB,KAAK,CAAC;MACtCD,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAAC0D,gBAAgB,GAAG,UAAUlE,KAAK,EAAE;MACtC,IAAI4C,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAInC,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5BA,KAAK,CAACmE,eAAe,EAAE;MACvB,IAAI3D,KAAK,CAACuB,KAAK,CAACxE,MAAM,GAAG,CAAC,EAAE;QACxBiD,KAAK,CAACgC,eAAe,CAAC,EAAE,EAAE/B,KAAK,CAAC;MACpC;MACA,IAAID,KAAK,CAACC,KAAK,CAAC8B,YAAY,KAAKF,SAAS,EAAE;QACxC5B,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;MACvC;MACA,IAAIO,MAAM,EAAE;QACRpC,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MACjC;MACA,IAAI0B,IAAI,GAAG3B,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACnF,IAAI7C,SAAS,CAAC6C,IAAI,CAAC,IAAIA,IAAI,KAAK,EAAE,EAAE;QAChC3B,KAAK,CAACO,IAAI,CAACuB,aAAa,CAAC,EAAE,EAAE7B,KAAK,CAAC;MACvC;MACA,IAAID,KAAK,CAACC,KAAK,CAAC0B,IAAI,EAAE;QAClB1B,KAAK,CAACgB,IAAI,CAACU,IAAI,GAAG,EAAE;MACxB;MACA3B,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAAC4D,cAAc,GAAG,UAAUpE,KAAK,EAAE;MACpC,IAAIqE,OAAO,GAAGrE,KAAK,CAACqE,OAAO;MAC3B,IAAIlC,IAAI,GAAG3B,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACnF,IAAIS,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAI0B,WAAW,GAAG9D,KAAK,CAAC6C,eAAe,EAAE,CAACiB,WAAW;MACrD,IAAI7D,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5B,IAAI,CAACmC,IAAI,IAAI3B,KAAK,CAACuB,KAAK,CAACxE,MAAM,GAAG,CAAC,KAC9B8G,OAAO,KAAKjG,IAAI,CAACmG,IAAI,IAAIF,OAAO,KAAKjG,IAAI,CAACoG,KAAK,IAC5CH,OAAO,KAAKjG,IAAI,CAACqG,IAAI,IAAIJ,OAAO,KAAKjG,IAAI,CAACsG,GAAG,IAC7CL,OAAO,KAAKjG,IAAI,CAACuG,MAAM,IAAIN,OAAO,KAAKjG,IAAI,CAACwG,SAAS,CAAC,EAAE;QAC5D,OAAOpE,KAAK,CAACqE,cAAc,CAAC7E,KAAK,EAAES,KAAK,CAAC;MAC7C;MACA,IAAIsC,WAAW,GAAG,SAAAA,CAAA,EAAY;QAC1B/C,KAAK,CAACD,cAAc,EAAE;QACtBS,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;QAC7BD,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;MAC3B,CAAC;MACD,IAAImC,MAAM,EAAE;QACR,IAAI5C,KAAK,CAAC8E,MAAM,IAAIT,OAAO,KAAKjG,IAAI,CAAC2G,EAAE,EAAE;UACrChC,WAAW,EAAE;QACjB,CAAC,MACI,IAAIsB,OAAO,KAAKjG,IAAI,CAAC2G,EAAE,IAAIV,OAAO,KAAKjG,IAAI,CAAC4G,IAAI,EAAE;UACnDhF,KAAK,CAACD,cAAc,EAAE;UACtBS,KAAK,CAACyE,UAAU,CAACxE,KAAK,EAAE4D,OAAO,CAAC;QACpC,CAAC,MACI,IAAIA,OAAO,KAAKjG,IAAI,CAAC8G,KAAK,EAAE;UAC7BlF,KAAK,CAACD,cAAc,EAAE;UACtB,IAAIS,KAAK,CAACD,KAAK,CAAC6C,WAAW,IAAIjB,IAAI,IAAImC,WAAW,KAAK,IAAI,EAAE;YACzD9D,KAAK,CAAC2E,gBAAgB,CAACnF,KAAK,CAAC;UACjC,CAAC,MACI;YACDQ,KAAK,CAAC4E,iBAAiB,CAACpF,KAAK,CAAC;UAClC;QACJ,CAAC,MACI,IAAIqE,OAAO,KAAKjG,IAAI,CAACiH,GAAG,EAAE;UAC3BtC,WAAW,EAAE;QACjB;MACJ,CAAC,MACI,IAAI/C,KAAK,CAAC8E,MAAM,IAAIT,OAAO,KAAKjG,IAAI,CAAC4G,IAAI,EAAE;QAC5CjC,WAAW,EAAE;MACjB;IACJ,CAAC;IACDvC,KAAK,CAAC8E,mBAAmB,GAAG,YAAY;MACpC,IAAI/D,EAAE,EAAEC,EAAE;MACV,IAAIT,IAAI,GAAGP,KAAK,CAACO,IAAI;MACrB,IAAIwE,EAAE,GAAG/E,KAAK,CAACD,KAAK;QAAEiF,MAAM,GAAGD,EAAE,CAACC,MAAM;QAAEC,MAAM,GAAGF,EAAE,CAACE,MAAM;QAAErC,WAAW,GAAGmC,EAAE,CAACnC,WAAW;QAAEsC,GAAG,GAAGH,EAAE,CAACG,GAAG;QAAEC,EAAE,GAAGJ,EAAE,CAAC9D,IAAI;QAAEA,IAAI,GAAGkE,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEC,IAAI,GAAGL,EAAE,CAACK,IAAI;MACtK,IAAIC,aAAa,GAAGrF,KAAK,CAACO,IAAI,CAAC+E,gBAAgB,EAAE;MACjD,IAAIlD,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAIT,IAAI,GAAG3B,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACnF,IAAI4D,UAAU,GAAGF,aAAa,CAACG,KAAK,KAAK3D,SAAS,GAAGwD,aAAa,CAACG,KAAK,GAAGjF,IAAI,CAACgF,UAAU;MAC1F,IAAIE,kBAAkB,GAAG;QACrBP,GAAG,EAAEA,GAAG,KAAKrD,SAAS,GAAGqD,GAAG,GAAG3E,IAAI,CAACmF,aAAa;QACjDF,KAAK,EAAED,UAAU;QACjBF,aAAa,EAAE;UACXM,UAAU,EAAEhI,UAAU,CAAC0H,aAAa,CAACM,UAAU,EAAE,kBAAkB,EAAE,qBAAqB,CAAC;UAC3FC,SAAS,EAAEP,aAAa,CAACO,SAAS;UAClCC,OAAO,EAAER,aAAa,CAACQ,OAAO;UAC9BC,MAAM,EAAE9F,KAAK,CAACiD,OAAO;UACrB8C,IAAI,EAAE3D,MAAM;UACZ4D,MAAM,EAAEhG,KAAK,CAACiG,aAAa;UAC3BC,OAAO,EAAElG,KAAK,CAACmG,aAAa;UAC5BC,QAAQ,EAAEf,aAAa,CAACe;QAC5B,CAAC;QACDC,UAAU,EAAE,CAACpF,IAAI,CAAClE,MAAM,EAAEiD,KAAK,CAACuB,KAAK,CAACxE,MAAM;MAChD,CAAC;MACD,IAAIuJ,WAAW,GAAGtG,KAAK,CAAC6C,eAAe,EAAE,CAACyD,WAAW;MACrD,IAAIxD,UAAU,GAAGF,WAAW,IAAIjB,IAAI,IAAKlE,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;QAAEX,SAAS,EAAEjI,UAAU,CAAC,QAAQ,GAAGoD,EAAE,GAAG,CAAC,CAAC,EACtGA,EAAE,CAAC,SAAS,CAACvD,MAAM,CAAC4B,OAAO,CAACgG,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGA,IAAI,EAClDrE,EAAE,EAAE;QAAEyF,GAAG,EAAE,YAAY;QAAEC,OAAO,EAAEzG,KAAK,CAAC2E,gBAAgB;QAAE+B,WAAW,EAAEnH;MAAe,CAAC,EAC3F9B,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;QAAEX,SAAS,EAAEjI,UAAU,CAAC,2BAA2B,EAAE;UAAE,SAAS,EAAE8B,QAAQ,CAAC6G,WAAW;QAAE,CAAC,CAAC;QAAEK,KAAK,EAAE;UAAEC,SAAS,EAAE;QAAS;MAAE,CAAC,EACnJjF,IAAI,EACJlE,KAAK,CAAC8I,aAAa,CAACtI,QAAQ,EAAE;QAAE4I,IAAI,EAAE,MAAM;QAAEC,IAAI,EAAE5I,QAAQ;QAAEyI,KAAK,EAAE;UAAEI,QAAQ,EAAE,UAAU;UAAE/C,KAAK,EAAE;QAAQ;MAAE,CAAC,CAAC,CAAC,CAAE;MAC3H,OAAQvG,KAAK,CAAC8I,aAAa,CAACnI,aAAa,EAAE5B,QAAQ,CAAC,CAAC,CAAC,EAAEiJ,kBAAkB,CAAC,EACvET,MAAM,IAAIvH,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;QAAEX,SAAS,EAAE;MAAgB,CAAC,EAAEZ,MAAM,CAAC,EAC5ElC,UAAU,EACVrF,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;QAAEX,SAAS,EAAEjI,UAAU,CAAC,QAAQ,GAAGqD,EAAE,GAAG,CAAC,CAAC,EAC7DA,EAAE,CAAC,SAAS,CAACxD,MAAM,CAAC4B,OAAO,CAACgG,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGA,IAAI,EAClDpE,EAAE,CAAC,gBAAgB,CAAC,GAAGhB,KAAK,CAACO,IAAI,CAACyG,EAAE,CAACC,OAAO,EAC5CjG,EAAE;MAAG,CAAC,EAAEhB,KAAK,CAACkH,UAAU,EAAE,CAAC,EACnCjC,MAAM,IAAIxH,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;QAAEX,SAAS,EAAE;MAAgB,CAAC,EAAEX,MAAM,CAAC,CAAC;IACrF,CAAC;IACDjF,KAAK,CAACkH,UAAU,GAAG,YAAY;MAC3B,IAAInG,EAAE,GAAGf,KAAK,CAACD,KAAK;QAAEiB,EAAE,GAAGD,EAAE,CAACE,IAAI;QAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;QAAEmG,SAAS,GAAGpG,EAAE,CAACoG,SAAS;QAAEC,gBAAgB,GAAGrG,EAAE,CAACqG,gBAAgB;QAAEC,UAAU,GAAGtG,EAAE,CAACsG,UAAU;QAAEnG,WAAW,GAAGH,EAAE,CAACG,WAAW;QAAEC,OAAO,GAAGJ,EAAE,CAACI,OAAO;MACpN,IAAI6F,EAAE,GAAGhH,KAAK,CAACO,IAAI,CAACyG,EAAE;MACtB,IAAI5F,IAAI,GAAGD,OAAO,GAAGA,OAAO,CAACC,IAAI,GAAG,CAAC;MACrC,IAAIgB,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAIL,YAAY,GAAG/B,KAAK,CAAC6C,eAAe,EAAE,CAACd,YAAY;MACvD,IAAIsD,aAAa,GAAGrF,KAAK,CAACO,IAAI,CAAC+E,gBAAgB,EAAE;MACjD,IAAIgC,SAAS,GAAG,aAAa,CAAC9J,MAAM,CAACwJ,EAAE,CAACM,SAAS,EAAE,KAAK,CAAC;MACzD,OAAQ7J,KAAK,CAAC8I,aAAa,CAAClI,IAAI,EAAE;QAAEkJ,EAAE,EAAEvH,KAAK,CAACO,IAAI,CAACiH,SAAS;QAAEzB,IAAI,EAAE3D,MAAM;QAAEnB,IAAI,EAAEA,IAAI,CAAC1D,KAAK,EAAE;QAAEwE,YAAY,EAAEA,YAAY,GAAGX,IAAI;QAAEG,KAAK,EAAEvB,KAAK,CAACuB,KAAK;QAAE4F,SAAS,EAAEA,SAAS;QAAEM,UAAU,EAAEvG,WAAW;QAAEwG,WAAW,EAAE1H,KAAK,CAACO,IAAI,CAAC1C,IAAI;QAAE8J,OAAO,EAAE,SAAAA,CAAUC,IAAI,EAAE;UAAEZ,EAAE,CAACY,IAAI,GAAG5H,KAAK,CAACO,IAAI,CAACqH,IAAI,GAAGA,IAAI;QAAE,CAAC;QAAEC,YAAY,EAAE;UAAEC,SAAS,EAAEzC,aAAa,CAAC0C;QAAO,CAAC;QAAEC,eAAe,EAAE,gBAAgB;QAAEC,SAAS,EAAEjB,EAAE,CAACC,OAAO,GAAG;UAAEiB,SAAS,EAAEZ;QAAU,CAAC,GAAGzF,SAAS;QAAE2E,GAAG,EAAE,SAAS;QAAEpF,IAAI,EAAEA,IAAI;QAAEqF,OAAO,EAAEzG,KAAK,CAACmI,eAAe;QAAEd,UAAU,EAAEA,UAAU;QAAEe,YAAY,EAAEhB,gBAAgB;QAAEV,WAAW,EAAEnH,cAAc;QAAE8I,MAAM,EAAErI,KAAK,CAACsI,UAAU;QAAEC,QAAQ,EAAE,SAAAA,CAAUC,CAAC,EAAE;UAClnBxB,EAAE,CAACyB,aAAa,CAACD,CAAC,CAAC;QACvB,CAAC;QAAEE,UAAU,EAAE1B,EAAE,CAAC2B,WAAW;QAAEC,QAAQ,EAAE5I,KAAK,CAACO,IAAI,CAACsI,mBAAmB;MAAG,CAAC,CAAC;IACpF,CAAC;IACD7I,KAAK,CAAC2E,gBAAgB,GAAG,UAAUnF,KAAK,EAAE;MACtC,IAAIuB,EAAE;MACN,IAAI+H,QAAQ,GAAG9I,KAAK,CAACD,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAAC6B,MAAM,GAAG5B,KAAK,CAACC,KAAK,CAAC0B,IAAI;MACvF,IAAIwF,SAAS,GAAGnH,KAAK,CAACD,KAAK,CAACoH,SAAS;MACrC,IAAI,CAAC2B,QAAQ,EAAE;QACX;MACJ;MACA,IAAI7I,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5B,IAAIuJ,IAAI,GAAG5B,SAAS,IAAIpG,EAAE,GAAG,CAAC,CAAC,EAAEA,EAAE,CAACoG,SAAS,CAAC,GAAG2B,QAAQ,EAAE/H,EAAE,IAAI+H,QAAQ;MACzE,IAAI9I,KAAK,CAACC,KAAK,CAAC0B,IAAI,KAAKE,SAAS,EAAE;QAChC5B,KAAK,CAACgB,IAAI,CAACU,IAAI,GAAG,EAAE;MACxB;MACA1B,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;MACnC7B,KAAK,CAACO,IAAI,CAACuB,aAAa,CAAC,EAAE,EAAE7B,KAAK,CAAC;MACnC,IAAIwB,QAAQ,GAAGxE,aAAa,CAACA,aAAa,CAAC,EAAE,EAAE+C,KAAK,CAACuB,KAAK,EAAE,IAAI,CAAC,EAAE,CAACwH,IAAI,CAAC,EAAE,KAAK,CAAC;MACjF/I,KAAK,CAACgC,eAAe,CAACP,QAAQ,EAAExB,KAAK,CAAC;MACtCD,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MAC7BD,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACgJ,kBAAkB,GAAG,UAAUxJ,KAAK,EAAE;MACxC,IAAI4C,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAIiB,KAAK,GAAGrD,KAAK,CAACS,MAAM;MACxB,IAAI,CAAC2B,MAAM,IAAIiB,KAAK,EAAE;QAClBrD,KAAK,CAACiJ,YAAY,CAAC5F,KAAK,CAAC;MAC7B;MACA,IAAIpD,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5B,IAAI,CAACQ,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;QACtBvC,KAAK,CAACiJ,MAAM,CAACC,IAAI,CAAC;UAAEzJ,IAAI,EAAE;QAAU,CAAC,CAAC;QACtCO,KAAK,CAACgB,IAAI,CAACuB,OAAO,GAAG,IAAI;MAC7B;MACAxC,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MAC7BD,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACmI,eAAe,GAAG,UAAUrH,KAAK,EAAEtB,KAAK,EAAE;MAC5C,IAAIS,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClCpC,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5BQ,KAAK,CAACa,gBAAgB,CAACC,KAAK,EAAEb,KAAK,CAAC;MACpC,IAAID,KAAK,CAACD,KAAK,CAACqJ,SAAS,EAAE;QACvBpJ,KAAK,CAACO,IAAI,CAACgC,WAAW,CAACtC,KAAK,CAAC;MACjC;MACAT,KAAK,CAACmE,eAAe,EAAE;MACvB3D,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACsI,UAAU,GAAG,UAAU9I,KAAK,EAAE;MAChC,IAAI,CAACQ,KAAK,CAACC,KAAK,CAACuC,OAAO,IAAIxC,KAAK,CAACU,eAAe,EAAE;QAC/C;MACJ;MACA,IAAI0B,MAAM,GAAGpC,KAAK,CAACD,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG7B,KAAK,CAACD,KAAK,CAACqC,MAAM,GAAGpC,KAAK,CAACC,KAAK,CAACmC,MAAM;MACvF,IAAInC,KAAK,GAAGD,KAAK,CAACO,IAAI,CAAC8B,SAAS,EAAE;MAClC,IAAItB,EAAE,GAAGf,KAAK,CAACD,KAAK;QAAE6C,WAAW,GAAG7B,EAAE,CAAC6B,WAAW;QAAEyG,UAAU,GAAGtI,EAAE,CAACsI,UAAU;MAC9EpJ,KAAK,CAACqC,cAAc,GAAG9C,KAAK;MAC5BS,KAAK,CAACgB,IAAI,CAACuB,OAAO,GAAG,KAAK;MAC1BvC,KAAK,CAACiJ,MAAM,CAACC,IAAI,CAAC;QAAEzJ,IAAI,EAAE;MAAS,CAAC,CAAC;MACrC,IAAI0C,MAAM,EAAE;QACR,IAAIpC,KAAK,CAACC,KAAK,CAACmC,MAAM,EAAE;UACpBnC,KAAK,CAACgB,IAAI,CAACmB,MAAM,GAAG,KAAK;QAC7B;QACAnC,KAAK,CAACiJ,MAAM,CAACC,IAAI,CAAC;UAAEzJ,IAAI,EAAE;QAAU,CAAC,CAAC;MAC1C;MACA,IAAI,CAACkD,WAAW,IAAI,CAACyG,UAAU,IAAIrJ,KAAK,CAACC,KAAK,CAAC0B,IAAI,EAAE;QACjD1B,KAAK,CAACgB,IAAI,CAACU,IAAI,GAAG,EAAE;MACxB;MACA3B,KAAK,CAAC0C,UAAU,CAACzC,KAAK,CAAC;IAC3B,CAAC;IACDD,KAAK,CAACsJ,WAAW,GAAG,UAAU9J,KAAK,EAAE;MACjC,IAAIQ,KAAK,CAACU,eAAe,EAAE;QACvB;MACJ;MACAV,KAAK,CAACO,IAAI,CAAC+I,WAAW,CAAC9J,KAAK,CAAC;IACjC,CAAC;IACDQ,KAAK,CAACiG,aAAa,GAAG,YAAY;MAC9B,IAAIjG,KAAK,CAACS,MAAM,IAAIT,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;QACrCxC,KAAK,CAACiJ,YAAY,CAACjJ,KAAK,CAACS,MAAM,CAAC;MACpC;IACJ,CAAC;IACDT,KAAK,CAACmG,aAAa,GAAG,YAAY;MAC9B,IAAInG,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;QACrBc,MAAM,CAACC,UAAU,CAAC,YAAY;UAAE,IAAIvD,KAAK,CAACC,KAAK,CAACuC,OAAO,EAAE;YACrDxC,KAAK,CAACiJ,YAAY,CAACjJ,KAAK,CAACS,MAAM,CAAC;UACpC;QAAE,CAAC,EAAE,CAAC,CAAC;MACX;IACJ,CAAC;IACDT,KAAK,CAACuJ,WAAW,GAAG,YAAY;MAC5B,IAAIvJ,KAAK,CAACS,MAAM,IAAIT,KAAK,CAACS,MAAM,CAAC+I,iBAAiB,EAAE;QAChDxJ,KAAK,CAACS,MAAM,CAAC+I,iBAAiB,CAACxJ,KAAK,CAACyJ,QAAQ,CAACC,KAAK,GAC7C,EAAE,GACF1J,KAAK,CAACD,KAAK,CAAC4J,iBAAiB,IAAIrK,kBAAkB,CAAC;MAC9D;IACJ,CAAC;IACDL,eAAe,CAACC,eAAe,CAAC;IAChC,OAAOc,KAAK;EAChB;EACArE,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,SAAS,EAAE;IAClE;AACR;AACA;IACQ6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAACzJ,QAAQ;IACxB,CAAC;IACD0J,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFpO,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,OAAO,EAAE;IAChE;AACR;AACA;IACQ6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAIG,MAAM,GAAG,EAAE;MACf,IAAI,IAAI,CAAC3J,yBAAyB,EAAE;QAChC2J,MAAM,CAACb,IAAI,CAACnM,KAAK,CAACgN,MAAM,EAAE,IAAI,CAAC3J,yBAAyB,CAAC;MAC7D,CAAC,MACI,IAAI,IAAI,CAACN,KAAK,CAACwB,KAAK,EAAE;QACvByI,MAAM,CAACb,IAAI,CAACnM,KAAK,CAACgN,MAAM,EAAE,IAAI,CAACjK,KAAK,CAACwB,KAAK,CAAC;MAC/C,CAAC,MACI,IAAI,IAAI,CAACtB,KAAK,CAACsB,KAAK,EAAE;QACvByI,MAAM,CAACb,IAAI,CAACnM,KAAK,CAACgN,MAAM,EAAE,IAAI,CAAC/J,KAAK,CAACsB,KAAK,CAAC;MAC/C,CAAC,MACI,IAAI,IAAI,CAACxB,KAAK,CAACkK,YAAY,EAAE;QAC9BD,MAAM,CAACb,IAAI,CAACnM,KAAK,CAACgN,MAAM,EAAE,IAAI,CAACjK,KAAK,CAACkK,YAAY,CAAC;MACtD;MACA,OAAOD,MAAM;IACjB,CAAC;IACDF,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFpO,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,MAAM,EAAE;IAC/D;AACR;AACA;IACQ6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC9J,KAAK,CAAC8G,IAAI;IAC1B,CAAC;IACDiD,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFpO,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,UAAU,EAAE;IACnE;AACR;AACA;IACQ6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,IAAIK,WAAW,GAAG,IAAI,CAACnK,KAAK,CAAC4J,iBAAiB,KAAK9H,SAAS;MAC5D,IAAIsI,OAAO,GAAI,CAAC,IAAI,CAACC,QAAQ,IACrB,IAAI,CAAC7I,KAAK,KAAK,IAAI,IAAI,IAAI,CAACA,KAAK,CAACxE,MAAM,GAAG,CAAC,IAAI,IAAI,CAACwE,KAAK,KAAKM,SAAW;MAClF,IAAI6H,KAAK,GAAG,IAAI,CAAC3J,KAAK,CAAC2J,KAAK,KAAK7H,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAAC2J,KAAK,GAAGS,OAAO;MACvE,OAAO;QACHD,WAAW,EAAEA,WAAW;QACxBR,KAAK,EAAEA,KAAK;QACZW,YAAY,EAAE,IAAI,CAAC9I,KAAK,KAAK;MACjC,CAAC;IACL,CAAC;IACDuI,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFpO,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,UAAU,EAAE;IACnE;AACR;AACA;IACQ6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC9J,KAAK,CAACqK,QAAQ,KAAKvI,SAAS,GAClC,IAAI,CAAC9B,KAAK,CAACqK,QAAQ,GACnBvK,yBAAyB,CAACyK,YAAY,CAACF,QAAQ;IACzD,CAAC;IACDN,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACFpO,MAAM,CAACiO,cAAc,CAAC/J,yBAAyB,CAAC7D,SAAS,EAAE,gBAAgB,EAAE;IACzE6N,GAAG,EAAE,SAAAA,CAAA,EAAY;MACb,OAAO,IAAI,CAAC9J,KAAK,CAACwK,cAAc,KAAK1I,SAAS,GACxC,IAAI,CAAC9B,KAAK,CAACwK,cAAc,GACzB1K,yBAAyB,CAACyK,YAAY,CAACC,cAAc;IAC/D,CAAC;IACDT,UAAU,EAAE,KAAK;IACjBC,YAAY,EAAE;EAClB,CAAC,CAAC;EACF;AACJ;AACA;EACIlK,yBAAyB,CAAC7D,SAAS,CAACwO,kBAAkB,GAAG,UAAUC,SAAS,EAAEC,SAAS,EAAE;IACrF,IAAIvJ,OAAO,GAAG,IAAI,CAACpB,KAAK,CAACoB,OAAO;IAChC,IAAIC,IAAI,GAAGD,OAAO,GAAGA,OAAO,CAACC,IAAI,GAAG,CAAC;IACrC,IAAIuJ,SAAS,GAAGF,SAAS,CAACtJ,OAAO,GAAGsJ,SAAS,CAACtJ,OAAO,CAACyJ,KAAK,GAAG,CAAC;IAC/D,IAAIxI,MAAM,GAAG,IAAI,CAACrC,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAACqC,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM;IACpF,IAAIyI,UAAU,GAAGJ,SAAS,CAACrI,MAAM,KAAKP,SAAS,GAAG4I,SAAS,CAACrI,MAAM,GAAGsI,SAAS,CAACtI,MAAM;IACrF,IAAI0I,OAAO,GAAG,CAACD,UAAU,IAAIzI,MAAM;IACnC,IAAI2I,OAAO,GAAGF,UAAU,IAAI,CAACzI,MAAM;IACnC,IAAIiD,aAAa,GAAG,IAAI,CAAC9E,IAAI,CAAC+E,gBAAgB,EAAE;IAChD,IAAI,CAACD,aAAa,CAACQ,OAAO,IAAIkF,OAAO,EAAE;MACnC,IAAI,CAAC5E,aAAa,EAAE;IACxB;IACA,IAAIhF,OAAO,IAAIA,OAAO,CAACyJ,KAAK,KAAKD,SAAS,EAAE;MACxC,IAAI,CAACpK,IAAI,CAACyG,EAAE,CAACgE,uBAAuB,EAAE;MACtC,IAAI,CAACzK,IAAI,CAACyG,EAAE,CAACiE,KAAK,EAAE;IACxB,CAAC,MACI;MACD,IAAIlK,EAAE,GAAG,IAAI,CAAC8B,eAAe,EAAE;QAAEiB,WAAW,GAAG/C,EAAE,CAAC+C,WAAW;QAAE/B,YAAY,GAAGhB,EAAE,CAACgB,YAAY;MAC7F,IAAI+I,OAAO,IAAI3J,OAAO,EAAE;QACpB,IAAI,CAACZ,IAAI,CAAC2K,mBAAmB,CAAC/J,OAAO,EAAEY,YAAY,GAAGX,IAAI,CAAC;MAC/D,CAAC,MACI,IAAI0J,OAAO,IAAI,CAAC3J,OAAO,EAAE;QAC1B,IAAI,CAACZ,IAAI,CAAC4K,YAAY,CAACpJ,YAAY,CAAC;MACxC,CAAC,MACI,IAAIK,MAAM,IAAIyI,UAAU,IAAI/G,WAAW,IAAI,IAAI,CAACnD,eAAe,EAAE;QAClE,IAAI,CAACJ,IAAI,CAAC4K,YAAY,CAACpJ,YAAY,GAAGX,IAAI,CAAC;MAC/C;IACJ;IACA,IAAI,CAACT,eAAe,GAAG,KAAK;IAC5B,IAAI,CAAC4I,WAAW,EAAE;EACtB,CAAC;EACD;AACJ;AACA;EACI1J,yBAAyB,CAAC7D,SAAS,CAACoP,iBAAiB,GAAG,YAAY;IAChE,IAAI,CAAC7K,IAAI,CAAC8K,QAAQ,EAAE;IACpB,IAAI,CAAC9B,WAAW,EAAE;EACtB,CAAC;EACD;AACJ;AACA;EACI1J,yBAAyB,CAAC7D,SAAS,CAACyI,UAAU,GAAG,UAAUxE,KAAK,EAAE4D,OAAO,EAAE;IACvE,IAAI9C,EAAE,GAAG,IAAI,CAAChB,KAAK;MAAE6C,WAAW,GAAG7B,EAAE,CAAC6B,WAAW;MAAE5B,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;IAC/F,IAAIoB,MAAM,GAAG,IAAI,CAACrC,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAACqC,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM;IACpF,IAAIT,IAAI,GAAG,IAAI,CAAC5B,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAAC6B,MAAM,GAAG,IAAI,CAAC3B,KAAK,CAAC0B,IAAI;IAChF,IAAIoD,EAAE,GAAG,IAAI,CAAClC,eAAe,EAAE;MAAEyD,WAAW,GAAGvB,EAAE,CAACuB,WAAW;MAAEvE,YAAY,GAAGgD,EAAE,CAAChD,YAAY;IAC7F,IAAIe,UAAU,GAAGF,WAAW,IAAIjB,IAAI;IACpC,IAAI2J,iBAAiB,GAAG7L,QAAQ,CAAC6G,WAAW,CAAC;IAC7C,IAAI/F,IAAI,GAAG,IAAI,CAACA,IAAI;IACpB,IAAIyG,EAAE,GAAGzG,IAAI,CAACyG,EAAE;IAChB,IAAI5E,MAAM,IAAIyB,OAAO,KAAKjG,IAAI,CAAC2G,EAAE,IAAI+G,iBAAiB,EAAE;MACpD,IAAI,IAAI,CAACrL,KAAK,CAAC8B,YAAY,KAAKF,SAAS,EAAE;QACvC5B,KAAK,CAACgB,IAAI,CAACc,YAAY,GAAGF,SAAS;MACvC;IACJ,CAAC,MACI;MACD,IAAI0J,UAAU,GAAGhL,IAAI,CAACiL,UAAU,CAACC,QAAQ,CAAC;QACtC5H,OAAO,EAAEA,OAAO;QAChB6H,OAAO,EAAE3J,YAAY;QACrB4J,GAAG,EAAE,CAAC3E,EAAE,CAACC,OAAO,GAAGD,EAAE,CAAC4D,KAAK,GAAG3J,IAAI,CAAClE,MAAM,IAAI,CAAC;QAC9C6O,GAAG,EAAE9I,UAAU,GAAG,CAAC,CAAC,GAAG;MAC3B,CAAC,CAAC;MACF,IAAIyI,UAAU,KAAK1J,SAAS,EAAE;QAC1B,IAAI,CAACc,SAAS,CAAC4I,UAAU,EAAEtL,KAAK,CAAC;QACjC,IAAI,CAACU,eAAe,GAAG,IAAI;MAC/B;IACJ;IACA,IAAI,CAAC+B,UAAU,CAACzC,KAAK,CAAC;EAC1B,CAAC;EACD;AACJ;AACA;EACIJ,yBAAyB,CAAC7D,SAAS,CAAC6P,MAAM,GAAG,YAAY;IACrD,IAAI9K,EAAE,EAAEC,EAAE;IACV,IAAI+D,EAAE,GAAG,IAAI,CAAChF,KAAK;MAAE4G,KAAK,GAAG5B,EAAE,CAAC4B,KAAK;MAAEf,SAAS,GAAGb,EAAE,CAACa,SAAS;MAAEkG,KAAK,GAAG/G,EAAE,CAAC+G,KAAK;MAAE5G,GAAG,GAAGH,EAAE,CAACG,GAAG;MAAE6G,QAAQ,GAAGhH,EAAE,CAACgH,QAAQ;MAAEC,IAAI,GAAGjH,EAAE,CAACiH,IAAI;MAAE7E,SAAS,GAAGpC,EAAE,CAACoC,SAAS;MAAEjG,WAAW,GAAG6D,EAAE,CAAC7D,WAAW;MAAEC,OAAO,GAAG4D,EAAE,CAAC5D,OAAO;MAAEiE,IAAI,GAAGL,EAAE,CAACK,IAAI;MAAE6G,OAAO,GAAGlH,EAAE,CAACkH,OAAO;MAAEC,QAAQ,GAAGnH,EAAE,CAACmH,QAAQ;MAAEC,OAAO,GAAGpH,EAAE,CAACoH,OAAO;MAAEvK,MAAM,GAAGmD,EAAE,CAACnD,MAAM;IAC7T,IAAIuD,EAAE,GAAG,IAAI,CAAClF,KAAK;MAAE0B,IAAI,GAAGwD,EAAE,CAACxD,IAAI;MAAEa,OAAO,GAAG2C,EAAE,CAAC3C,OAAO;MAAE4J,UAAU,GAAGjH,EAAE,CAACiH,UAAU;IACrF,IAAIpF,EAAE,GAAG,IAAI,CAACzG,IAAI,CAACyG,EAAE;IACrB,IAAIO,EAAE,GAAG,IAAI,CAACxH,KAAK,CAACwH,EAAE,IAAI,IAAI,CAACjH,QAAQ;IACvC0G,EAAE,CAACC,OAAO,GAAG9F,OAAO,KAAKU,SAAS;IAClC,IAAIV,OAAO,KAAKU,SAAS,EAAE;MACvBmF,EAAE,CAAC5F,IAAI,GAAGD,OAAO,CAACC,IAAI;MACtB4F,EAAE,CAAC4D,KAAK,GAAGzJ,OAAO,CAACyJ,KAAK;MACxB5D,EAAE,CAACqF,QAAQ,GAAGlL,OAAO,CAACkL,QAAQ;IAClC;IACA,IAAIC,YAAY,GAAG,EAAE;IACrB,IAAIN,IAAI,KAAKnK,SAAS,EAAE;MACpB,IAAI,CAACN,KAAK,CAACgL,OAAO,CAAC,UAAUxD,IAAI,EAAE;QAC/BuD,YAAY,CAACnD,IAAI,CAAC;UAAExH,IAAI,EAAEhD,YAAY,CAACoK,IAAI,EAAE5B,SAAS,CAAC;UAAElG,IAAI,EAAE,CAAC8H,IAAI;QAAE,CAAC,CAAC;MAC5E,CAAC,CAAC;IACN,CAAC,MACI;MACDuD,YAAY,CAACnD,IAAI,CAACnM,KAAK,CAACsP,YAAY,EAAEN,IAAI,CAAC;IAC/C;IACA,IAAI,CAACQ,QAAQ,CAACF,YAAY,EAAE,IAAI,CAAC9L,KAAK,CAAC;IACvC,IAAI2J,OAAO,GAAG,CAAC,IAAI,CAACI,cAAc,IAAI,IAAI,CAACd,QAAQ,CAACC,KAAK;IACzD,IAAI+C,WAAW,GAAGC,OAAO,CAAC9K,MAAM,KAAKC,SAAS,GAAGD,MAAM,GAAGD,IAAI,CAAC,IAAI,IAAI,CAACJ,KAAK,CAACxE,MAAM,GAAG,CAAC;IACxF,IAAI4P,SAAS,GAAIlP,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;MAAEqG,GAAG,EAAE,IAAI,CAAC5J,YAAY;MAAE4C,SAAS,EAAEjI,UAAU,CAAC,uBAAuB,EAAEiI,SAAS,GAAG7E,EAAE,GAAG,CAAC,CAAC,EAChIA,EAAE,CAAC,UAAU,CAACvD,MAAM,CAAC4B,OAAO,CAACgG,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGA,IAAI,EACnDrE,EAAE,CAAC,YAAY,CAACvD,MAAM,CAAC6B,UAAU,CAAC4M,OAAO,CAAC,IAAIA,OAAO,CAAC,CAAC,GAAGA,OAAO,EACjElL,EAAE,CAAC,UAAU,CAACvD,MAAM,CAAC0O,QAAQ,CAAC,CAAC,GAAGA,QAAQ,EAC1CnL,EAAE,CAAC,SAAS,CAAC,GAAGyB,OAAO,IAAI,CAACuJ,QAAQ,EACpChL,EAAE,CAAC,WAAW,CAAC,GAAG,CAACoJ,OAAO,EAC1BpJ,EAAE,CAAC,YAAY,CAAC,GAAGgL,QAAQ,EAC3BhL,EAAE,CAAC,WAAW,CAAC,GAAGoL,OAAO,EACzBpL,EAAE,CAAC,YAAY,CAAC,GAAG,IAAI,CAACqJ,QAAQ,EAChCrJ,EAAE,EAAE;MAAE4F,KAAK,EAAE,CAACmF,KAAK,GACjBnF,KAAK,GACLnK,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEmK,KAAK,CAAC,EAAE;QAAEnB,KAAK,EAAE3D;MAAU,CAAC,CAAC;MAAEqD,GAAG,EAAEA,GAAG;MAAE2H,OAAO,EAAE,IAAI,CAACvD,WAAW;MAAEjB,MAAM,EAAE,IAAI,CAACC,UAAU;MAAE7B,OAAO,EAAE,IAAI,CAACuC,kBAAkB;MAAEtC,WAAW,EAAE3H;IAAwB,CAAC,EACjMtB,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;MAAEX,SAAS,EAAEjI,UAAU,CAAC,gBAAgB;IAAE,CAAC,EAClEF,KAAK,CAAC8I,aAAa,CAAC,KAAK,EAAE;MAAEX,SAAS,EAAEjI,UAAU,CAAC,aAAa,GAAGqD,EAAE,GAAG,CAAC,CAAC,EAClEA,EAAE,CAAC,cAAc,CAACxD,MAAM,CAAC4B,OAAO,CAACgG,IAAI,CAAC,IAAIA,IAAI,CAAC,CAAC,GAAGA,IAAI,EACvDpE,EAAE,EAAE;MAAE8L,IAAI,EAAE,SAAS;MAAEvF,EAAE,EAAE,WAAW,GAAG,IAAI,CAAChH,IAAI,CAAC1C;IAAK,CAAC,EAAEyO,YAAY,CAACvP,MAAM,GAAG,CAAC,IAAIU,KAAK,CAAC8I,aAAa,CAACjI,OAAO,EAAE;MAAEyO,SAAS,EAAE,IAAI,CAAChN,KAAK,CAACgN,SAAS;MAAE7K,WAAW,EAAE,IAAI,CAACA,WAAW;MAAEjB,IAAI,EAAEqL,YAAY;MAAEzO,IAAI,EAAE,IAAI,CAAC0C,IAAI,CAAC1C,IAAI;MAAE2E,OAAO,EAAE4J,UAAU,GAAGE,YAAY,CAACU,IAAI,CAAC,UAAUtQ,CAAC,EAAE;QAAE,OAAOsC,SAAS,CAACtC,CAAC,EAAE0P,UAAU,EAAElL,WAAW,CAAC;MAAE,CAAC,CAAC,GAAGW,SAAS;MAAEuD,IAAI,EAAEA;IAAK,CAAC,CAAC,CAAC,EAC1W,IAAI,CAAC6H,eAAe,CAAC1F,EAAE,CAAC,CAAC,EAC7B4E,OAAO,IAAI1O,KAAK,CAAC8I,aAAa,CAACtI,QAAQ,EAAE;MAAE2H,SAAS,EAAE,sBAAsB;MAAEiB,IAAI,EAAE;IAAU,CAAC,CAAC,EAChG4F,WAAW,IAAIhP,KAAK,CAAC8I,aAAa,CAACpH,WAAW,EAAE;MAAEsH,OAAO,EAAE,IAAI,CAAC/C;IAAiB,CAAC,CAAC,EACnF,IAAI,CAACoB,mBAAmB,EAAE,CAAE;IAChC,OAAOgH,KAAK,GAAIrO,KAAK,CAAC8I,aAAa,CAACpI,aAAa,EAAE;MAAE2N,KAAK,EAAEA,KAAK;MAAEoB,QAAQ,EAAE3F,EAAE;MAAE4F,WAAW,EAAExL,IAAI,IAAIhD,YAAY,CAAC,IAAI,CAAC4C,KAAK,CAAC,CAAC,CAAC,EAAE4F,SAAS,CAAC;MAAEiG,WAAW,EAAEjD,OAAO;MAAEkD,cAAc,EAAEtB,QAAQ;MAAEpF,KAAK,EAAE;QAAEnB,KAAK,EAAEmB,KAAK,GAAGA,KAAK,CAACnB,KAAK,GAAG3D;MAAU,CAAC;MAAEyL,QAAQ,EAAEX;IAAU,CAAC,CAAC,GAAIA,SAAS;EACxR,CAAC;EACD9M,yBAAyB,CAAC7D,SAAS,CAACiR,eAAe,GAAG,UAAU1F,EAAE,EAAE;IAChE,IAAIxG,EAAE,GAAG,IAAI,CAACd,KAAK;MAAEC,gBAAgB,GAAGa,EAAE,CAACb,gBAAgB;MAAEkM,UAAU,GAAGrL,EAAE,CAACqL,UAAU;IACvF,IAAIpL,EAAE,GAAG,IAAI,CAACjB,KAAK;MAAEgM,QAAQ,GAAG/K,EAAE,CAAC+K,QAAQ;MAAEwB,WAAW,GAAGvM,EAAE,CAACuM,WAAW;MAAEC,eAAe,GAAGxM,EAAE,CAACwM,eAAe;IAC/G,IAAI7L,IAAI,GAAG,CAAC,IAAI,CAAC5B,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAAC6B,MAAM,GAAG,IAAI,CAAC3B,KAAK,CAAC0B,IAAI,KAAK,EAAE;IACxF,IAAIS,MAAM,GAAG,IAAI,CAACrC,KAAK,CAACqC,MAAM,KAAKP,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAACqC,MAAM,GAAG,IAAI,CAACnC,KAAK,CAACmC,MAAM;IACpF,IAAIL,YAAY,GAAG,IAAI,CAACc,eAAe,EAAE,CAACd,YAAY;IACtD,IAAI0L,iBAAiB,GAAG,IAAI,CAAClM,KAAK,CAACxE,MAAM,KAAK,CAAC,IAAI,CAAC4E,IAAI,GAAG4L,WAAW,GAAG1L,SAAS;IAClF,IAAI6L,oBAAoB,GAAGxN,gBAAgB,KAAKzB,gBAAgB,CAACkP,QAAQ,IAAIvB,UAAU,KAAKvK,SAAS,GACjG,MAAM,CAACrE,MAAM,CAAC,IAAI,CAAC+C,IAAI,CAAC1C,IAAI,EAAE,GAAG,CAAC,CAACL,MAAM,CAAC4O,UAAU,CAACzK,IAAI,CAACiM,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC,GAC/E,SAAS,CAACpQ,MAAM,CAAC,IAAI,CAAC+C,IAAI,CAAC1C,IAAI,EAAE,GAAG,CAAC,CAACL,MAAM,CAACuE,YAAY,CAAC;IAC9D,OAAQtE,KAAK,CAAC8I,aAAa,CAAChI,SAAS,EAAE;MAAEgJ,EAAE,EAAEA,EAAE;MAAEnC,IAAI,EAAEyI,IAAI,CAAClC,GAAG,CAAC,CAAC8B,iBAAiB,IAAI,EAAE,EAAE1Q,MAAM,EAAE4E,IAAI,CAAC5E,MAAM,EAAE,CAAC,CAAC;MAAE+Q,QAAQ,EAAE,IAAI,CAAC/N,KAAK,CAAC+N,QAAQ;MAAEC,SAAS,EAAE,IAAI,CAAChO,KAAK,CAACgO,SAAS;MAAER,WAAW,EAAEE,iBAAiB;MAAElM,KAAK,EAAEI,IAAI;MAAEqM,QAAQ,EAAE,IAAI,CAACxK,eAAe;MAAEyK,SAAS,EAAE,IAAI,CAACrK,cAAc;MAAEgJ,GAAG,EAAE,IAAI,CAACzJ,YAAY;MAAE4I,QAAQ,EAAEA,QAAQ;MAAEmC,QAAQ,EAAE9L,MAAM;MAAE+L,IAAI,EAAE,IAAI,CAAC5N,IAAI,CAACiH,SAAS;MAAEsF,IAAI,EAAE,UAAU;MAAE5M,gBAAgB,EAAEwN,oBAAoB;MAAEF,eAAe,EAAE,WAAW,CAAChQ,MAAM,CAAC,IAAI,CAAC+C,IAAI,CAAC1C,IAAI,CAAC,CAACL,MAAM,CAACgQ,eAAe,GAAI,GAAG,GAAGA,eAAe,GAAI,EAAE,CAAC;MAAEY,cAAc,EAAE,IAAI,CAACrO,KAAK,CAACqO,cAAc;MAAEC,YAAY,EAAE,IAAI,CAACjE;IAAS,CAAC,CAAC;EAC5mB,CAAC;EACDvK,yBAAyB,CAAC7D,SAAS,CAACqI,cAAc,GAAG,UAAU7E,KAAK,EAAES,KAAK,EAAE;IACzE,IAAI4D,OAAO,GAAGrE,KAAK,CAACqE,OAAO;IAC3B,IAAIuI,UAAU,GAAG,IAAI,CAACnM,KAAK,CAACmM,UAAU;IACtC,IAAIJ,IAAI,GAAG,IAAI,CAACxL,KAAK;IACrB,IAAI8N,QAAQ,GAAG,IAAI,CAACvO,KAAK,CAACmB,WAAW;IACrC,IAAIa,YAAY,GAAGqK,UAAU,GACzBJ,IAAI,CAACxK,SAAS,CAAC,UAAU9E,CAAC,EAAE;MAAE,OAAOsC,SAAS,CAACtC,CAAC,EAAE0P,UAAU,EAAEkC,QAAQ,CAAC;IAAE,CAAC,CAAC,GAAG,CAAC,CAAC;IACpF,IAAIC,aAAa,GAAG1M,SAAS;IAC7B,IAAI2M,UAAU,GAAGzM,YAAY,KAAK,CAAC,CAAC;IACpC,IAAI8B,OAAO,KAAKjG,IAAI,CAACmG,IAAI,EAAE;MACvB,IAAIyK,UAAU,EAAE;QACZzM,YAAY,GAAG8L,IAAI,CAAClC,GAAG,CAAC,CAAC,EAAE5J,YAAY,GAAG,CAAC,CAAC;MAChD,CAAC,MACI;QACDA,YAAY,GAAGiK,IAAI,CAACjP,MAAM,GAAG,CAAC;MAClC;MACAwR,aAAa,GAAGvC,IAAI,CAACjK,YAAY,CAAC;IACtC,CAAC,MACI,IAAI8B,OAAO,KAAKjG,IAAI,CAACoG,KAAK,EAAE;MAC7B,IAAIjC,YAAY,KAAKiK,IAAI,CAACjP,MAAM,GAAG,CAAC,EAAE;QAClCwR,aAAa,GAAG1M,SAAS;MAC7B,CAAC,MACI,IAAI2M,UAAU,EAAE;QACjBzM,YAAY,GAAG8L,IAAI,CAACjC,GAAG,CAACI,IAAI,CAACjP,MAAM,GAAG,CAAC,EAAEgF,YAAY,GAAG,CAAC,CAAC;QAC1DwM,aAAa,GAAGvC,IAAI,CAACjK,YAAY,CAAC;MACtC;IACJ,CAAC,MACI,IAAI8B,OAAO,KAAKjG,IAAI,CAACqG,IAAI,EAAE;MAC5BsK,aAAa,GAAGvC,IAAI,CAAC,CAAC,CAAC;IAC3B,CAAC,MACI,IAAInI,OAAO,KAAKjG,IAAI,CAACsG,GAAG,EAAE;MAC3BqK,aAAa,GAAGvC,IAAI,CAACA,IAAI,CAACjP,MAAM,GAAG,CAAC,CAAC;IACzC,CAAC,MACI,IAAI8G,OAAO,KAAKjG,IAAI,CAACuG,MAAM,EAAE;MAC9B,IAAIqK,UAAU,EAAE;QACZ,IAAIC,KAAK,GAAG,IAAI,CAAClN,KAAK;QACtB1C,eAAe,CAAC4P,KAAK,EAAEzC,IAAI,CAACjK,YAAY,CAAC,CAACd,IAAI,EAAEqN,QAAQ,CAAC;QACzD,IAAI,CAACtM,eAAe,CAACyM,KAAK,EAAExO,KAAK,CAAC;MACtC;IACJ,CAAC,MACI,IAAI4D,OAAO,KAAKjG,IAAI,CAACwG,SAAS,EAAE;MACjC,IAAIqK,KAAK,GAAG,IAAI,CAAClN,KAAK;MACtB,IAAIiN,UAAU,EAAE;QACZ3P,eAAe,CAAC4P,KAAK,EAAEzC,IAAI,CAACjK,YAAY,CAAC,CAACd,IAAI,EAAEqN,QAAQ,CAAC;QACzD,IAAI,CAACtM,eAAe,CAACyM,KAAK,EAAExO,KAAK,CAAC;MACtC,CAAC,MACI,IAAI,CAACuO,UAAU,IAAIxC,IAAI,CAACjP,MAAM,EAAE;QACjC,IAAI2R,OAAO,GAAG1C,IAAI,CAAC2C,GAAG,EAAE;QACxB9P,eAAe,CAAC4P,KAAK,EAAEC,OAAO,CAACzN,IAAI,EAAEqN,QAAQ,CAAC;QAC9C,IAAI,CAACtM,eAAe,CAACyM,KAAK,EAAExO,KAAK,CAAC;MACtC;IACJ;IACA,IAAIsO,aAAa,KAAKnC,UAAU,EAAE;MAC9BnM,KAAK,CAACgB,IAAI,CAACmL,UAAU,GAAGmC,aAAa;MACrCtO,KAAK,CAACgB,IAAI,CAACf,gBAAgB,GAAGzB,gBAAgB,CAACkP,QAAQ;IAC3D;IACA,IAAI,CAACjL,UAAU,CAACzC,KAAK,CAAC;EAC1B,CAAC;EACDJ,yBAAyB,CAAC7D,SAAS,CAACgG,eAAe,GAAG,UAAUyM,KAAK,EAAExO,KAAK,EAAE;IAC1E,IAAI,IAAI,CAACF,KAAK,CAACwB,KAAK,KAAKM,SAAS,EAAE;MAChC5B,KAAK,CAACgB,IAAI,CAACM,KAAK,GAAGtE,aAAa,CAAC,EAAE,EAAEwR,KAAK,EAAE,IAAI,CAAC;IACrD;IACA,IAAI,CAACpO,yBAAyB,GAAG,EAAE;IACnC,IAAI,CAACmM,QAAQ,CAACiC,KAAK,EAAE,IAAI,CAACpO,yBAAyB,CAAC;IACpDJ,KAAK,CAACiJ,MAAM,CAACC,IAAI,CAAC;MAAEzJ,IAAI,EAAE;IAAW,CAAC,CAAC;EAC3C,CAAC;EACDG,yBAAyB,CAAC7D,SAAS,CAAC4I,iBAAiB,GAAG,UAAUpF,KAAK,EAAE;IACrE,IAAIuB,EAAE,GAAG,IAAI,CAAChB,KAAK;MAAEiB,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEG,OAAO,GAAGJ,EAAE,CAACI,OAAO;IACvF,IAAIY,YAAY,GAAG,IAAI,CAACc,eAAe,EAAE,CAACd,YAAY;IACtD,IAAIX,IAAI,GAAGD,OAAO,GAAGA,OAAO,CAACC,IAAI,GAAG,CAAC;IACrC,IAAIH,IAAI,CAACc,YAAY,GAAGX,IAAI,CAAC,KAAKS,SAAS,EAAE;MACzC,IAAI,CAACsG,eAAe,CAACpG,YAAY,EAAEvC,KAAK,CAAC;IAC7C;EACJ,CAAC;EACDK,yBAAyB,CAAC7D,SAAS,CAACwQ,QAAQ,GAAG,UAAUoC,QAAQ,EAAEC,SAAS,EAAE;IAC1EA,SAAS,CAAC9R,MAAM,GAAG,CAAC;IACpB8R,SAAS,CAAC1F,IAAI,CAACnM,KAAK,CAAC6R,SAAS,EAAED,QAAQ,CAAC;EAC7C,CAAC;EACD/O,yBAAyB,CAAC7D,SAAS,CAAC6G,eAAe,GAAG,YAAY;IAC9D,IAAId,YAAY,GAAG,IAAI,CAAC9B,KAAK,CAAC8B,YAAY;IAC1C,IAAIJ,IAAI,GAAG,IAAI,CAAC5B,KAAK,CAAC6B,MAAM,KAAKC,SAAS,GAAG,IAAI,CAAC9B,KAAK,CAAC6B,MAAM,GAAG,IAAI,CAAC3B,KAAK,CAAC0B,IAAI;IAChF,IAAIZ,EAAE,GAAG,IAAI,CAAChB,KAAK;MAAE6C,WAAW,GAAG7B,EAAE,CAAC6B,WAAW;MAAE5B,EAAE,GAAGD,EAAE,CAACE,IAAI;MAAEA,IAAI,GAAGD,EAAE,KAAK,KAAK,CAAC,GAAG,EAAE,GAAGA,EAAE;MAAEE,WAAW,GAAGH,EAAE,CAACG,WAAW;MAAEC,OAAO,GAAGJ,EAAE,CAACI,OAAO;MAAEgG,SAAS,GAAGpG,EAAE,CAACoG,SAAS;MAAEpC,EAAE,GAAGhE,EAAE,CAAC+N,gBAAgB;MAAEA,gBAAgB,GAAG/J,EAAE,KAAK,KAAK,CAAC,GAAGrG,mBAAmB,GAAGqG,EAAE;IACpQ,IAAI3D,IAAI,GAAID,OAAO,IAAIA,OAAO,CAACC,IAAI,IAAK,CAAC;IACzC,IAAI2N,UAAU;IACd,IAAIhN,YAAY,KAAKF,SAAS,EAAE;MAC5B,OAAO;QACHE,YAAY,EAAEA,YAAY;QAC1B+B,WAAW,EAAE7C,IAAI,CAACc,YAAY,GAAGX,IAAI,CAAC;QACtCkF,WAAW,EAAE3G,eAAe,CAACqP;MACjC,CAAC;IACL;IACA,IAAIvM,QAAQ,GAAG,IAAI,CAAClB,KAAK;IACzB,IAAIqB,WAAW,IAAIjB,IAAI,EAAE;MACrB,OAAO;QAAEmC,WAAW,EAAE,IAAI;QAAE/B,YAAY,EAAE,CAAC,CAAC;QAAEuE,WAAW,EAAE3G,eAAe,CAACC;MAAW,CAAC;IAC3F,CAAC,MACI,IAAI+B,IAAI,EAAE;MACXoN,UAAU,GAAGD,gBAAgB,CAAC7N,IAAI,EAAEU,IAAI,EAAEwF,SAAS,CAAC;MACpD,OAAO;QACHrD,WAAW,EAAE7C,IAAI,CAAC8N,UAAU,CAAC;QAC7BhN,YAAY,EAAEgN,UAAU,GAAG3N,IAAI;QAC/BkF,WAAW,EAAE3G,eAAe,CAACqP;MACjC,CAAC;IACL,CAAC,MACI,IAAIvM,QAAQ,CAAC1F,MAAM,EAAE;MACtB,IAAIkS,MAAM,GAAGxM,QAAQ,CAACA,QAAQ,CAAC1F,MAAM,GAAG,CAAC,CAAC;MAC1CgS,UAAU,GAAG9N,IAAI,CAACO,SAAS,CAAC,UAAU5E,CAAC,EAAE;QAAE,OAAOgC,OAAO,CAAChC,CAAC,EAAEqS,MAAM,EAAE/N,WAAW,CAAC;MAAE,CAAC,CAAC;MACrF,IAAID,IAAI,CAAC8N,UAAU,CAAC,KAAKlN,SAAS,EAAE;QAChC,OAAO;UACHE,YAAY,EAAEgN,UAAU,GAAG3N,IAAI;UAC/B0C,WAAW,EAAE7C,IAAI,CAAC8N,UAAU,CAAC;UAC7BzI,WAAW,EAAE3G,eAAe,CAACqP;QACjC,CAAC;MACL;MACA,OAAO;QAAE1I,WAAW,EAAE3G,eAAe,CAACuP,IAAI;QAAEnN,YAAY,EAAE,CAAC;MAAE,CAAC;IAClE;IACA,OAAOX,IAAI,KAAK,CAAC,GACb;MAAE0C,WAAW,EAAE7C,IAAI,CAAC,CAAC,CAAC;MAAEc,YAAY,EAAE,CAAC;MAAEuE,WAAW,EAAE3G,eAAe,CAACqP;IAAS,CAAC,GAChF;MAAE1I,WAAW,EAAE3G,eAAe,CAACuP,IAAI;MAAEnN,YAAY,EAAE,CAAC;IAAE,CAAC;EAC/D,CAAC;EACDlC,yBAAyB,CAAC7D,SAAS,CAACiN,YAAY,GAAG,UAAUhG,OAAO,EAAE;IAClE,IAAIjD,KAAK,GAAG,IAAI;IAChB,IAAI,CAACU,eAAe,GAAG,IAAI;IAC3BuC,OAAO,CAACrC,KAAK,EAAE;IACf0C,MAAM,CAACC,UAAU,CAAC,YAAY;MAAE,OAAOvD,KAAK,CAACU,eAAe,GAAG,KAAK;IAAE,CAAC,EAAE,CAAC,CAAC;EAC/E,CAAC;EACDb,yBAAyB,CAAC7D,SAAS,CAAC0G,UAAU,GAAG,UAAUzC,KAAK,EAAE;IAC9D,IAAI,CAACM,IAAI,CAACmC,UAAU,CAACzC,KAAK,CAAC;IAC3B,IAAI,CAACI,yBAAyB,GAAG,IAAI;EACzC,CAAC;EACDR,yBAAyB,CAACsP,WAAW,GAAG,aAAa;EACrD;AACJ;AACA;EACItP,yBAAyB,CAACuP,SAAS,GAAG5S,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEgC,YAAY,CAAC4Q,SAAS,CAAC,EAAE;IAAEhG,SAAS,EAAE1L,SAAS,CAAC2R,IAAI;IAAE9N,KAAK,EAAE7D,SAAS,CAAC4R,OAAO,CAAC5R,SAAS,CAAC6R,GAAG,CAAC;IAAEtF,YAAY,EAAEvM,SAAS,CAAC4R,OAAO,CAAC5R,SAAS,CAAC6R,GAAG,CAAC;IAAErO,WAAW,EAAExD,SAAS,CAAC8R,MAAM;IAAEjC,WAAW,EAAE7P,SAAS,CAAC8R,MAAM;IAAExD,IAAI,EAAEtO,SAAS,CAAC4R,OAAO,CAAC5R,SAAS,CAAC+R,KAAK,CAAC;MACzS9N,IAAI,EAAEjE,SAAS,CAAC8R,MAAM;MACtBvO,IAAI,EAAEvD,SAAS,CAAC4R,OAAO,CAAC5R,SAAS,CAAC6R,GAAG;IACzC,CAAC,CAAC,CAAC;IAAExC,SAAS,EAAErP,SAAS,CAACgS,IAAI;IAAEnI,EAAE,EAAE7J,SAAS,CAAC8R,MAAM;IAAEpB,cAAc,EAAE1Q,SAAS,CAAC8R,MAAM;IAAEhC,eAAe,EAAE9P,SAAS,CAAC8R;EAAO,CAAC,CAAC;EAChI;AACJ;AACA;EACI3P,yBAAyB,CAACyK,YAAY,GAAG9N,QAAQ,CAACA,QAAQ,CAAC,CAAC,CAAC,EAAEgC,YAAY,CAAC8L,YAAY,CAAC,EAAE;IAAElB,SAAS,EAAE,IAAI;IAAEgB,QAAQ,EAAE,KAAK;IAAEhF,IAAI,EAAE,QAAQ;IAAE6G,OAAO,EAAE,QAAQ;IAAEC,QAAQ,EAAE;EAAQ,CAAC,CAAC;EACtL,OAAOrM,yBAAyB;AACpC,CAAC,CAACpC,KAAK,CAACkS,SAAS,CAAE;AACnB,SAAS9P,yBAAyB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI+P,uBAAuB,GAAG9R,kBAAkB,EAAE;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO,IAAI+R,WAAW,GAAG7R,gBAAgB,CAAC4R,uBAAuB,EAAE/P,yBAAyB,CAAC;AAC7FgQ,WAAW,CAACV,WAAW,GAAG,uBAAuB"},"metadata":{},"sourceType":"module","externalDependencies":[]}